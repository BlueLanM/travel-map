var UE=Object.defineProperty;var YE=(a,t,i)=>t in a?UE(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i;var vf=(a,t,i)=>YE(a,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(r){if(r.ep)return;r.ep=!0;const u=i(r);fetch(r.href,u)}})();var Ef={exports:{}},gr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function XE(){if(jy)return gr;jy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,r,u){var c=null;if(u!==void 0&&(c=""+u),r.key!==void 0&&(c=""+r.key),"key"in r){u={};for(var h in r)h!=="key"&&(u[h]=r[h])}else u=r;return r=u.ref,{$$typeof:a,type:s,key:c,ref:r!==void 0?r:null,props:u}}return gr.Fragment=t,gr.jsx=i,gr.jsxs=i,gr}var ky;function FE(){return ky||(ky=1,Ef.exports=XE()),Ef.exports}var me=FE(),Sf={exports:{}},mr={},xf={exports:{}},Tf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function BE(){return Zy||(Zy=1,(function(a){function t(I,k){var Q=I.length;I.push(k);t:for(;0<Q;){var tt=Q-1>>>1,lt=I[tt];if(0<r(lt,k))I[tt]=k,I[Q]=lt,Q=tt;else break t}}function i(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var k=I[0],Q=I.pop();if(Q!==k){I[0]=Q;t:for(var tt=0,lt=I.length,b=lt>>>1;tt<b;){var Y=2*(tt+1)-1,W=I[Y],$=Y+1,F=I[$];if(0>r(W,Q))$<lt&&0>r(F,W)?(I[tt]=F,I[$]=Q,tt=$):(I[tt]=W,I[Y]=Q,tt=Y);else if($<lt&&0>r(F,Q))I[tt]=F,I[$]=Q,tt=$;else break t}}return k}function r(I,k){var Q=I.sortIndex-k.sortIndex;return Q!==0?Q:I.id-k.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();a.unstable_now=function(){return c.now()-h}}var d=[],m=[],_=1,p=null,v=3,S=!1,x=!1,C=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function M(I){for(var k=i(m);k!==null;){if(k.callback===null)s(m);else if(k.startTime<=I)s(m),k.sortIndex=k.expirationTime,t(d,k);else break;k=i(m)}}function z(I){if(C=!1,M(I),!x)if(i(d)!==null)x=!0,K||(K=!0,it());else{var k=i(m);k!==null&&et(z,k.startTime-I)}}var K=!1,B=-1,V=5,j=-1;function J(){return R?!0:!(a.unstable_now()-j<V)}function rt(){if(R=!1,K){var I=a.unstable_now();j=I;var k=!0;try{t:{x=!1,C&&(C=!1,w(B),B=-1),S=!0;var Q=v;try{e:{for(M(I),p=i(d);p!==null&&!(p.expirationTime>I&&J());){var tt=p.callback;if(typeof tt=="function"){p.callback=null,v=p.priorityLevel;var lt=tt(p.expirationTime<=I);if(I=a.unstable_now(),typeof lt=="function"){p.callback=lt,M(I),k=!0;break e}p===i(d)&&s(d),M(I)}else s(d);p=i(d)}if(p!==null)k=!0;else{var b=i(m);b!==null&&et(z,b.startTime-I),k=!1}}break t}finally{p=null,v=Q,S=!1}k=void 0}}finally{k?it():K=!1}}}var it;if(typeof D=="function")it=function(){D(rt)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,ft=nt.port2;nt.port1.onmessage=rt,it=function(){ft.postMessage(null)}}else it=function(){T(rt,0)};function et(I,k){B=T(function(){I(a.unstable_now())},k)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(I){I.callback=null},a.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<I?Math.floor(1e3/I):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(I){switch(v){case 1:case 2:case 3:var k=3;break;default:k=v}var Q=v;v=k;try{return I()}finally{v=Q}},a.unstable_requestPaint=function(){R=!0},a.unstable_runWithPriority=function(I,k){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Q=v;v=I;try{return k()}finally{v=Q}},a.unstable_scheduleCallback=function(I,k,Q){var tt=a.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?tt+Q:tt):Q=tt,I){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=Q+lt,I={id:_++,callback:k,priorityLevel:I,startTime:Q,expirationTime:lt,sortIndex:-1},Q>tt?(I.sortIndex=Q,t(m,I),i(d)===null&&I===i(m)&&(C?(w(B),B=-1):C=!0,et(z,Q-tt))):(I.sortIndex=lt,t(d,I),x||S||(x=!0,K||(K=!0,it()))),I},a.unstable_shouldYield=J,a.unstable_wrapCallback=function(I){var k=v;return function(){var Q=v;v=k;try{return I.apply(this,arguments)}finally{v=Q}}}})(Tf)),Tf}var Py;function HE(){return Py||(Py=1,xf.exports=BE()),xf.exports}var Cf={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function jE(){if(Ky)return _t;Ky=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function S(b){return b===null||typeof b!="object"?null:(b=v&&b[v]||b["@@iterator"],typeof b=="function"?b:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function T(b,Y,W){this.props=b,this.context=Y,this.refs=R,this.updater=W||x}T.prototype.isReactComponent={},T.prototype.setState=function(b,Y){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,Y,"setState")},T.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function w(){}w.prototype=T.prototype;function D(b,Y,W){this.props=b,this.context=Y,this.refs=R,this.updater=W||x}var M=D.prototype=new w;M.constructor=D,C(M,T.prototype),M.isPureReactComponent=!0;var z=Array.isArray;function K(){}var B={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function j(b,Y,W){var $=W.ref;return{$$typeof:a,type:b,key:Y,ref:$!==void 0?$:null,props:W}}function J(b,Y){return j(b.type,Y,b.props)}function rt(b){return typeof b=="object"&&b!==null&&b.$$typeof===a}function it(b){var Y={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(W){return Y[W]})}var nt=/\/+/g;function ft(b,Y){return typeof b=="object"&&b!==null&&b.key!=null?it(""+b.key):Y.toString(36)}function et(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(K,K):(b.status="pending",b.then(function(Y){b.status==="pending"&&(b.status="fulfilled",b.value=Y)},function(Y){b.status==="pending"&&(b.status="rejected",b.reason=Y)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function I(b,Y,W,$,F){var dt=typeof b;(dt==="undefined"||dt==="boolean")&&(b=null);var gt=!1;if(b===null)gt=!0;else switch(dt){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(b.$$typeof){case a:case t:gt=!0;break;case _:return gt=b._init,I(gt(b._payload),Y,W,$,F)}}if(gt)return F=F(b),gt=$===""?"."+ft(b,0):$,z(F)?(W="",gt!=null&&(W=gt.replace(nt,"$&/")+"/"),I(F,Y,W,"",function(ce){return ce})):F!=null&&(rt(F)&&(F=J(F,W+(F.key==null||b&&b.key===F.key?"":(""+F.key).replace(nt,"$&/")+"/")+gt)),Y.push(F)),1;gt=0;var kt=$===""?".":$+":";if(z(b))for(var wt=0;wt<b.length;wt++)$=b[wt],dt=kt+ft($,wt),gt+=I($,Y,W,dt,F);else if(wt=S(b),typeof wt=="function")for(b=wt.call(b),wt=0;!($=b.next()).done;)$=$.value,dt=kt+ft($,wt++),gt+=I($,Y,W,dt,F);else if(dt==="object"){if(typeof b.then=="function")return I(et(b),Y,W,$,F);throw Y=String(b),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return gt}function k(b,Y,W){if(b==null)return b;var $=[],F=0;return I(b,$,"","",function(dt){return Y.call(W,dt,F++)}),$}function Q(b){if(b._status===-1){var Y=b._result;Y=Y(),Y.then(function(W){(b._status===0||b._status===-1)&&(b._status=1,b._result=W)},function(W){(b._status===0||b._status===-1)&&(b._status=2,b._result=W)}),b._status===-1&&(b._status=0,b._result=Y)}if(b._status===1)return b._result.default;throw b._result}var tt=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},lt={map:k,forEach:function(b,Y,W){k(b,function(){Y.apply(this,arguments)},W)},count:function(b){var Y=0;return k(b,function(){Y++}),Y},toArray:function(b){return k(b,function(Y){return Y})||[]},only:function(b){if(!rt(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return _t.Activity=p,_t.Children=lt,_t.Component=T,_t.Fragment=i,_t.Profiler=r,_t.PureComponent=D,_t.StrictMode=s,_t.Suspense=d,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,_t.__COMPILER_RUNTIME={__proto__:null,c:function(b){return B.H.useMemoCache(b)}},_t.cache=function(b){return function(){return b.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(b,Y,W){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var $=C({},b.props),F=b.key;if(Y!=null)for(dt in Y.key!==void 0&&(F=""+Y.key),Y)!V.call(Y,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&Y.ref===void 0||($[dt]=Y[dt]);var dt=arguments.length-2;if(dt===1)$.children=W;else if(1<dt){for(var gt=Array(dt),kt=0;kt<dt;kt++)gt[kt]=arguments[kt+2];$.children=gt}return j(b.type,F,$)},_t.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:u,_context:b},b},_t.createElement=function(b,Y,W){var $,F={},dt=null;if(Y!=null)for($ in Y.key!==void 0&&(dt=""+Y.key),Y)V.call(Y,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(F[$]=Y[$]);var gt=arguments.length-2;if(gt===1)F.children=W;else if(1<gt){for(var kt=Array(gt),wt=0;wt<gt;wt++)kt[wt]=arguments[wt+2];F.children=kt}if(b&&b.defaultProps)for($ in gt=b.defaultProps,gt)F[$]===void 0&&(F[$]=gt[$]);return j(b,dt,F)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(b){return{$$typeof:h,render:b}},_t.isValidElement=rt,_t.lazy=function(b){return{$$typeof:_,_payload:{_status:-1,_result:b},_init:Q}},_t.memo=function(b,Y){return{$$typeof:m,type:b,compare:Y===void 0?null:Y}},_t.startTransition=function(b){var Y=B.T,W={};B.T=W;try{var $=b(),F=B.S;F!==null&&F(W,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(K,tt)}catch(dt){tt(dt)}finally{Y!==null&&W.types!==null&&(Y.types=W.types),B.T=Y}},_t.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},_t.use=function(b){return B.H.use(b)},_t.useActionState=function(b,Y,W){return B.H.useActionState(b,Y,W)},_t.useCallback=function(b,Y){return B.H.useCallback(b,Y)},_t.useContext=function(b){return B.H.useContext(b)},_t.useDebugValue=function(){},_t.useDeferredValue=function(b,Y){return B.H.useDeferredValue(b,Y)},_t.useEffect=function(b,Y){return B.H.useEffect(b,Y)},_t.useEffectEvent=function(b){return B.H.useEffectEvent(b)},_t.useId=function(){return B.H.useId()},_t.useImperativeHandle=function(b,Y,W){return B.H.useImperativeHandle(b,Y,W)},_t.useInsertionEffect=function(b,Y){return B.H.useInsertionEffect(b,Y)},_t.useLayoutEffect=function(b,Y){return B.H.useLayoutEffect(b,Y)},_t.useMemo=function(b,Y){return B.H.useMemo(b,Y)},_t.useOptimistic=function(b,Y){return B.H.useOptimistic(b,Y)},_t.useReducer=function(b,Y,W){return B.H.useReducer(b,Y,W)},_t.useRef=function(b){return B.H.useRef(b)},_t.useState=function(b){return B.H.useState(b)},_t.useSyncExternalStore=function(b,Y,W){return B.H.useSyncExternalStore(b,Y,W)},_t.useTransition=function(){return B.H.useTransition()},_t.version="19.2.4",_t}var qy;function md(){return qy||(qy=1,Cf.exports=jE()),Cf.exports}var Rf={exports:{}},Ae={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function kE(){if(Vy)return Ae;Vy=1;var a=md();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(d,m,_){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:d,containerInfo:m,implementation:_}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ae.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ae.createPortal=function(d,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(d,m,null,_)},Ae.flushSync=function(d){var m=c.T,_=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=m,s.p=_,s.d.f()}},Ae.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(d,m))},Ae.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Ae.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var _=m.as,p=h(_,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?s.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:S}):_==="script"&&s.d.X(d,{crossOrigin:p,integrity:v,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ae.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);s.d.M(d,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(d)},Ae.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,p=h(_,m.crossOrigin);s.d.L(d,_,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ae.preloadModule=function(d,m){if(typeof d=="string")if(m){var _=h(m.as,m.crossOrigin);s.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(d)},Ae.requestFormReset=function(d){s.d.r(d)},Ae.unstable_batchedUpdates=function(d,m){return d(m)},Ae.useFormState=function(d,m,_){return c.H.useFormState(d,m,_)},Ae.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ae.version="19.2.4",Ae}var Wy;function ZE(){if(Wy)return Rf.exports;Wy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Rf.exports=kE(),Rf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function PE(){if(Qy)return mr;Qy=1;var a=HE(),t=md(),i=ZE();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function c(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(s(188))}function m(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var l=e,o=n;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(o=f.return,o!==null){l=o;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return d(f),e;if(g===o)return d(f),n;g=g.sibling}throw Error(s(188))}if(l.return!==o.return)l=f,o=g;else{for(var y=!1,E=f.child;E;){if(E===l){y=!0,l=f,o=g;break}if(E===o){y=!0,o=f,l=g;break}E=E.sibling}if(!y){for(E=g.child;E;){if(E===l){y=!0,l=g,o=f;break}if(E===o){y=!0,o=g,l=f;break}E=E.sibling}if(!y)throw Error(s(189))}}if(l.alternate!==o)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),rt=Symbol.iterator;function it(e){return e===null||typeof e!="object"?null:(e=rt&&e[rt]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Symbol.for("react.client.reference");function ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===nt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case T:return"Profiler";case R:return"StrictMode";case z:return"Suspense";case K:return"SuspenseList";case j:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case D:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case M:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return n=e.displayName||null,n!==null?n:ft(e.type)||"Memo";case V:n=e._payload,e=e._init;try{return ft(e(n))}catch{}}return null}var et=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},tt=[],lt=-1;function b(e){return{current:e}}function Y(e){0>lt||(e.current=tt[lt],tt[lt]=null,lt--)}function W(e,n){lt++,tt[lt]=e.current,e.current=n}var $=b(null),F=b(null),dt=b(null),gt=b(null);function kt(e,n){switch(W(dt,n),W(F,e),W($,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?fy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=fy(n),e=dy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y($),W($,e)}function wt(){Y($),Y(F),Y(dt)}function ce(e){e.memoizedState!==null&&W(gt,e);var n=$.current,l=dy(n,e.type);n!==l&&(W(F,e),W($,l))}function Zn(e){F.current===e&&(Y($),Y(F)),gt.current===e&&(Y(gt),cr._currentValue=Q)}var Ii,Ni;function zn(e){if(Ii===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Ii=n&&n[1]||"",Ni=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ii+e+Ni}var Xe=!1;function Le(e,n){if(!e||Xe)return"";Xe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(X){var U=X}Reflect.construct(e,[],q)}else{try{q.call()}catch(X){U=X}e.call(q.prototype)}}else{try{throw Error()}catch(X){U=X}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(X){if(X&&U&&typeof X.stack=="string")return[X.stack,U.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),y=g[0],E=g[1];if(y&&E){var A=y.split(`
`),G=E.split(`
`);for(f=o=0;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(o===A.length||f===G.length)for(o=A.length-1,f=G.length-1;1<=o&&0<=f&&A[o]!==G[f];)f--;for(;1<=o&&0<=f;o--,f--)if(A[o]!==G[f]){if(o!==1||f!==1)do if(o--,f--,0>f||A[o]!==G[f]){var H=`
`+A[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=f);break}}}finally{Xe=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?zn(l):""}function fn(e,n){switch(e.tag){case 26:case 27:case 5:return zn(e.type);case 16:return zn("Lazy");case 13:return e.child!==n&&n!==null?zn("Suspense Fallback"):zn("Suspense");case 19:return zn("SuspenseList");case 0:case 15:return Le(e.type,!1);case 11:return Le(e.type.render,!1);case 1:return Le(e.type,!0);case 31:return zn("Activity");default:return""}}function In(e){try{var n="",l=null;do n+=fn(e,l),l=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Gi=Object.prototype.hasOwnProperty,si=a.unstable_scheduleCallback,Pn=a.unstable_cancelCallback,al=a.unstable_shouldYield,he=a.unstable_requestPaint,ze=a.unstable_now,rl=a.unstable_getCurrentPriorityLevel,Ui=a.unstable_ImmediatePriority,ol=a.unstable_UserBlockingPriority,Yi=a.unstable_NormalPriority,ul=a.unstable_LowPriority,bs=a.unstable_IdlePriority,oc=a.log,Qr=a.unstable_setDisableYieldValue,Xi=null,pe=null;function Kn(e){if(typeof oc=="function"&&Qr(e),pe&&typeof pe.setStrictMode=="function")try{pe.setStrictMode(Xi,e)}catch{}}var Ie=Math.clz32?Math.clz32:Ta,Jr=Math.log,$r=Math.LN2;function Ta(e){return e>>>=0,e===0?32:31-(Jr(e)/$r|0)|0}var As=256,cl=262144,Fi=4194304;function tn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qn(e,n,l){var o=e.pendingLanes;if(o===0)return 0;var f=0,g=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~g,o!==0?f=tn(o):(y&=E,y!==0?f=tn(y):l||(l=E&~e,l!==0&&(f=tn(l))))):(E=o&~g,E!==0?f=tn(E):y!==0?f=tn(y):l||(l=o&~e,l!==0&&(f=tn(l)))),f===0?0:n!==0&&n!==f&&(n&g)===0&&(g=f&-f,l=n&-n,g>=l||g===32&&(l&4194048)!==0)?n:f}function Nn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function to(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ca(){var e=Fi;return Fi<<=1,(Fi&62914560)===0&&(Fi=4194304),e}function be(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function en(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fe(e,n,l,o,f,g){var y=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var E=e.entanglements,A=e.expirationTimes,G=e.hiddenUpdates;for(l=y&~l;0<l;){var H=31-Ie(l),q=1<<H;E[H]=0,A[H]=-1;var U=G[H];if(U!==null)for(G[H]=null,H=0;H<U.length;H++){var X=U[H];X!==null&&(X.lane&=-536870913)}l&=~q}o!==0&&nn(e,o,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(y&~n))}function nn(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ie(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|l&261930}function Ne(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var o=31-Ie(l),f=1<<o;f&n|e[o]&n&&(e[o]|=n),l&=~f}}function dn(e,n){var l=n&-n;return l=(l&42)!==0?1:sn(l),(l&(e.suspendedLanes|n))!==0?0:l}function sn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fe(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:Gy(e.type))}function gn(e,n){var l=k.p;try{return k.p=e,n()}finally{k.p=l}}var Vn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Vn,Be="__reactProps$"+Vn,hl="__reactContainer$"+Vn,uc="__reactEvents$"+Vn,bv="__reactListeners$"+Vn,Av="__reactHandles$"+Vn,$d="__reactResources$"+Vn,Ra="__reactMarker$"+Vn;function cc(e){delete e[ve],delete e[Be],delete e[uc],delete e[bv],delete e[Av]}function fl(e){var n=e[ve];if(n)return n;for(var l=e.parentNode;l;){if(n=l[hl]||l[ve]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Ey(e);e!==null;){if(l=e[ve])return l;e=Ey(e)}return n}e=l,l=e.parentNode}return null}function dl(e){if(e=e[ve]||e[hl]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ba(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function gl(e){var n=e[$d];return n||(n=e[$d]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function de(e){e[Ra]=!0}var tg=new Set,eg={};function Ms(e,n){ml(e,n),ml(e+"Capture",n)}function ml(e,n){for(eg[e]=n,e=0;e<n.length;e++)tg.add(n[e])}var Mv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ng={},ig={};function wv(e){return Gi.call(ig,e)?!0:Gi.call(ng,e)?!1:Mv.test(e)?ig[e]=!0:(ng[e]=!0,!1)}function eo(e,n,l){if(wv(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function no(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function li(e,n,l,o){if(o===null)e.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+o)}}function mn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sg(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ov(e,n,l){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(y){l=""+y,g.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function hc(e){if(!e._valueTracker){var n=sg(e)?"checked":"value";e._valueTracker=Ov(e,n,""+e[n])}}function lg(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),o="";return e&&(o=sg(e)?e.checked?"true":"false":e.value),e=o,e!==l?(n.setValue(e),!0):!1}function io(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Dv=/[\n"\\]/g;function _n(e){return e.replace(Dv,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fc(e,n,l,o,f,g,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+mn(n)):e.value!==""+mn(n)&&(e.value=""+mn(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?dc(e,y,mn(n)):l!=null?dc(e,y,mn(l)):o!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+mn(E):e.removeAttribute("name")}function ag(e,n,l,o,f,g,y,E){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||n!=null)){hc(e);return}l=l!=null?""+mn(l):"",n=n!=null?""+mn(n):l,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),hc(e)}function dc(e,n,l){n==="number"&&io(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function _l(e,n,l,o){if(e=e.options,n){n={};for(var f=0;f<l.length;f++)n["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=n.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&o&&(e[l].defaultSelected=!0)}else{for(l=""+mn(l),n=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function rg(e,n,l){if(n!=null&&(n=""+mn(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+mn(l):""}function og(e,n,l,o){if(n==null){if(o!=null){if(l!=null)throw Error(s(92));if(et(o)){if(1<o.length)throw Error(s(93));o=o[0]}l=o}l==null&&(l=""),n=l}l=mn(n),e.defaultValue=l,o=e.textContent,o===l&&o!==""&&o!==null&&(e.value=o),hc(e)}function yl(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Lv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ug(e,n,l){var o=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,l):typeof l!="number"||l===0||Lv.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function cg(e,n,l){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,l!=null){for(var o in l)!l.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&l[f]!==o&&ug(e,f,o)}else for(var g in n)n.hasOwnProperty(g)&&ug(e,g,n[g])}function gc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Iv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(e){return Iv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ai(){}var mc=null;function _c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pl=null,vl=null;function hg(e){var n=dl(e);if(n&&(e=n.stateNode)){var l=e[Be]||null;t:switch(e=n.stateNode,n.type){case"input":if(fc(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_n(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var o=l[n];if(o!==e&&o.form===e.form){var f=o[Be]||null;if(!f)throw Error(s(90));fc(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<l.length;n++)o=l[n],o.form===e.form&&lg(o)}break t;case"textarea":rg(e,l.value,l.defaultValue);break t;case"select":n=l.value,n!=null&&_l(e,!!l.multiple,n,!1)}}}var yc=!1;function fg(e,n,l){if(yc)return e(n,l);yc=!0;try{var o=e(n);return o}finally{if(yc=!1,(pl!==null||vl!==null)&&(Po(),pl&&(n=pl,e=vl,vl=pl=null,hg(n),e)))for(n=0;n<e.length;n++)hg(e[n])}}function Aa(e,n){var l=e.stateNode;if(l===null)return null;var o=l[Be]||null;if(o===null)return null;l=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,n,typeof l));return l}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pc=!1;if(ri)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){pc=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{pc=!1}var Bi=null,vc=null,lo=null;function dg(){if(lo)return lo;var e,n=vc,l=n.length,o,f="value"in Bi?Bi.value:Bi.textContent,g=f.length;for(e=0;e<l&&n[e]===f[e];e++);var y=l-e;for(o=1;o<=y&&n[l-o]===f[g-o];o++);return lo=f.slice(e,1<o?1-o:void 0)}function ao(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ro(){return!0}function gg(){return!1}function He(e){function n(l,o,f,g,y){this._reactName=l,this._targetInst=f,this.type=o,this.nativeEvent=g,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(l=e[E],this[E]=l?l(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ro:gg,this.isPropagationStopped=gg,this}return p(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ro)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ro)},persist:function(){},isPersistent:ro}),n}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=He(ws),wa=p({},ws,{view:0,detail:0}),Nv=He(wa),Ec,Sc,Oa,uo=p({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oa&&(Oa&&e.type==="mousemove"?(Ec=e.screenX-Oa.screenX,Sc=e.screenY-Oa.screenY):Sc=Ec=0,Oa=e),Ec)},movementY:function(e){return"movementY"in e?e.movementY:Sc}}),mg=He(uo),Gv=p({},uo,{dataTransfer:0}),Uv=He(Gv),Yv=p({},wa,{relatedTarget:0}),xc=He(Yv),Xv=p({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Fv=He(Xv),Bv=p({},ws,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hv=He(Bv),jv=p({},ws,{data:0}),_g=He(jv),kv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kv(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Pv[e])?!!n[e]:!1}function Tc(){return Kv}var qv=p({},wa,{key:function(e){if(e.key){var n=kv[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ao(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tc,charCode:function(e){return e.type==="keypress"?ao(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ao(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vv=He(qv),Wv=p({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yg=He(Wv),Qv=p({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tc}),Jv=He(Qv),$v=p({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),t1=He($v),e1=p({},uo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),n1=He(e1),i1=p({},ws,{newState:0,oldState:0}),s1=He(i1),l1=[9,13,27,32],Cc=ri&&"CompositionEvent"in window,Da=null;ri&&"documentMode"in document&&(Da=document.documentMode);var a1=ri&&"TextEvent"in window&&!Da,pg=ri&&(!Cc||Da&&8<Da&&11>=Da),vg=" ",Eg=!1;function Sg(e,n){switch(e){case"keyup":return l1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var El=!1;function r1(e,n){switch(e){case"compositionend":return xg(n);case"keypress":return n.which!==32?null:(Eg=!0,vg);case"textInput":return e=n.data,e===vg&&Eg?null:e;default:return null}}function o1(e,n){if(El)return e==="compositionend"||!Cc&&Sg(e,n)?(e=dg(),lo=vc=Bi=null,El=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pg&&n.locale!=="ko"?null:n.data;default:return null}}var u1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!u1[e.type]:n==="textarea"}function Cg(e,n,l,o){pl?vl?vl.push(o):vl=[o]:pl=o,n=$o(n,"onChange"),0<n.length&&(l=new oo("onChange","change",null,l,o),e.push({event:l,listeners:n}))}var La=null,za=null;function c1(e){ay(e,0)}function co(e){var n=ba(e);if(lg(n))return e}function Rg(e,n){if(e==="change")return n}var bg=!1;if(ri){var Rc;if(ri){var bc="oninput"in document;if(!bc){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),bc=typeof Ag.oninput=="function"}Rc=bc}else Rc=!1;bg=Rc&&(!document.documentMode||9<document.documentMode)}function Mg(){La&&(La.detachEvent("onpropertychange",wg),za=La=null)}function wg(e){if(e.propertyName==="value"&&co(za)){var n=[];Cg(n,za,e,_c(e)),fg(c1,n)}}function h1(e,n,l){e==="focusin"?(Mg(),La=n,za=l,La.attachEvent("onpropertychange",wg)):e==="focusout"&&Mg()}function f1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return co(za)}function d1(e,n){if(e==="click")return co(n)}function g1(e,n){if(e==="input"||e==="change")return co(n)}function m1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ln=typeof Object.is=="function"?Object.is:m1;function Ia(e,n){if(ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),o=Object.keys(n);if(l.length!==o.length)return!1;for(o=0;o<l.length;o++){var f=l[o];if(!Gi.call(n,f)||!ln(e[f],n[f]))return!1}return!0}function Og(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dg(e,n){var l=Og(e);e=0;for(var o;l;){if(l.nodeType===3){if(o=e+l.textContent.length,e<=n&&o>=n)return{node:l,offset:n-e};e=o}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Og(l)}}function Lg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Lg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function zg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=io(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=io(e.document)}return n}function Ac(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var _1=ri&&"documentMode"in document&&11>=document.documentMode,Sl=null,Mc=null,Na=null,wc=!1;function Ig(e,n,l){var o=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;wc||Sl==null||Sl!==io(o)||(o=Sl,"selectionStart"in o&&Ac(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Na&&Ia(Na,o)||(Na=o,o=$o(Mc,"onSelect"),0<o.length&&(n=new oo("onSelect","select",null,n,l),e.push({event:n,listeners:o}),n.target=Sl)))}function Os(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var xl={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},Oc={},Ng={};ri&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function Ds(e){if(Oc[e])return Oc[e];if(!xl[e])return e;var n=xl[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Ng)return Oc[e]=n[l];return e}var Gg=Ds("animationend"),Ug=Ds("animationiteration"),Yg=Ds("animationstart"),y1=Ds("transitionrun"),p1=Ds("transitionstart"),v1=Ds("transitioncancel"),Xg=Ds("transitionend"),Fg=new Map,Dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dc.push("scrollEnd");function Gn(e,n){Fg.set(e,n),Ms(n,[e])}var ho=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},yn=[],Tl=0,Lc=0;function fo(){for(var e=Tl,n=Lc=Tl=0;n<e;){var l=yn[n];yn[n++]=null;var o=yn[n];yn[n++]=null;var f=yn[n];yn[n++]=null;var g=yn[n];if(yn[n++]=null,o!==null&&f!==null){var y=o.pending;y===null?f.next=f:(f.next=y.next,y.next=f),o.pending=f}g!==0&&Bg(l,f,g)}}function go(e,n,l,o){yn[Tl++]=e,yn[Tl++]=n,yn[Tl++]=l,yn[Tl++]=o,Lc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function zc(e,n,l,o){return go(e,n,l,o),mo(e)}function Ls(e,n){return go(e,null,null,n),mo(e)}function Bg(e,n,l){e.lanes|=l;var o=e.alternate;o!==null&&(o.lanes|=l);for(var f=!1,g=e.return;g!==null;)g.childLanes|=l,o=g.alternate,o!==null&&(o.childLanes|=l),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&n!==null&&(f=31-Ie(l),e=g.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=l|536870912),g):null}function mo(e){if(50<ir)throw ir=0,Hh=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Cl={};function E1(e,n,l,o){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,n,l,o){return new E1(e,n,l,o)}function Ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oi(e,n){var l=e.alternate;return l===null?(l=an(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Hg(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _o(e,n,l,o,f,g){var y=0;if(o=e,typeof e=="function")Ic(e)&&(y=1);else if(typeof e=="string")y=RE(e,l,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case j:return e=an(31,l,n,f),e.elementType=j,e.lanes=g,e;case C:return zs(l.children,f,g,n);case R:y=8,f|=24;break;case T:return e=an(12,l,n,f|2),e.elementType=T,e.lanes=g,e;case z:return e=an(13,l,n,f),e.elementType=z,e.lanes=g,e;case K:return e=an(19,l,n,f),e.elementType=K,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:y=10;break t;case w:y=9;break t;case M:y=11;break t;case B:y=14;break t;case V:y=16,o=null;break t}y=29,l=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=an(y,l,n,f),n.elementType=e,n.type=o,n.lanes=g,n}function zs(e,n,l,o){return e=an(7,e,o,n),e.lanes=l,e}function Nc(e,n,l){return e=an(6,e,null,n),e.lanes=l,e}function jg(e){var n=an(18,null,null,0);return n.stateNode=e,n}function Gc(e,n,l){return n=an(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var kg=new WeakMap;function pn(e,n){if(typeof e=="object"&&e!==null){var l=kg.get(e);return l!==void 0?l:(n={value:e,source:n,stack:In(n)},kg.set(e,n),n)}return{value:e,source:n,stack:In(n)}}var Rl=[],bl=0,yo=null,Ga=0,vn=[],En=0,Hi=null,Wn=1,Qn="";function ui(e,n){Rl[bl++]=Ga,Rl[bl++]=yo,yo=e,Ga=n}function Zg(e,n,l){vn[En++]=Wn,vn[En++]=Qn,vn[En++]=Hi,Hi=e;var o=Wn;e=Qn;var f=32-Ie(o)-1;o&=~(1<<f),l+=1;var g=32-Ie(n)+f;if(30<g){var y=f-f%5;g=(o&(1<<y)-1).toString(32),o>>=y,f-=y,Wn=1<<32-Ie(n)+f|l<<f|o,Qn=g+e}else Wn=1<<g|l<<f|o,Qn=e}function Uc(e){e.return!==null&&(ui(e,1),Zg(e,1,0))}function Yc(e){for(;e===yo;)yo=Rl[--bl],Rl[bl]=null,Ga=Rl[--bl],Rl[bl]=null;for(;e===Hi;)Hi=vn[--En],vn[En]=null,Qn=vn[--En],vn[En]=null,Wn=vn[--En],vn[En]=null}function Pg(e,n){vn[En++]=Wn,vn[En++]=Qn,vn[En++]=Hi,Wn=n.id,Qn=n.overflow,Hi=e}var Ee=null,Kt=null,At=!1,ji=null,Sn=!1,Xc=Error(s(519));function ki(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ua(pn(n,e)),Xc}function Kg(e){var n=e.stateNode,l=e.type,o=e.memoizedProps;switch(n[ve]=e,n[Be]=o,l){case"dialog":Tt("cancel",n),Tt("close",n);break;case"iframe":case"object":case"embed":Tt("load",n);break;case"video":case"audio":for(l=0;l<lr.length;l++)Tt(lr[l],n);break;case"source":Tt("error",n);break;case"img":case"image":case"link":Tt("error",n),Tt("load",n);break;case"details":Tt("toggle",n);break;case"input":Tt("invalid",n),ag(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Tt("invalid",n);break;case"textarea":Tt("invalid",n),og(n,o.value,o.defaultValue,o.children)}l=o.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||o.suppressHydrationWarning===!0||cy(n.textContent,l)?(o.popover!=null&&(Tt("beforetoggle",n),Tt("toggle",n)),o.onScroll!=null&&Tt("scroll",n),o.onScrollEnd!=null&&Tt("scrollend",n),o.onClick!=null&&(n.onclick=ai),n=!0):n=!1,n||ki(e,!0)}function qg(e){for(Ee=e.return;Ee;)switch(Ee.tag){case 5:case 31:case 13:Sn=!1;return;case 27:case 3:Sn=!0;return;default:Ee=Ee.return}}function Al(e){if(e!==Ee)return!1;if(!At)return qg(e),At=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||sf(e.type,e.memoizedProps)),l=!l),l&&Kt&&ki(e),qg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Kt=vy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Kt=vy(e)}else n===27?(n=Kt,ss(e.type)?(e=uf,uf=null,Kt=e):Kt=n):Kt=Ee?Tn(e.stateNode.nextSibling):null;return!0}function Is(){Kt=Ee=null,At=!1}function Fc(){var e=ji;return e!==null&&(Pe===null?Pe=e:Pe.push.apply(Pe,e),ji=null),e}function Ua(e){ji===null?ji=[e]:ji.push(e)}var Bc=b(null),Ns=null,ci=null;function Zi(e,n,l){W(Bc,n._currentValue),n._currentValue=l}function hi(e){e._currentValue=Bc.current,Y(Bc)}function Hc(e,n,l){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===l)break;e=e.return}}function jc(e,n,l,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var y=f.child;g=g.firstContext;t:for(;g!==null;){var E=g;g=f;for(var A=0;A<n.length;A++)if(E.context===n[A]){g.lanes|=l,E=g.alternate,E!==null&&(E.lanes|=l),Hc(g.return,l,e),o||(y=null);break t}g=E.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=l,g=y.alternate,g!==null&&(g.lanes|=l),Hc(y,l,e),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===e){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function Ml(e,n,l,o){e=null;for(var f=n,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=f.type;ln(f.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(f===gt.current){if(y=f.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(cr):e=[cr])}f=f.return}e!==null&&jc(n,e,l,o),n.flags|=262144}function po(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gs(e){Ns=e,ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Se(e){return Vg(Ns,e)}function vo(e,n){return Ns===null&&Gs(e),Vg(e,n)}function Vg(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},ci===null){if(e===null)throw Error(s(308));ci=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ci=ci.next=n;return l}var S1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},x1=a.unstable_scheduleCallback,T1=a.unstable_NormalPriority,ie={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kc(){return{controller:new S1,data:new Map,refCount:0}}function Ya(e){e.refCount--,e.refCount===0&&x1(T1,function(){e.controller.abort()})}var Xa=null,Zc=0,wl=0,Ol=null;function C1(e,n){if(Xa===null){var l=Xa=[];Zc=0,wl=qh(),Ol={status:"pending",value:void 0,then:function(o){l.push(o)}}}return Zc++,n.then(Wg,Wg),n}function Wg(){if(--Zc===0&&Xa!==null){Ol!==null&&(Ol.status="fulfilled");var e=Xa;Xa=null,wl=0,Ol=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function R1(e,n){var l=[],o={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<l.length;f++)(0,l[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),o}var Qg=I.S;I.S=function(e,n){I_=ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&C1(e,n),Qg!==null&&Qg(e,n)};var Us=b(null);function Pc(){var e=Us.current;return e!==null?e:Zt.pooledCache}function Eo(e,n){n===null?W(Us,Us.current):W(Us,n.pool)}function Jg(){var e=Pc();return e===null?null:{parent:ie._currentValue,pool:e}}var Dl=Error(s(460)),Kc=Error(s(474)),So=Error(s(542)),xo={then:function(){}};function $g(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tm(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(ai,ai),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,nm(e),e;default:if(typeof n.status=="string")n.then(ai,ai);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,nm(e),e}throw Xs=n,Dl}}function Ys(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Xs=l,Dl):l}}var Xs=null;function em(){if(Xs===null)throw Error(s(459));var e=Xs;return Xs=null,e}function nm(e){if(e===Dl||e===So)throw Error(s(483))}var Ll=null,Fa=0;function To(e){var n=Fa;return Fa+=1,Ll===null&&(Ll=[]),tm(Ll,e,n)}function Ba(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Co(e,n){throw n.$$typeof===v?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function im(e){function n(L,O){if(e){var N=L.deletions;N===null?(L.deletions=[O],L.flags|=16):N.push(O)}}function l(L,O){if(!e)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=oi(L,O),L.index=0,L.sibling=null,L}function g(L,O,N){return L.index=N,e?(N=L.alternate,N!==null?(N=N.index,N<O?(L.flags|=67108866,O):N):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function y(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,O,N,P){return O===null||O.tag!==6?(O=Nc(N,L.mode,P),O.return=L,O):(O=f(O,N),O.return=L,O)}function A(L,O,N,P){var ot=N.type;return ot===C?H(L,O,N.props.children,P,N.key):O!==null&&(O.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===V&&Ys(ot)===O.type)?(O=f(O,N.props),Ba(O,N),O.return=L,O):(O=_o(N.type,N.key,N.props,null,L.mode,P),Ba(O,N),O.return=L,O)}function G(L,O,N,P){return O===null||O.tag!==4||O.stateNode.containerInfo!==N.containerInfo||O.stateNode.implementation!==N.implementation?(O=Gc(N,L.mode,P),O.return=L,O):(O=f(O,N.children||[]),O.return=L,O)}function H(L,O,N,P,ot){return O===null||O.tag!==7?(O=zs(N,L.mode,P,ot),O.return=L,O):(O=f(O,N),O.return=L,O)}function q(L,O,N){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Nc(""+O,L.mode,N),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case S:return N=_o(O.type,O.key,O.props,null,L.mode,N),Ba(N,O),N.return=L,N;case x:return O=Gc(O,L.mode,N),O.return=L,O;case V:return O=Ys(O),q(L,O,N)}if(et(O)||it(O))return O=zs(O,L.mode,N,null),O.return=L,O;if(typeof O.then=="function")return q(L,To(O),N);if(O.$$typeof===D)return q(L,vo(L,O),N);Co(L,O)}return null}function U(L,O,N,P){var ot=O!==null?O.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return ot!==null?null:E(L,O,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return N.key===ot?A(L,O,N,P):null;case x:return N.key===ot?G(L,O,N,P):null;case V:return N=Ys(N),U(L,O,N,P)}if(et(N)||it(N))return ot!==null?null:H(L,O,N,P,null);if(typeof N.then=="function")return U(L,O,To(N),P);if(N.$$typeof===D)return U(L,O,vo(L,N),P);Co(L,N)}return null}function X(L,O,N,P,ot){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return L=L.get(N)||null,E(O,L,""+P,ot);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return L=L.get(P.key===null?N:P.key)||null,A(O,L,P,ot);case x:return L=L.get(P.key===null?N:P.key)||null,G(O,L,P,ot);case V:return P=Ys(P),X(L,O,N,P,ot)}if(et(P)||it(P))return L=L.get(N)||null,H(O,L,P,ot,null);if(typeof P.then=="function")return X(L,O,N,To(P),ot);if(P.$$typeof===D)return X(L,O,N,vo(O,P),ot);Co(O,P)}return null}function st(L,O,N,P){for(var ot=null,Ot=null,at=O,vt=O=0,Rt=null;at!==null&&vt<N.length;vt++){at.index>vt?(Rt=at,at=null):Rt=at.sibling;var Dt=U(L,at,N[vt],P);if(Dt===null){at===null&&(at=Rt);break}e&&at&&Dt.alternate===null&&n(L,at),O=g(Dt,O,vt),Ot===null?ot=Dt:Ot.sibling=Dt,Ot=Dt,at=Rt}if(vt===N.length)return l(L,at),At&&ui(L,vt),ot;if(at===null){for(;vt<N.length;vt++)at=q(L,N[vt],P),at!==null&&(O=g(at,O,vt),Ot===null?ot=at:Ot.sibling=at,Ot=at);return At&&ui(L,vt),ot}for(at=o(at);vt<N.length;vt++)Rt=X(at,L,vt,N[vt],P),Rt!==null&&(e&&Rt.alternate!==null&&at.delete(Rt.key===null?vt:Rt.key),O=g(Rt,O,vt),Ot===null?ot=Rt:Ot.sibling=Rt,Ot=Rt);return e&&at.forEach(function(us){return n(L,us)}),At&&ui(L,vt),ot}function ht(L,O,N,P){if(N==null)throw Error(s(151));for(var ot=null,Ot=null,at=O,vt=O=0,Rt=null,Dt=N.next();at!==null&&!Dt.done;vt++,Dt=N.next()){at.index>vt?(Rt=at,at=null):Rt=at.sibling;var us=U(L,at,Dt.value,P);if(us===null){at===null&&(at=Rt);break}e&&at&&us.alternate===null&&n(L,at),O=g(us,O,vt),Ot===null?ot=us:Ot.sibling=us,Ot=us,at=Rt}if(Dt.done)return l(L,at),At&&ui(L,vt),ot;if(at===null){for(;!Dt.done;vt++,Dt=N.next())Dt=q(L,Dt.value,P),Dt!==null&&(O=g(Dt,O,vt),Ot===null?ot=Dt:Ot.sibling=Dt,Ot=Dt);return At&&ui(L,vt),ot}for(at=o(at);!Dt.done;vt++,Dt=N.next())Dt=X(at,L,vt,Dt.value,P),Dt!==null&&(e&&Dt.alternate!==null&&at.delete(Dt.key===null?vt:Dt.key),O=g(Dt,O,vt),Ot===null?ot=Dt:Ot.sibling=Dt,Ot=Dt);return e&&at.forEach(function(GE){return n(L,GE)}),At&&ui(L,vt),ot}function jt(L,O,N,P){if(typeof N=="object"&&N!==null&&N.type===C&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case S:t:{for(var ot=N.key;O!==null;){if(O.key===ot){if(ot=N.type,ot===C){if(O.tag===7){l(L,O.sibling),P=f(O,N.props.children),P.return=L,L=P;break t}}else if(O.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===V&&Ys(ot)===O.type){l(L,O.sibling),P=f(O,N.props),Ba(P,N),P.return=L,L=P;break t}l(L,O);break}else n(L,O);O=O.sibling}N.type===C?(P=zs(N.props.children,L.mode,P,N.key),P.return=L,L=P):(P=_o(N.type,N.key,N.props,null,L.mode,P),Ba(P,N),P.return=L,L=P)}return y(L);case x:t:{for(ot=N.key;O!==null;){if(O.key===ot)if(O.tag===4&&O.stateNode.containerInfo===N.containerInfo&&O.stateNode.implementation===N.implementation){l(L,O.sibling),P=f(O,N.children||[]),P.return=L,L=P;break t}else{l(L,O);break}else n(L,O);O=O.sibling}P=Gc(N,L.mode,P),P.return=L,L=P}return y(L);case V:return N=Ys(N),jt(L,O,N,P)}if(et(N))return st(L,O,N,P);if(it(N)){if(ot=it(N),typeof ot!="function")throw Error(s(150));return N=ot.call(N),ht(L,O,N,P)}if(typeof N.then=="function")return jt(L,O,To(N),P);if(N.$$typeof===D)return jt(L,O,vo(L,N),P);Co(L,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,O!==null&&O.tag===6?(l(L,O.sibling),P=f(O,N),P.return=L,L=P):(l(L,O),P=Nc(N,L.mode,P),P.return=L,L=P),y(L)):l(L,O)}return function(L,O,N,P){try{Fa=0;var ot=jt(L,O,N,P);return Ll=null,ot}catch(at){if(at===Dl||at===So)throw at;var Ot=an(29,at,null,L.mode);return Ot.lanes=P,Ot.return=L,Ot}finally{}}}var Fs=im(!0),sm=im(!1),Pi=!1;function qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ki(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qi(e,n,l){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(It&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=mo(e),Bg(e,null,l),n}return go(e,o,n,l),mo(e)}function Ha(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,l|=o,n.lanes=l,Ne(e,l)}}function Wc(e,n){var l=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,l===o)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var y={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?f=g=y:g=g.next=y,l=l.next}while(l!==null);g===null?f=g=n:g=g.next=n}else f=g=n;l={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Qc=!1;function ja(){if(Qc){var e=Ol;if(e!==null)throw e}}function ka(e,n,l,o){Qc=!1;var f=e.updateQueue;Pi=!1;var g=f.firstBaseUpdate,y=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var A=E,G=A.next;A.next=null,y===null?g=G:y.next=G,y=A;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=G:E.next=G,H.lastBaseUpdate=A))}if(g!==null){var q=f.baseState;y=0,H=G=A=null,E=g;do{var U=E.lane&-536870913,X=U!==E.lane;if(X?(Ct&U)===U:(o&U)===U){U!==0&&U===wl&&(Qc=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,ht=E;U=n;var jt=l;switch(ht.tag){case 1:if(st=ht.payload,typeof st=="function"){q=st.call(jt,q,U);break t}q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ht.payload,U=typeof st=="function"?st.call(jt,q,U):st,U==null)break t;q=p({},q,U);break t;case 2:Pi=!0}}U=E.callback,U!==null&&(e.flags|=64,X&&(e.flags|=8192),X=f.callbacks,X===null?f.callbacks=[U]:X.push(U))}else X={lane:U,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(G=H=X,A=q):H=H.next=X,y|=U;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;X=E,E=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);H===null&&(A=q),f.baseState=A,f.firstBaseUpdate=G,f.lastBaseUpdate=H,g===null&&(f.shared.lanes=0),$i|=y,e.lanes=y,e.memoizedState=q}}function lm(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function am(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)lm(l[e],n)}var zl=b(null),Ro=b(0);function rm(e,n){e=Ei,W(Ro,e),W(zl,n),Ei=e|n.baseLanes}function Jc(){W(Ro,Ei),W(zl,zl.current)}function $c(){Ei=Ro.current,Y(zl),Y(Ro)}var rn=b(null),xn=null;function Vi(e){var n=e.alternate;W(ee,ee.current&1),W(rn,e),xn===null&&(n===null||zl.current!==null||n.memoizedState!==null)&&(xn=e)}function th(e){W(ee,ee.current),W(rn,e),xn===null&&(xn=e)}function om(e){e.tag===22?(W(ee,ee.current),W(rn,e),xn===null&&(xn=e)):Wi()}function Wi(){W(ee,ee.current),W(rn,rn.current)}function on(e){Y(rn),xn===e&&(xn=null),Y(ee)}var ee=b(0);function bo(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||rf(l)||of(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var fi=0,yt=null,Bt=null,se=null,Ao=!1,Il=!1,Bs=!1,Mo=0,Za=0,Nl=null,b1=0;function Jt(){throw Error(s(321))}function eh(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!ln(e[l],n[l]))return!1;return!0}function nh(e,n,l,o,f,g){return fi=g,yt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,I.H=e===null||e.memoizedState===null?Zm:yh,Bs=!1,g=l(o,f),Bs=!1,Il&&(g=cm(n,l,o,f)),um(e),g}function um(e){I.H=qa;var n=Bt!==null&&Bt.next!==null;if(fi=0,se=Bt=yt=null,Ao=!1,Za=0,Nl=null,n)throw Error(s(300));e===null||le||(e=e.dependencies,e!==null&&po(e)&&(le=!0))}function cm(e,n,l,o){yt=e;var f=0;do{if(Il&&(Nl=null),Za=0,Il=!1,25<=f)throw Error(s(301));if(f+=1,se=Bt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}I.H=Pm,g=n(l,o)}while(Il);return g}function A1(){var e=I.H,n=e.useState()[0];return n=typeof n.then=="function"?Pa(n):n,e=e.useState()[0],(Bt!==null?Bt.memoizedState:null)!==e&&(yt.flags|=1024),n}function ih(){var e=Mo!==0;return Mo=0,e}function sh(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function lh(e){if(Ao){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ao=!1}fi=0,se=Bt=yt=null,Il=!1,Za=Mo=0,Nl=null}function Ge(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?yt.memoizedState=se=e:se=se.next=e,se}function ne(){if(Bt===null){var e=yt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var n=se===null?yt.memoizedState:se.next;if(n!==null)se=n,Bt=e;else{if(e===null)throw yt.alternate===null?Error(s(467)):Error(s(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},se===null?yt.memoizedState=se=e:se=se.next=e}return se}function wo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pa(e){var n=Za;return Za+=1,Nl===null&&(Nl=[]),e=tm(Nl,e,n),n=yt,(se===null?n.memoizedState:se.next)===null&&(n=n.alternate,I.H=n===null||n.memoizedState===null?Zm:yh),e}function Oo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pa(e);if(e.$$typeof===D)return Se(e)}throw Error(s(438,String(e)))}function ah(e){var n=null,l=yt.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var o=yt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=wo(),yt.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),o=0;o<e;o++)l[o]=J;return n.index++,l}function di(e,n){return typeof n=="function"?n(e):n}function Do(e){var n=ne();return rh(n,Bt,e)}function rh(e,n,l){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=l;var f=e.baseQueue,g=o.pending;if(g!==null){if(f!==null){var y=f.next;f.next=g.next,g.next=y}n.baseQueue=f=g,o.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{n=f.next;var E=y=null,A=null,G=n,H=!1;do{var q=G.lane&-536870913;if(q!==G.lane?(Ct&q)===q:(fi&q)===q){var U=G.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),q===wl&&(H=!0);else if((fi&U)===U){G=G.next,U===wl&&(H=!0);continue}else q={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},A===null?(E=A=q,y=g):A=A.next=q,yt.lanes|=U,$i|=U;q=G.action,Bs&&l(g,q),g=G.hasEagerState?G.eagerState:l(g,q)}else U={lane:q,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},A===null?(E=A=U,y=g):A=A.next=U,yt.lanes|=q,$i|=q;G=G.next}while(G!==null&&G!==n);if(A===null?y=g:A.next=E,!ln(g,e.memoizedState)&&(le=!0,H&&(l=Ol,l!==null)))throw l;e.memoizedState=g,e.baseState=y,e.baseQueue=A,o.lastRenderedState=g}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function oh(e){var n=ne(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var o=l.dispatch,f=l.pending,g=n.memoizedState;if(f!==null){l.pending=null;var y=f=f.next;do g=e(g,y.action),y=y.next;while(y!==f);ln(g,n.memoizedState)||(le=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),l.lastRenderedState=g}return[g,o]}function hm(e,n,l){var o=yt,f=ne(),g=At;if(g){if(l===void 0)throw Error(s(407));l=l()}else l=n();var y=!ln((Bt||f).memoizedState,l);if(y&&(f.memoizedState=l,le=!0),f=f.queue,hh(gm.bind(null,o,f,e),[e]),f.getSnapshot!==n||y||se!==null&&se.memoizedState.tag&1){if(o.flags|=2048,Gl(9,{destroy:void 0},dm.bind(null,o,f,l,n),null),Zt===null)throw Error(s(349));g||(fi&127)!==0||fm(o,n,l)}return l}function fm(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=yt.updateQueue,n===null?(n=wo(),yt.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function dm(e,n,l,o){n.value=l,n.getSnapshot=o,mm(n)&&_m(e)}function gm(e,n,l){return l(function(){mm(n)&&_m(e)})}function mm(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!ln(e,l)}catch{return!0}}function _m(e){var n=Ls(e,2);n!==null&&Ke(n,e,2)}function uh(e){var n=Ge();if(typeof e=="function"){var l=e;if(e=l(),Bs){Kn(!0);try{l()}finally{Kn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:e},n}function ym(e,n,l,o){return e.baseState=l,rh(e,Bt,typeof o=="function"?o:di)}function M1(e,n,l,o,f){if(Io(e))throw Error(s(485));if(e=n.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){g.listeners.push(y)}};I.T!==null?l(!0):g.isTransition=!1,o(g),l=n.pending,l===null?(g.next=n.pending=g,pm(n,g)):(g.next=l.next,n.pending=l.next=g)}}function pm(e,n){var l=n.action,o=n.payload,f=e.state;if(n.isTransition){var g=I.T,y={};I.T=y;try{var E=l(f,o),A=I.S;A!==null&&A(y,E),vm(e,n,E)}catch(G){ch(e,n,G)}finally{g!==null&&y.types!==null&&(g.types=y.types),I.T=g}}else try{g=l(f,o),vm(e,n,g)}catch(G){ch(e,n,G)}}function vm(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(o){Em(e,n,o)},function(o){return ch(e,n,o)}):Em(e,n,l)}function Em(e,n,l){n.status="fulfilled",n.value=l,Sm(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,pm(e,l)))}function ch(e,n,l){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=l,Sm(n),n=n.next;while(n!==o)}e.action=null}function Sm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function xm(e,n){return n}function Tm(e,n){if(At){var l=Zt.formState;if(l!==null){t:{var o=yt;if(At){if(Kt){e:{for(var f=Kt,g=Sn;f.nodeType!==8;){if(!g){f=null;break e}if(f=Tn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Kt=Tn(f.nextSibling),o=f.data==="F!";break t}}ki(o)}o=!1}o&&(n=l[0])}}return l=Ge(),l.memoizedState=l.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xm,lastRenderedState:n},l.queue=o,l=Hm.bind(null,yt,o),o.dispatch=l,o=uh(!1),g=_h.bind(null,yt,!1,o.queue),o=Ge(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,l=M1.bind(null,yt,f,g,l),f.dispatch=l,o.memoizedState=e,[n,l,!1]}function Cm(e){var n=ne();return Rm(n,Bt,e)}function Rm(e,n,l){if(n=rh(e,n,xm)[0],e=Do(di)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Pa(n)}catch(y){throw y===Dl?So:y}else o=n;n=ne();var f=n.queue,g=f.dispatch;return l!==n.memoizedState&&(yt.flags|=2048,Gl(9,{destroy:void 0},w1.bind(null,f,l),null)),[o,g,e]}function w1(e,n){e.action=n}function bm(e){var n=ne(),l=Bt;if(l!==null)return Rm(n,l,e);ne(),n=n.memoizedState,l=ne();var o=l.queue.dispatch;return l.memoizedState=e,[n,o,!1]}function Gl(e,n,l,o){return e={tag:e,create:l,deps:o,inst:n,next:null},n=yt.updateQueue,n===null&&(n=wo(),yt.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(o=l.next,l.next=e,e.next=o,n.lastEffect=e),e}function Am(){return ne().memoizedState}function Lo(e,n,l,o){var f=Ge();yt.flags|=e,f.memoizedState=Gl(1|n,{destroy:void 0},l,o===void 0?null:o)}function zo(e,n,l,o){var f=ne();o=o===void 0?null:o;var g=f.memoizedState.inst;Bt!==null&&o!==null&&eh(o,Bt.memoizedState.deps)?f.memoizedState=Gl(n,g,l,o):(yt.flags|=e,f.memoizedState=Gl(1|n,g,l,o))}function Mm(e,n){Lo(8390656,8,e,n)}function hh(e,n){zo(2048,8,e,n)}function O1(e){yt.flags|=4;var n=yt.updateQueue;if(n===null)n=wo(),yt.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function wm(e){var n=ne().memoizedState;return O1({ref:n,nextImpl:e}),function(){if((It&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Om(e,n){return zo(4,2,e,n)}function Dm(e,n){return zo(4,4,e,n)}function Lm(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function zm(e,n,l){l=l!=null?l.concat([e]):null,zo(4,4,Lm.bind(null,n,e),l)}function fh(){}function Im(e,n){var l=ne();n=n===void 0?null:n;var o=l.memoizedState;return n!==null&&eh(n,o[1])?o[0]:(l.memoizedState=[e,n],e)}function Nm(e,n){var l=ne();n=n===void 0?null:n;var o=l.memoizedState;if(n!==null&&eh(n,o[1]))return o[0];if(o=e(),Bs){Kn(!0);try{e()}finally{Kn(!1)}}return l.memoizedState=[o,n],o}function dh(e,n,l){return l===void 0||(fi&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=G_(),yt.lanes|=e,$i|=e,l)}function Gm(e,n,l,o){return ln(l,n)?l:zl.current!==null?(e=dh(e,l,o),ln(e,n)||(le=!0),e):(fi&42)===0||(fi&1073741824)!==0&&(Ct&261930)===0?(le=!0,e.memoizedState=l):(e=G_(),yt.lanes|=e,$i|=e,n)}function Um(e,n,l,o,f){var g=k.p;k.p=g!==0&&8>g?g:8;var y=I.T,E={};I.T=E,_h(e,!1,n,l);try{var A=f(),G=I.S;if(G!==null&&G(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var H=R1(A,o);Ka(e,n,H,hn(e))}else Ka(e,n,o,hn(e))}catch(q){Ka(e,n,{then:function(){},status:"rejected",reason:q},hn())}finally{k.p=g,y!==null&&E.types!==null&&(y.types=E.types),I.T=y}}function D1(){}function gh(e,n,l,o){if(e.tag!==5)throw Error(s(476));var f=Ym(e).queue;Um(e,f,n,Q,l===null?D1:function(){return Xm(e),l(o)})}function Ym(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:Q},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Xm(e){var n=Ym(e);n.next===null&&(n=e.alternate.memoizedState),Ka(e,n.next.queue,{},hn())}function mh(){return Se(cr)}function Fm(){return ne().memoizedState}function Bm(){return ne().memoizedState}function L1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=hn();e=Ki(l);var o=qi(n,e,l);o!==null&&(Ke(o,n,l),Ha(o,n,l)),n={cache:kc()},e.payload=n;return}n=n.return}}function z1(e,n,l){var o=hn();l={lane:o,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Io(e)?jm(n,l):(l=zc(e,n,l,o),l!==null&&(Ke(l,e,o),km(l,n,o)))}function Hm(e,n,l){var o=hn();Ka(e,n,l,o)}function Ka(e,n,l,o){var f={lane:o,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Io(e))jm(n,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var y=n.lastRenderedState,E=g(y,l);if(f.hasEagerState=!0,f.eagerState=E,ln(E,y))return go(e,n,f,0),Zt===null&&fo(),!1}catch{}finally{}if(l=zc(e,n,f,o),l!==null)return Ke(l,e,o),km(l,n,o),!0}return!1}function _h(e,n,l,o){if(o={lane:2,revertLane:qh(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Io(e)){if(n)throw Error(s(479))}else n=zc(e,l,o,2),n!==null&&Ke(n,e,2)}function Io(e){var n=e.alternate;return e===yt||n!==null&&n===yt}function jm(e,n){Il=Ao=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function km(e,n,l){if((l&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,l|=o,n.lanes=l,Ne(e,l)}}var qa={readContext:Se,use:Oo,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};qa.useEffectEvent=Jt;var Zm={readContext:Se,use:Oo,useCallback:function(e,n){return Ge().memoizedState=[e,n===void 0?null:n],e},useContext:Se,useEffect:Mm,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Lo(4194308,4,Lm.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Lo(4194308,4,e,n)},useInsertionEffect:function(e,n){Lo(4,2,e,n)},useMemo:function(e,n){var l=Ge();n=n===void 0?null:n;var o=e();if(Bs){Kn(!0);try{e()}finally{Kn(!1)}}return l.memoizedState=[o,n],o},useReducer:function(e,n,l){var o=Ge();if(l!==void 0){var f=l(n);if(Bs){Kn(!0);try{l(n)}finally{Kn(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=z1.bind(null,yt,e),[o.memoizedState,e]},useRef:function(e){var n=Ge();return e={current:e},n.memoizedState=e},useState:function(e){e=uh(e);var n=e.queue,l=Hm.bind(null,yt,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:fh,useDeferredValue:function(e,n){var l=Ge();return dh(l,e,n)},useTransition:function(){var e=uh(!1);return e=Um.bind(null,yt,e.queue,!0,!1),Ge().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var o=yt,f=Ge();if(At){if(l===void 0)throw Error(s(407));l=l()}else{if(l=n(),Zt===null)throw Error(s(349));(Ct&127)!==0||fm(o,n,l)}f.memoizedState=l;var g={value:l,getSnapshot:n};return f.queue=g,Mm(gm.bind(null,o,g,e),[e]),o.flags|=2048,Gl(9,{destroy:void 0},dm.bind(null,o,g,l,n),null),l},useId:function(){var e=Ge(),n=Zt.identifierPrefix;if(At){var l=Qn,o=Wn;l=(o&~(1<<32-Ie(o)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Mo++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=b1++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:mh,useFormState:Tm,useActionState:Tm,useOptimistic:function(e){var n=Ge();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=_h.bind(null,yt,!0,l),l.dispatch=n,[e,n]},useMemoCache:ah,useCacheRefresh:function(){return Ge().memoizedState=L1.bind(null,yt)},useEffectEvent:function(e){var n=Ge(),l={impl:e};return n.memoizedState=l,function(){if((It&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},yh={readContext:Se,use:Oo,useCallback:Im,useContext:Se,useEffect:hh,useImperativeHandle:zm,useInsertionEffect:Om,useLayoutEffect:Dm,useMemo:Nm,useReducer:Do,useRef:Am,useState:function(){return Do(di)},useDebugValue:fh,useDeferredValue:function(e,n){var l=ne();return Gm(l,Bt.memoizedState,e,n)},useTransition:function(){var e=Do(di)[0],n=ne().memoizedState;return[typeof e=="boolean"?e:Pa(e),n]},useSyncExternalStore:hm,useId:Fm,useHostTransitionStatus:mh,useFormState:Cm,useActionState:Cm,useOptimistic:function(e,n){var l=ne();return ym(l,Bt,e,n)},useMemoCache:ah,useCacheRefresh:Bm};yh.useEffectEvent=wm;var Pm={readContext:Se,use:Oo,useCallback:Im,useContext:Se,useEffect:hh,useImperativeHandle:zm,useInsertionEffect:Om,useLayoutEffect:Dm,useMemo:Nm,useReducer:oh,useRef:Am,useState:function(){return oh(di)},useDebugValue:fh,useDeferredValue:function(e,n){var l=ne();return Bt===null?dh(l,e,n):Gm(l,Bt.memoizedState,e,n)},useTransition:function(){var e=oh(di)[0],n=ne().memoizedState;return[typeof e=="boolean"?e:Pa(e),n]},useSyncExternalStore:hm,useId:Fm,useHostTransitionStatus:mh,useFormState:bm,useActionState:bm,useOptimistic:function(e,n){var l=ne();return Bt!==null?ym(l,Bt,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:ah,useCacheRefresh:Bm};Pm.useEffectEvent=wm;function ph(e,n,l,o){n=e.memoizedState,l=l(o,n),l=l==null?n:p({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var vh={enqueueSetState:function(e,n,l){e=e._reactInternals;var o=hn(),f=Ki(o);f.payload=n,l!=null&&(f.callback=l),n=qi(e,f,o),n!==null&&(Ke(n,e,o),Ha(n,e,o))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var o=hn(),f=Ki(o);f.tag=1,f.payload=n,l!=null&&(f.callback=l),n=qi(e,f,o),n!==null&&(Ke(n,e,o),Ha(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=hn(),o=Ki(l);o.tag=2,n!=null&&(o.callback=n),n=qi(e,o,l),n!==null&&(Ke(n,e,l),Ha(n,e,l))}};function Km(e,n,l,o,f,g,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,g,y):n.prototype&&n.prototype.isPureReactComponent?!Ia(l,o)||!Ia(f,g):!0}function qm(e,n,l,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,o),n.state!==e&&vh.enqueueReplaceState(n,n.state,null)}function Hs(e,n){var l=n;if("ref"in n){l={};for(var o in n)o!=="ref"&&(l[o]=n[o])}if(e=e.defaultProps){l===n&&(l=p({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}function Vm(e){ho(e)}function Wm(e){console.error(e)}function Qm(e){ho(e)}function No(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Jm(e,n,l){try{var o=e.onCaughtError;o(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Eh(e,n,l){return l=Ki(l),l.tag=3,l.payload={element:null},l.callback=function(){No(e,n)},l}function $m(e){return e=Ki(e),e.tag=3,e}function t_(e,n,l,o){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;e.payload=function(){return f(g)},e.callback=function(){Jm(n,l,o)}}var y=l.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Jm(n,l,o),typeof f!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function I1(e,n,l,o,f){if(l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=l.alternate,n!==null&&Ml(n,l,f,!0),l=rn.current,l!==null){switch(l.tag){case 31:case 13:return xn===null?Ko():l.alternate===null&&$t===0&&($t=3),l.flags&=-257,l.flags|=65536,l.lanes=f,o===xo?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([o]):n.add(o),Zh(e,o,f)),!1;case 22:return l.flags|=65536,o===xo?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([o]):l.add(o)),Zh(e,o,f)),!1}throw Error(s(435,l.tag))}return Zh(e,o,f),Ko(),!1}if(At)return n=rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Xc&&(e=Error(s(422),{cause:o}),Ua(pn(e,l)))):(o!==Xc&&(n=Error(s(423),{cause:o}),Ua(pn(n,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=pn(o,l),f=Eh(e.stateNode,o,f),Wc(e,f),$t!==4&&($t=2)),!1;var g=Error(s(520),{cause:o});if(g=pn(g,l),nr===null?nr=[g]:nr.push(g),$t!==4&&($t=2),n===null)return!0;o=pn(o,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=Eh(l.stateNode,o,e),Wc(l,e),!1;case 1:if(n=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ts===null||!ts.has(g))))return l.flags|=65536,f&=-f,l.lanes|=f,f=$m(f),t_(f,e,l,o),Wc(l,f),!1}l=l.return}while(l!==null);return!1}var Sh=Error(s(461)),le=!1;function xe(e,n,l,o){n.child=e===null?sm(n,null,l,o):Fs(n,e.child,l,o)}function e_(e,n,l,o,f){l=l.render;var g=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Gs(n),o=nh(e,n,l,y,g,f),E=ih(),e!==null&&!le?(sh(e,n,f),gi(e,n,f)):(At&&E&&Uc(n),n.flags|=1,xe(e,n,o,f),n.child)}function n_(e,n,l,o,f){if(e===null){var g=l.type;return typeof g=="function"&&!Ic(g)&&g.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=g,i_(e,n,g,o,f)):(e=_o(l.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!wh(e,f)){var y=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ia,l(y,o)&&e.ref===n.ref)return gi(e,n,f)}return n.flags|=1,e=oi(g,o),e.ref=n.ref,e.return=n,n.child=e}function i_(e,n,l,o,f){if(e!==null){var g=e.memoizedProps;if(Ia(g,o)&&e.ref===n.ref)if(le=!1,n.pendingProps=o=g,wh(e,f))(e.flags&131072)!==0&&(le=!0);else return n.lanes=e.lanes,gi(e,n,f)}return xh(e,n,l,o,f)}function s_(e,n,l,o){var f=o.children,g=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,e!==null){for(o=n.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~g}else o=0,n.child=null;return l_(e,n,g,l,o)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Eo(n,g!==null?g.cachePool:null),g!==null?rm(n,g):Jc(),om(n);else return o=n.lanes=536870912,l_(e,n,g!==null?g.baseLanes|l:l,l,o)}else g!==null?(Eo(n,g.cachePool),rm(n,g),Wi(),n.memoizedState=null):(e!==null&&Eo(n,null),Jc(),Wi());return xe(e,n,f,l),n.child}function Va(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function l_(e,n,l,o,f){var g=Pc();return g=g===null?null:{parent:ie._currentValue,pool:g},n.memoizedState={baseLanes:l,cachePool:g},e!==null&&Eo(n,null),Jc(),om(n),e!==null&&Ml(e,n,o,!0),n.childLanes=f,null}function Go(e,n){return n=Yo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function a_(e,n,l){return Fs(n,e.child,null,l),e=Go(n,n.pendingProps),e.flags|=2,on(n),n.memoizedState=null,e}function N1(e,n,l){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(At){if(o.mode==="hidden")return e=Go(n,o),n.lanes=536870912,Va(null,e);if(th(n),(e=Kt)?(e=py(e,Sn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Hi!==null?{id:Wn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},l=jg(e),l.return=n,n.child=l,Ee=n,Kt=null)):e=null,e===null)throw ki(n);return n.lanes=536870912,null}return Go(n,o)}var g=e.memoizedState;if(g!==null){var y=g.dehydrated;if(th(n),f)if(n.flags&256)n.flags&=-257,n=a_(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(le||Ml(e,n,l,!1),f=(l&e.childLanes)!==0,le||f){if(o=Zt,o!==null&&(y=dn(o,l),y!==0&&y!==g.retryLane))throw g.retryLane=y,Ls(e,y),Ke(o,e,y),Sh;Ko(),n=a_(e,n,l)}else e=g.treeContext,Kt=Tn(y.nextSibling),Ee=n,At=!0,ji=null,Sn=!1,e!==null&&Pg(n,e),n=Go(n,o),n.flags|=4096;return n}return e=oi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Uo(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function xh(e,n,l,o,f){return Gs(n),l=nh(e,n,l,o,void 0,f),o=ih(),e!==null&&!le?(sh(e,n,f),gi(e,n,f)):(At&&o&&Uc(n),n.flags|=1,xe(e,n,l,f),n.child)}function r_(e,n,l,o,f,g){return Gs(n),n.updateQueue=null,l=cm(n,o,l,f),um(e),o=ih(),e!==null&&!le?(sh(e,n,g),gi(e,n,g)):(At&&o&&Uc(n),n.flags|=1,xe(e,n,l,g),n.child)}function o_(e,n,l,o,f){if(Gs(n),n.stateNode===null){var g=Cl,y=l.contextType;typeof y=="object"&&y!==null&&(g=Se(y)),g=new l(o,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=vh,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=o,g.state=n.memoizedState,g.refs={},qc(n),y=l.contextType,g.context=typeof y=="object"&&y!==null?Se(y):Cl,g.state=n.memoizedState,y=l.getDerivedStateFromProps,typeof y=="function"&&(ph(n,l,y,o),g.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(y=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),y!==g.state&&vh.enqueueReplaceState(g,g.state,null),ka(n,o,g,f),ja(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){g=n.stateNode;var E=n.memoizedProps,A=Hs(l,E);g.props=A;var G=g.context,H=l.contextType;y=Cl,typeof H=="object"&&H!==null&&(y=Se(H));var q=l.getDerivedStateFromProps;H=typeof q=="function"||typeof g.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E||G!==y)&&qm(n,g,o,y),Pi=!1;var U=n.memoizedState;g.state=U,ka(n,o,g,f),ja(),G=n.memoizedState,E||U!==G||Pi?(typeof q=="function"&&(ph(n,l,q,o),G=n.memoizedState),(A=Pi||Km(n,l,A,o,U,G,y))?(H||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=G),g.props=o,g.state=G,g.context=y,o=A):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{g=n.stateNode,Vc(e,n),y=n.memoizedProps,H=Hs(l,y),g.props=H,q=n.pendingProps,U=g.context,G=l.contextType,A=Cl,typeof G=="object"&&G!==null&&(A=Se(G)),E=l.getDerivedStateFromProps,(G=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==q||U!==A)&&qm(n,g,o,A),Pi=!1,U=n.memoizedState,g.state=U,ka(n,o,g,f),ja();var X=n.memoizedState;y!==q||U!==X||Pi||e!==null&&e.dependencies!==null&&po(e.dependencies)?(typeof E=="function"&&(ph(n,l,E,o),X=n.memoizedState),(H=Pi||Km(n,l,H,o,U,X,A)||e!==null&&e.dependencies!==null&&po(e.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,X,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,X,A)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=X),g.props=o,g.state=X,g.context=A,o=H):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),o=!1)}return g=o,Uo(e,n),o=(n.flags&128)!==0,g||o?(g=n.stateNode,l=o&&typeof l.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&o?(n.child=Fs(n,e.child,null,f),n.child=Fs(n,null,l,f)):xe(e,n,l,f),n.memoizedState=g.state,e=n.child):e=gi(e,n,f),e}function u_(e,n,l,o){return Is(),n.flags|=256,xe(e,n,l,o),n.child}var Th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ch(e){return{baseLanes:e,cachePool:Jg()}}function Rh(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=cn),e}function c_(e,n,l){var o=n.pendingProps,f=!1,g=(n.flags&128)!==0,y;if((y=g)||(y=e!==null&&e.memoizedState===null?!1:(ee.current&2)!==0),y&&(f=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(At){if(f?Vi(n):Wi(),(e=Kt)?(e=py(e,Sn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Hi!==null?{id:Wn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},l=jg(e),l.return=n,n.child=l,Ee=n,Kt=null)):e=null,e===null)throw ki(n);return of(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,f?(Wi(),f=n.mode,E=Yo({mode:"hidden",children:E},f),o=zs(o,f,l,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Ch(l),o.childLanes=Rh(e,y,l),n.memoizedState=Th,Va(null,o)):(Vi(n),bh(n,E))}var A=e.memoizedState;if(A!==null&&(E=A.dehydrated,E!==null)){if(g)n.flags&256?(Vi(n),n.flags&=-257,n=Ah(e,n,l)):n.memoizedState!==null?(Wi(),n.child=e.child,n.flags|=128,n=null):(Wi(),E=o.fallback,f=n.mode,o=Yo({mode:"visible",children:o.children},f),E=zs(E,f,l,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Fs(n,e.child,null,l),o=n.child,o.memoizedState=Ch(l),o.childLanes=Rh(e,y,l),n.memoizedState=Th,n=Va(null,o));else if(Vi(n),of(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var G=y.dgst;y=G,o=Error(s(419)),o.stack="",o.digest=y,Ua({value:o,source:null,stack:null}),n=Ah(e,n,l)}else if(le||Ml(e,n,l,!1),y=(l&e.childLanes)!==0,le||y){if(y=Zt,y!==null&&(o=dn(y,l),o!==0&&o!==A.retryLane))throw A.retryLane=o,Ls(e,o),Ke(y,e,o),Sh;rf(E)||Ko(),n=Ah(e,n,l)}else rf(E)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,Kt=Tn(E.nextSibling),Ee=n,At=!0,ji=null,Sn=!1,e!==null&&Pg(n,e),n=bh(n,o.children),n.flags|=4096);return n}return f?(Wi(),E=o.fallback,f=n.mode,A=e.child,G=A.sibling,o=oi(A,{mode:"hidden",children:o.children}),o.subtreeFlags=A.subtreeFlags&65011712,G!==null?E=oi(G,E):(E=zs(E,f,l,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Va(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Ch(l):(f=E.cachePool,f!==null?(A=ie._currentValue,f=f.parent!==A?{parent:A,pool:A}:f):f=Jg(),E={baseLanes:E.baseLanes|l,cachePool:f}),o.memoizedState=E,o.childLanes=Rh(e,y,l),n.memoizedState=Th,Va(e.child,o)):(Vi(n),l=e.child,e=l.sibling,l=oi(l,{mode:"visible",children:o.children}),l.return=n,l.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=l,n.memoizedState=null,l)}function bh(e,n){return n=Yo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yo(e,n){return e=an(22,e,null,n),e.lanes=0,e}function Ah(e,n,l){return Fs(n,e.child,null,l),e=bh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function h_(e,n,l){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Hc(e.return,n,l)}function Mh(e,n,l,o,f,g){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:l,tailMode:f,treeForkCount:g}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=l,y.tailMode=f,y.treeForkCount=g)}function f_(e,n,l){var o=n.pendingProps,f=o.revealOrder,g=o.tail;o=o.children;var y=ee.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,W(ee,y),xe(e,n,o,l),o=At?Ga:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&h_(e,l,n);else if(e.tag===19)h_(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(l=n.child,f=null;l!==null;)e=l.alternate,e!==null&&bo(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=n.child,n.child=null):(f=l.sibling,l.sibling=null),Mh(n,!1,f,l,g,o);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&bo(e)===null){n.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}Mh(n,!0,l,null,g,o);break;case"together":Mh(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function gi(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),$i|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Ml(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,l=oi(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=oi(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function wh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&po(e)))}function G1(e,n,l){switch(n.tag){case 3:kt(n,n.stateNode.containerInfo),Zi(n,ie,e.memoizedState.cache),Is();break;case 27:case 5:ce(n);break;case 4:kt(n,n.stateNode.containerInfo);break;case 10:Zi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,th(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Vi(n),n.flags|=128,null):(l&n.child.childLanes)!==0?c_(e,n,l):(Vi(n),e=gi(e,n,l),e!==null?e.sibling:null);Vi(n);break;case 19:var f=(e.flags&128)!==0;if(o=(l&n.childLanes)!==0,o||(Ml(e,n,l,!1),o=(l&n.childLanes)!==0),f){if(o)return f_(e,n,l);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(ee,ee.current),o)break;return null;case 22:return n.lanes=0,s_(e,n,l,n.pendingProps);case 24:Zi(n,ie,e.memoizedState.cache)}return gi(e,n,l)}function d_(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)le=!0;else{if(!wh(e,l)&&(n.flags&128)===0)return le=!1,G1(e,n,l);le=(e.flags&131072)!==0}else le=!1,At&&(n.flags&1048576)!==0&&Zg(n,Ga,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ys(n.elementType),n.type=e,typeof e=="function")Ic(e)?(o=Hs(e,o),n.tag=1,n=o_(null,n,e,o,l)):(n.tag=0,n=xh(null,n,e,o,l));else{if(e!=null){var f=e.$$typeof;if(f===M){n.tag=11,n=e_(null,n,e,o,l);break t}else if(f===B){n.tag=14,n=n_(null,n,e,o,l);break t}}throw n=ft(e)||e,Error(s(306,n,""))}}return n;case 0:return xh(e,n,n.type,n.pendingProps,l);case 1:return o=n.type,f=Hs(o,n.pendingProps),o_(e,n,o,f,l);case 3:t:{if(kt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var g=n.memoizedState;f=g.element,Vc(e,n),ka(n,o,null,l);var y=n.memoizedState;if(o=y.cache,Zi(n,ie,o),o!==g.cache&&jc(n,[ie],l,!0),ja(),o=y.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=u_(e,n,o,l);break t}else if(o!==f){f=pn(Error(s(424)),n),Ua(f),n=u_(e,n,o,l);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Kt=Tn(e.firstChild),Ee=n,At=!0,ji=null,Sn=!0,l=sm(n,null,o,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Is(),o===f){n=gi(e,n,l);break t}xe(e,n,o,l)}n=n.child}return n;case 26:return Uo(e,n),e===null?(l=Cy(n.type,null,n.pendingProps,null))?n.memoizedState=l:At||(l=n.type,e=n.pendingProps,o=tu(dt.current).createElement(l),o[ve]=n,o[Be]=e,Te(o,l,e),de(o),n.stateNode=o):n.memoizedState=Cy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ce(n),e===null&&At&&(o=n.stateNode=Sy(n.type,n.pendingProps,dt.current),Ee=n,Sn=!0,f=Kt,ss(n.type)?(uf=f,Kt=Tn(o.firstChild)):Kt=f),xe(e,n,n.pendingProps.children,l),Uo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&At&&((f=o=Kt)&&(o=fE(o,n.type,n.pendingProps,Sn),o!==null?(n.stateNode=o,Ee=n,Kt=Tn(o.firstChild),Sn=!1,f=!0):f=!1),f||ki(n)),ce(n),f=n.type,g=n.pendingProps,y=e!==null?e.memoizedProps:null,o=g.children,sf(f,g)?o=null:y!==null&&sf(f,y)&&(n.flags|=32),n.memoizedState!==null&&(f=nh(e,n,A1,null,null,l),cr._currentValue=f),Uo(e,n),xe(e,n,o,l),n.child;case 6:return e===null&&At&&((e=l=Kt)&&(l=dE(l,n.pendingProps,Sn),l!==null?(n.stateNode=l,Ee=n,Kt=null,e=!0):e=!1),e||ki(n)),null;case 13:return c_(e,n,l);case 4:return kt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Fs(n,null,o,l):xe(e,n,o,l),n.child;case 11:return e_(e,n,n.type,n.pendingProps,l);case 7:return xe(e,n,n.pendingProps,l),n.child;case 8:return xe(e,n,n.pendingProps.children,l),n.child;case 12:return xe(e,n,n.pendingProps.children,l),n.child;case 10:return o=n.pendingProps,Zi(n,n.type,o.value),xe(e,n,o.children,l),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,Gs(n),f=Se(f),o=o(f),n.flags|=1,xe(e,n,o,l),n.child;case 14:return n_(e,n,n.type,n.pendingProps,l);case 15:return i_(e,n,n.type,n.pendingProps,l);case 19:return f_(e,n,l);case 31:return N1(e,n,l);case 22:return s_(e,n,l,n.pendingProps);case 24:return Gs(n),o=Se(ie),e===null?(f=Pc(),f===null&&(f=Zt,g=kc(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=l),f=g),n.memoizedState={parent:o,cache:f},qc(n),Zi(n,ie,f)):((e.lanes&l)!==0&&(Vc(e,n),ka(n,null,null,l),ja()),f=e.memoizedState,g=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Zi(n,ie,o)):(o=g.cache,Zi(n,ie,o),o!==f.cache&&jc(n,[ie],l,!0))),xe(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function mi(e){e.flags|=4}function Oh(e,n,l,o,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(F_())e.flags|=8192;else throw Xs=xo,Kc}else e.flags&=-16777217}function g_(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wy(n))if(F_())e.flags|=8192;else throw Xs=xo,Kc}function Xo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ca():536870912,e.lanes|=n,Fl|=n)}function Wa(e,n){if(!At)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function qt(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,o=0;if(n)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=l,n}function U1(e,n,l){var o=n.pendingProps;switch(Yc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(n),null;case 1:return qt(n),null;case 3:return l=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),hi(ie),wt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Al(n)?mi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fc())),qt(n),null;case 26:var f=n.type,g=n.memoizedState;return e===null?(mi(n),g!==null?(qt(n),g_(n,g)):(qt(n),Oh(n,f,null,o,l))):g?g!==e.memoizedState?(mi(n),qt(n),g_(n,g)):(qt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&mi(n),qt(n),Oh(n,f,e,o,l)),null;case 27:if(Zn(n),l=dt.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&mi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return qt(n),null}e=$.current,Al(n)?Kg(n):(e=Sy(f,o,l),n.stateNode=e,mi(n))}return qt(n),null;case 5:if(Zn(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&mi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return qt(n),null}if(g=$.current,Al(n))Kg(n);else{var y=tu(dt.current);switch(g){case 1:g=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=y.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?g.multiple=!0:o.size&&(g.size=o.size);break;default:g=typeof o.is=="string"?y.createElement(f,{is:o.is}):y.createElement(f)}}g[ve]=n,g[Be]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)g.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=g;t:switch(Te(g,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&mi(n)}}return qt(n),Oh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&mi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=dt.current,Al(n)){if(e=n.stateNode,l=n.memoizedProps,o=null,f=Ee,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[ve]=n,e=!!(e.nodeValue===l||o!==null&&o.suppressHydrationWarning===!0||cy(e.nodeValue,l)),e||ki(n,!0)}else e=tu(e).createTextNode(o),e[ve]=n,n.stateNode=e}return qt(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(o=Al(n),l!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qt(n),e=!1}else l=Fc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(on(n),n):(on(n),null);if((n.flags&128)!==0)throw Error(s(558))}return qt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Al(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ve]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qt(n),f=!1}else f=Fc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(on(n),n):(on(n),null)}return on(n),(n.flags&128)!==0?(n.lanes=l,n):(l=o!==null,e=e!==null&&e.memoizedState!==null,l&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==f&&(o.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),Xo(n,n.updateQueue),qt(n),null);case 4:return wt(),e===null&&Jh(n.stateNode.containerInfo),qt(n),null;case 10:return hi(n.type),qt(n),null;case 19:if(Y(ee),o=n.memoizedState,o===null)return qt(n),null;if(f=(n.flags&128)!==0,g=o.rendering,g===null)if(f)Wa(o,!1);else{if($t!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=bo(e),g!==null){for(n.flags|=128,Wa(o,!1),e=g.updateQueue,n.updateQueue=e,Xo(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Hg(l,e),l=l.sibling;return W(ee,ee.current&1|2),At&&ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ze()>ko&&(n.flags|=128,f=!0,Wa(o,!1),n.lanes=4194304)}else{if(!f)if(e=bo(g),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Xo(n,e),Wa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!g.alternate&&!At)return qt(n),null}else 2*ze()-o.renderingStartTime>ko&&l!==536870912&&(n.flags|=128,f=!0,Wa(o,!1),n.lanes=4194304);o.isBackwards?(g.sibling=n.child,n.child=g):(e=o.last,e!==null?e.sibling=g:n.child=g,o.last=g)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ze(),e.sibling=null,l=ee.current,W(ee,f?l&1|2:l&1),At&&ui(n,o.treeForkCount),e):(qt(n),null);case 22:case 23:return on(n),$c(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(l&536870912)!==0&&(n.flags&128)===0&&(qt(n),n.subtreeFlags&6&&(n.flags|=8192)):qt(n),l=n.updateQueue,l!==null&&Xo(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==l&&(n.flags|=2048),e!==null&&Y(Us),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),hi(ie),qt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Y1(e,n){switch(Yc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return hi(ie),wt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Zn(n),null;case 31:if(n.memoizedState!==null){if(on(n),n.alternate===null)throw Error(s(340));Is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(on(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(ee),null;case 4:return wt(),null;case 10:return hi(n.type),null;case 22:case 23:return on(n),$c(),e!==null&&Y(Us),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return hi(ie),null;case 25:return null;default:return null}}function m_(e,n){switch(Yc(n),n.tag){case 3:hi(ie),wt();break;case 26:case 27:case 5:Zn(n);break;case 4:wt();break;case 31:n.memoizedState!==null&&on(n);break;case 13:on(n);break;case 19:Y(ee);break;case 10:hi(n.type);break;case 22:case 23:on(n),$c(),e!==null&&Y(Us);break;case 24:hi(ie)}}function Qa(e,n){try{var l=n.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var f=o.next;l=f;do{if((l.tag&e)===e){o=void 0;var g=l.create,y=l.inst;o=g(),y.destroy=o}l=l.next}while(l!==f)}}catch(E){Yt(n,n.return,E)}}function Qi(e,n,l){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var g=f.next;o=g;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,f=n;var A=l,G=E;try{G()}catch(H){Yt(f,A,H)}}}o=o.next}while(o!==g)}}catch(H){Yt(n,n.return,H)}}function __(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{am(n,l)}catch(o){Yt(e,e.return,o)}}}function y_(e,n,l){l.props=Hs(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(o){Yt(e,n,o)}}function Ja(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof l=="function"?e.refCleanup=l(o):l.current=o}}catch(f){Yt(e,n,f)}}function Jn(e,n){var l=e.ref,o=e.refCleanup;if(l!==null)if(typeof o=="function")try{o()}catch(f){Yt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Yt(e,n,f)}else l.current=null}function p_(e){var n=e.type,l=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&o.focus();break t;case"img":l.src?o.src=l.src:l.srcSet&&(o.srcset=l.srcSet)}}catch(f){Yt(e,e.return,f)}}function Dh(e,n,l){try{var o=e.stateNode;aE(o,e.type,l,n),o[Be]=n}catch(f){Yt(e,e.return,f)}}function v_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ss(e.type)||e.tag===4}function Lh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||v_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ss(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zh(e,n,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=ai));else if(o!==4&&(o===27&&ss(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(zh(e,n,l),e=e.sibling;e!==null;)zh(e,n,l),e=e.sibling}function Fo(e,n,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(o!==4&&(o===27&&ss(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Fo(e,n,l),e=e.sibling;e!==null;)Fo(e,n,l),e=e.sibling}function E_(e){var n=e.stateNode,l=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Te(n,o,l),n[ve]=e,n[Be]=l}catch(g){Yt(e,e.return,g)}}var _i=!1,ae=!1,Ih=!1,S_=typeof WeakSet=="function"?WeakSet:Set,ge=null;function X1(e,n){if(e=e.containerInfo,ef=ru,e=zg(e),Ac(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else t:{l=(l=e.ownerDocument)&&l.defaultView||window;var o=l.getSelection&&l.getSelection();if(o&&o.rangeCount!==0){l=o.anchorNode;var f=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break t}var y=0,E=-1,A=-1,G=0,H=0,q=e,U=null;e:for(;;){for(var X;q!==l||f!==0&&q.nodeType!==3||(E=y+f),q!==g||o!==0&&q.nodeType!==3||(A=y+o),q.nodeType===3&&(y+=q.nodeValue.length),(X=q.firstChild)!==null;)U=q,q=X;for(;;){if(q===e)break e;if(U===l&&++G===f&&(E=y),U===g&&++H===o&&(A=y),(X=q.nextSibling)!==null)break;q=U,U=q.parentNode}q=X}l=E===-1||A===-1?null:{start:E,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(nf={focusedElem:e,selectionRange:l},ru=!1,ge=n;ge!==null;)if(n=ge,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ge=e;else for(;ge!==null;){switch(n=ge,g=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)f=e[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,l=n,f=g.memoizedProps,g=g.memoizedState,o=l.stateNode;try{var st=Hs(l.type,f);e=o.getSnapshotBeforeUpdate(st,g),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Yt(l,l.return,ht)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)af(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":af(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,ge=e;break}ge=n.return}}function x_(e,n,l){var o=l.flags;switch(l.tag){case 0:case 11:case 15:pi(e,l),o&4&&Qa(5,l);break;case 1:if(pi(e,l),o&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(y){Yt(l,l.return,y)}else{var f=Hs(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Yt(l,l.return,y)}}o&64&&__(l),o&512&&Ja(l,l.return);break;case 3:if(pi(e,l),o&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{am(e,n)}catch(y){Yt(l,l.return,y)}}break;case 27:n===null&&o&4&&E_(l);case 26:case 5:pi(e,l),n===null&&o&4&&p_(l),o&512&&Ja(l,l.return);break;case 12:pi(e,l);break;case 31:pi(e,l),o&4&&R_(e,l);break;case 13:pi(e,l),o&4&&b_(e,l),o&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=q1.bind(null,l),gE(e,l))));break;case 22:if(o=l.memoizedState!==null||_i,!o){n=n!==null&&n.memoizedState!==null||ae,f=_i;var g=ae;_i=o,(ae=n)&&!g?vi(e,l,(l.subtreeFlags&8772)!==0):pi(e,l),_i=f,ae=g}break;case 30:break;default:pi(e,l)}}function T_(e){var n=e.alternate;n!==null&&(e.alternate=null,T_(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&cc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Wt=null,je=!1;function yi(e,n,l){for(l=l.child;l!==null;)C_(e,n,l),l=l.sibling}function C_(e,n,l){if(pe&&typeof pe.onCommitFiberUnmount=="function")try{pe.onCommitFiberUnmount(Xi,l)}catch{}switch(l.tag){case 26:ae||Jn(l,n),yi(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ae||Jn(l,n);var o=Wt,f=je;ss(l.type)&&(Wt=l.stateNode,je=!1),yi(e,n,l),rr(l.stateNode),Wt=o,je=f;break;case 5:ae||Jn(l,n);case 6:if(o=Wt,f=je,Wt=null,yi(e,n,l),Wt=o,je=f,Wt!==null)if(je)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(l.stateNode)}catch(g){Yt(l,n,g)}else try{Wt.removeChild(l.stateNode)}catch(g){Yt(l,n,g)}break;case 18:Wt!==null&&(je?(e=Wt,_y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ql(e)):_y(Wt,l.stateNode));break;case 4:o=Wt,f=je,Wt=l.stateNode.containerInfo,je=!0,yi(e,n,l),Wt=o,je=f;break;case 0:case 11:case 14:case 15:Qi(2,l,n),ae||Qi(4,l,n),yi(e,n,l);break;case 1:ae||(Jn(l,n),o=l.stateNode,typeof o.componentWillUnmount=="function"&&y_(l,n,o)),yi(e,n,l);break;case 21:yi(e,n,l);break;case 22:ae=(o=ae)||l.memoizedState!==null,yi(e,n,l),ae=o;break;default:yi(e,n,l)}}function R_(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ql(e)}catch(l){Yt(n,n.return,l)}}}function b_(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ql(e)}catch(l){Yt(n,n.return,l)}}function F1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new S_),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new S_),n;default:throw Error(s(435,e.tag))}}function Bo(e,n){var l=F1(e);n.forEach(function(o){if(!l.has(o)){l.add(o);var f=V1.bind(null,e,o);o.then(f,f)}})}function ke(e,n){var l=n.deletions;if(l!==null)for(var o=0;o<l.length;o++){var f=l[o],g=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ss(E.type)){Wt=E.stateNode,je=!1;break t}break;case 5:Wt=E.stateNode,je=!1;break t;case 3:case 4:Wt=E.stateNode.containerInfo,je=!0;break t}E=E.return}if(Wt===null)throw Error(s(160));C_(g,y,f),Wt=null,je=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)A_(n,e),n=n.sibling}var Un=null;function A_(e,n){var l=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ke(n,e),Ze(e),o&4&&(Qi(3,e,e.return),Qa(3,e),Qi(5,e,e.return));break;case 1:ke(n,e),Ze(e),o&512&&(ae||l===null||Jn(l,l.return)),o&64&&_i&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?o:l.concat(o))));break;case 26:var f=Un;if(ke(n,e),Ze(e),o&512&&(ae||l===null||Jn(l,l.return)),o&4){var g=l!==null?l.memoizedState:null;if(o=e.memoizedState,l===null)if(o===null)if(e.stateNode===null){t:{o=e.type,l=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ra]||g[ve]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(o),f.head.insertBefore(g,f.querySelector("head > title"))),Te(g,o,l),g[ve]=e,de(g),o=g;break t;case"link":var y=Ay("link","href",f).get(o+(l.href||""));if(y){for(var E=0;E<y.length;E++)if(g=y[E],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){y.splice(E,1);break e}}g=f.createElement(o),Te(g,o,l),f.head.appendChild(g);break;case"meta":if(y=Ay("meta","content",f).get(o+(l.content||""))){for(E=0;E<y.length;E++)if(g=y[E],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){y.splice(E,1);break e}}g=f.createElement(o),Te(g,o,l),f.head.appendChild(g);break;default:throw Error(s(468,o))}g[ve]=e,de(g),o=g}e.stateNode=o}else My(f,e.type,e.stateNode);else e.stateNode=by(f,o,e.memoizedProps);else g!==o?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,o===null?My(f,e.type,e.stateNode):by(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Dh(e,e.memoizedProps,l.memoizedProps)}break;case 27:ke(n,e),Ze(e),o&512&&(ae||l===null||Jn(l,l.return)),l!==null&&o&4&&Dh(e,e.memoizedProps,l.memoizedProps);break;case 5:if(ke(n,e),Ze(e),o&512&&(ae||l===null||Jn(l,l.return)),e.flags&32){f=e.stateNode;try{yl(f,"")}catch(st){Yt(e,e.return,st)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Dh(e,f,l!==null?l.memoizedProps:f)),o&1024&&(Ih=!0);break;case 6:if(ke(n,e),Ze(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,l=e.stateNode;try{l.nodeValue=o}catch(st){Yt(e,e.return,st)}}break;case 3:if(iu=null,f=Un,Un=eu(n.containerInfo),ke(n,e),Un=f,Ze(e),o&4&&l!==null&&l.memoizedState.isDehydrated)try{ql(n.containerInfo)}catch(st){Yt(e,e.return,st)}Ih&&(Ih=!1,M_(e));break;case 4:o=Un,Un=eu(e.stateNode.containerInfo),ke(n,e),Ze(e),Un=o;break;case 12:ke(n,e),Ze(e);break;case 31:ke(n,e),Ze(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Bo(e,o)));break;case 13:ke(n,e),Ze(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(jo=ze()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Bo(e,o)));break;case 22:f=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,G=_i,H=ae;if(_i=G||f,ae=H||A,ke(n,e),ae=H,_i=G,Ze(e),o&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(l===null||A||_i||ae||js(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){A=l=n;try{if(g=A.stateNode,f)y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=A.stateNode;var q=A.memoizedProps.style,U=q!=null&&q.hasOwnProperty("display")?q.display:null;E.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(st){Yt(A,A.return,st)}}}else if(n.tag===6){if(l===null){A=n;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(st){Yt(A,A.return,st)}}}else if(n.tag===18){if(l===null){A=n;try{var X=A.stateNode;f?yy(X,!0):yy(A.stateNode,!1)}catch(st){Yt(A,A.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(l=o.retryQueue,l!==null&&(o.retryQueue=null,Bo(e,l))));break;case 19:ke(n,e),Ze(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Bo(e,o)));break;case 30:break;case 21:break;default:ke(n,e),Ze(e)}}function Ze(e){var n=e.flags;if(n&2){try{for(var l,o=e.return;o!==null;){if(v_(o)){l=o;break}o=o.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var f=l.stateNode,g=Lh(e);Fo(e,g,f);break;case 5:var y=l.stateNode;l.flags&32&&(yl(y,""),l.flags&=-33);var E=Lh(e);Fo(e,E,y);break;case 3:case 4:var A=l.stateNode.containerInfo,G=Lh(e);zh(e,G,A);break;default:throw Error(s(161))}}catch(H){Yt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function M_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;M_(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function pi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)x_(e,n.alternate,n),n=n.sibling}function js(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Qi(4,n,n.return),js(n);break;case 1:Jn(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&y_(n,n.return,l),js(n);break;case 27:rr(n.stateNode);case 26:case 5:Jn(n,n.return),js(n);break;case 22:n.memoizedState===null&&js(n);break;case 30:js(n);break;default:js(n)}e=e.sibling}}function vi(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,g=n,y=g.flags;switch(g.tag){case 0:case 11:case 15:vi(f,g,l),Qa(4,g);break;case 1:if(vi(f,g,l),o=g,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Yt(o,o.return,G)}if(o=g,f=o.updateQueue,f!==null){var E=o.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)lm(A[f],E)}catch(G){Yt(o,o.return,G)}}l&&y&64&&__(g),Ja(g,g.return);break;case 27:E_(g);case 26:case 5:vi(f,g,l),l&&o===null&&y&4&&p_(g),Ja(g,g.return);break;case 12:vi(f,g,l);break;case 31:vi(f,g,l),l&&y&4&&R_(f,g);break;case 13:vi(f,g,l),l&&y&4&&b_(f,g);break;case 22:g.memoizedState===null&&vi(f,g,l),Ja(g,g.return);break;case 30:break;default:vi(f,g,l)}n=n.sibling}}function Nh(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ya(l))}function Gh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ya(e))}function Yn(e,n,l,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)w_(e,n,l,o),n=n.sibling}function w_(e,n,l,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,l,o),f&2048&&Qa(9,n);break;case 1:Yn(e,n,l,o);break;case 3:Yn(e,n,l,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ya(e)));break;case 12:if(f&2048){Yn(e,n,l,o),e=n.stateNode;try{var g=n.memoizedProps,y=g.id,E=g.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Yt(n,n.return,A)}}else Yn(e,n,l,o);break;case 31:Yn(e,n,l,o);break;case 13:Yn(e,n,l,o);break;case 23:break;case 22:g=n.stateNode,y=n.alternate,n.memoizedState!==null?g._visibility&2?Yn(e,n,l,o):$a(e,n):g._visibility&2?Yn(e,n,l,o):(g._visibility|=2,Ul(e,n,l,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Nh(y,n);break;case 24:Yn(e,n,l,o),f&2048&&Gh(n.alternate,n);break;default:Yn(e,n,l,o)}}function Ul(e,n,l,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var g=e,y=n,E=l,A=o,G=y.flags;switch(y.tag){case 0:case 11:case 15:Ul(g,y,E,A,f),Qa(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Ul(g,y,E,A,f):$a(g,y):(H._visibility|=2,Ul(g,y,E,A,f)),f&&G&2048&&Nh(y.alternate,y);break;case 24:Ul(g,y,E,A,f),f&&G&2048&&Gh(y.alternate,y);break;default:Ul(g,y,E,A,f)}n=n.sibling}}function $a(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,o=n,f=o.flags;switch(o.tag){case 22:$a(l,o),f&2048&&Nh(o.alternate,o);break;case 24:$a(l,o),f&2048&&Gh(o.alternate,o);break;default:$a(l,o)}n=n.sibling}}var tr=8192;function Yl(e,n,l){if(e.subtreeFlags&tr)for(e=e.child;e!==null;)O_(e,n,l),e=e.sibling}function O_(e,n,l){switch(e.tag){case 26:Yl(e,n,l),e.flags&tr&&e.memoizedState!==null&&bE(l,Un,e.memoizedState,e.memoizedProps);break;case 5:Yl(e,n,l);break;case 3:case 4:var o=Un;Un=eu(e.stateNode.containerInfo),Yl(e,n,l),Un=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=tr,tr=16777216,Yl(e,n,l),tr=o):Yl(e,n,l));break;default:Yl(e,n,l)}}function D_(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function er(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var o=n[l];ge=o,z_(o,e)}D_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)L_(e),e=e.sibling}function L_(e){switch(e.tag){case 0:case 11:case 15:er(e),e.flags&2048&&Qi(9,e,e.return);break;case 3:er(e);break;case 12:er(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ho(e)):er(e);break;default:er(e)}}function Ho(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var o=n[l];ge=o,z_(o,e)}D_(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Qi(8,n,n.return),Ho(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,Ho(n));break;default:Ho(n)}e=e.sibling}}function z_(e,n){for(;ge!==null;){var l=ge;switch(l.tag){case 0:case 11:case 15:Qi(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var o=l.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ya(l.memoizedState.cache)}if(o=l.child,o!==null)o.return=l,ge=o;else t:for(l=e;ge!==null;){o=ge;var f=o.sibling,g=o.return;if(T_(o),o===l){ge=null;break t}if(f!==null){f.return=g,ge=f;break t}ge=g}}}var B1={getCacheForType:function(e){var n=Se(ie),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return Se(ie).controller.signal}},H1=typeof WeakMap=="function"?WeakMap:Map,It=0,Zt=null,xt=null,Ct=0,Ut=0,un=null,Ji=!1,Xl=!1,Uh=!1,Ei=0,$t=0,$i=0,ks=0,Yh=0,cn=0,Fl=0,nr=null,Pe=null,Xh=!1,jo=0,I_=0,ko=1/0,Zo=null,ts=null,oe=0,es=null,Bl=null,Si=0,Fh=0,Bh=null,N_=null,ir=0,Hh=null;function hn(){return(It&2)!==0&&Ct!==0?Ct&-Ct:I.T!==null?qh():fe()}function G_(){if(cn===0)if((Ct&536870912)===0||At){var e=cl;cl<<=1,(cl&3932160)===0&&(cl=262144),cn=e}else cn=536870912;return e=rn.current,e!==null&&(e.flags|=32),cn}function Ke(e,n,l){(e===Zt&&(Ut===2||Ut===9)||e.cancelPendingCommit!==null)&&(Hl(e,0),ns(e,Ct,cn,!1)),en(e,l),((It&2)===0||e!==Zt)&&(e===Zt&&((It&2)===0&&(ks|=l),$t===4&&ns(e,Ct,cn,!1)),$n(e))}function U_(e,n,l){if((It&6)!==0)throw Error(s(327));var o=!l&&(n&127)===0&&(n&e.expiredLanes)===0||Nn(e,n),f=o?Z1(e,n):kh(e,n,!0),g=o;do{if(f===0){Xl&&!o&&ns(e,n,0,!1);break}else{if(l=e.current.alternate,g&&!j1(l)){f=kh(e,n,!1),g=!1;continue}if(f===2){if(g=n,e.errorRecoveryDisabledLanes&g)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;f=nr;var A=E.current.memoizedState.isDehydrated;if(A&&(Hl(E,y).flags|=256),y=kh(E,y,!1),y!==2){if(Uh&&!A){E.errorRecoveryDisabledLanes|=g,ks|=g,f=4;break t}g=Pe,Pe=f,g!==null&&(Pe===null?Pe=g:Pe.push.apply(Pe,g))}f=y}if(g=!1,f!==2)continue}}if(f===1){Hl(e,0),ns(e,n,0,!0);break}t:{switch(o=e,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ns(o,n,cn,!Ji);break t;case 2:Pe=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=jo+300-ze(),10<f)){if(ns(o,n,cn,!Ji),qn(o,0,!0)!==0)break t;Si=n,o.timeoutHandle=gy(Y_.bind(null,o,l,Pe,Zo,Xh,n,cn,ks,Fl,Ji,g,"Throttled",-0,0),f);break t}Y_(o,l,Pe,Zo,Xh,n,cn,ks,Fl,Ji,g,null,-0,0)}}break}while(!0);$n(e)}function Y_(e,n,l,o,f,g,y,E,A,G,H,q,U,X){if(e.timeoutHandle=-1,q=n.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},O_(n,g,q);var st=(g&62914560)===g?jo-ze():(g&4194048)===g?I_-ze():0;if(st=AE(q,st),st!==null){Si=g,e.cancelPendingCommit=st(P_.bind(null,e,n,g,l,o,f,y,E,A,H,q,null,U,X)),ns(e,g,y,!G);return}}P_(e,n,g,l,o,f,y,E,A)}function j1(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var o=0;o<l.length;o++){var f=l[o],g=f.getSnapshot;f=f.value;try{if(!ln(g(),f))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ns(e,n,l,o){n&=~Yh,n&=~ks,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var g=31-Ie(f),y=1<<g;o[g]=-1,f&=~y}l!==0&&nn(e,l,n)}function Po(){return(It&6)===0?(sr(0),!1):!0}function jh(){if(xt!==null){if(Ut===0)var e=xt.return;else e=xt,ci=Ns=null,lh(e),Ll=null,Fa=0,e=xt;for(;e!==null;)m_(e.alternate,e),e=e.return;xt=null}}function Hl(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,uE(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Si=0,jh(),Zt=e,xt=l=oi(e.current,null),Ct=n,Ut=0,un=null,Ji=!1,Xl=Nn(e,n),Uh=!1,Fl=cn=Yh=ks=$i=$t=0,Pe=nr=null,Xh=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-Ie(o),g=1<<f;n|=e[f],o&=~g}return Ei=n,fo(),l}function X_(e,n){yt=null,I.H=qa,n===Dl||n===So?(n=em(),Ut=3):n===Kc?(n=em(),Ut=4):Ut=n===Sh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,xt===null&&($t=1,No(e,pn(n,e.current)))}function F_(){var e=rn.current;return e===null?!0:(Ct&4194048)===Ct?xn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===xn:!1}function B_(){var e=I.H;return I.H=qa,e===null?qa:e}function H_(){var e=I.A;return I.A=B1,e}function Ko(){$t=4,Ji||(Ct&4194048)!==Ct&&rn.current!==null||(Xl=!0),($i&134217727)===0&&(ks&134217727)===0||Zt===null||ns(Zt,Ct,cn,!1)}function kh(e,n,l){var o=It;It|=2;var f=B_(),g=H_();(Zt!==e||Ct!==n)&&(Zo=null,Hl(e,n)),n=!1;var y=$t;t:do try{if(Ut!==0&&xt!==null){var E=xt,A=un;switch(Ut){case 8:jh(),y=6;break t;case 3:case 2:case 9:case 6:rn.current===null&&(n=!0);var G=Ut;if(Ut=0,un=null,jl(e,E,A,G),l&&Xl){y=0;break t}break;default:G=Ut,Ut=0,un=null,jl(e,E,A,G)}}k1(),y=$t;break}catch(H){X_(e,H)}while(!0);return n&&e.shellSuspendCounter++,ci=Ns=null,It=o,I.H=f,I.A=g,xt===null&&(Zt=null,Ct=0,fo()),y}function k1(){for(;xt!==null;)j_(xt)}function Z1(e,n){var l=It;It|=2;var o=B_(),f=H_();Zt!==e||Ct!==n?(Zo=null,ko=ze()+500,Hl(e,n)):Xl=Nn(e,n);t:do try{if(Ut!==0&&xt!==null){n=xt;var g=un;e:switch(Ut){case 1:Ut=0,un=null,jl(e,n,g,1);break;case 2:case 9:if($g(g)){Ut=0,un=null,k_(n);break}n=function(){Ut!==2&&Ut!==9||Zt!==e||(Ut=7),$n(e)},g.then(n,n);break t;case 3:Ut=7;break t;case 4:Ut=5;break t;case 7:$g(g)?(Ut=0,un=null,k_(n)):(Ut=0,un=null,jl(e,n,g,7));break;case 5:var y=null;switch(xt.tag){case 26:y=xt.memoizedState;case 5:case 27:var E=xt;if(y?wy(y):E.stateNode.complete){Ut=0,un=null;var A=E.sibling;if(A!==null)xt=A;else{var G=E.return;G!==null?(xt=G,qo(G)):xt=null}break e}}Ut=0,un=null,jl(e,n,g,5);break;case 6:Ut=0,un=null,jl(e,n,g,6);break;case 8:jh(),$t=6;break t;default:throw Error(s(462))}}P1();break}catch(H){X_(e,H)}while(!0);return ci=Ns=null,I.H=o,I.A=f,It=l,xt!==null?0:(Zt=null,Ct=0,fo(),$t)}function P1(){for(;xt!==null&&!al();)j_(xt)}function j_(e){var n=d_(e.alternate,e,Ei);e.memoizedProps=e.pendingProps,n===null?qo(e):xt=n}function k_(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=r_(l,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=r_(l,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:lh(n);default:m_(l,n),n=xt=Hg(n,Ei),n=d_(l,n,Ei)}e.memoizedProps=e.pendingProps,n===null?qo(e):xt=n}function jl(e,n,l,o){ci=Ns=null,lh(n),Ll=null,Fa=0;var f=n.return;try{if(I1(e,f,n,l,Ct)){$t=1,No(e,pn(l,e.current)),xt=null;return}}catch(g){if(f!==null)throw xt=f,g;$t=1,No(e,pn(l,e.current)),xt=null;return}n.flags&32768?(At||o===1?e=!0:Xl||(Ct&536870912)!==0?e=!1:(Ji=e=!0,(o===2||o===9||o===3||o===6)&&(o=rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Z_(n,e)):qo(n)}function qo(e){var n=e;do{if((n.flags&32768)!==0){Z_(n,Ji);return}e=n.return;var l=U1(n.alternate,n,Ei);if(l!==null){xt=l;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);$t===0&&($t=5)}function Z_(e,n){do{var l=Y1(e.alternate,e);if(l!==null){l.flags&=32767,xt=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=l}while(e!==null);$t=6,xt=null}function P_(e,n,l,o,f,g,y,E,A){e.cancelPendingCommit=null;do Vo();while(oe!==0);if((It&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(g=n.lanes|n.childLanes,g|=Lc,Fe(e,l,g,y,E,A),e===Zt&&(xt=Zt=null,Ct=0),Bl=n,es=e,Si=l,Fh=g,Bh=f,N_=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,W1(Yi,function(){return Q_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=I.T,I.T=null,f=k.p,k.p=2,y=It,It|=4;try{X1(e,n,l)}finally{It=y,k.p=f,I.T=o}}oe=1,K_(),q_(),V_()}}function K_(){if(oe===1){oe=0;var e=es,n=Bl,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=I.T,I.T=null;var o=k.p;k.p=2;var f=It;It|=4;try{A_(n,e);var g=nf,y=zg(e.containerInfo),E=g.focusedElem,A=g.selectionRange;if(y!==E&&E&&E.ownerDocument&&Lg(E.ownerDocument.documentElement,E)){if(A!==null&&Ac(E)){var G=A.start,H=A.end;if(H===void 0&&(H=G),"selectionStart"in E)E.selectionStart=G,E.selectionEnd=Math.min(H,E.value.length);else{var q=E.ownerDocument||document,U=q&&q.defaultView||window;if(U.getSelection){var X=U.getSelection(),st=E.textContent.length,ht=Math.min(A.start,st),jt=A.end===void 0?ht:Math.min(A.end,st);!X.extend&&ht>jt&&(y=jt,jt=ht,ht=y);var L=Dg(E,ht),O=Dg(E,jt);if(L&&O&&(X.rangeCount!==1||X.anchorNode!==L.node||X.anchorOffset!==L.offset||X.focusNode!==O.node||X.focusOffset!==O.offset)){var N=q.createRange();N.setStart(L.node,L.offset),X.removeAllRanges(),ht>jt?(X.addRange(N),X.extend(O.node,O.offset)):(N.setEnd(O.node,O.offset),X.addRange(N))}}}}for(q=[],X=E;X=X.parentNode;)X.nodeType===1&&q.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<q.length;E++){var P=q[E];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}ru=!!ef,nf=ef=null}finally{It=f,k.p=o,I.T=l}}e.current=n,oe=2}}function q_(){if(oe===2){oe=0;var e=es,n=Bl,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=I.T,I.T=null;var o=k.p;k.p=2;var f=It;It|=4;try{x_(e,n.alternate,n)}finally{It=f,k.p=o,I.T=l}}oe=3}}function V_(){if(oe===4||oe===3){oe=0,he();var e=es,n=Bl,l=Si,o=N_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?oe=5:(oe=0,Bl=es=null,W_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(ts=null),Pt(l),n=n.stateNode,pe&&typeof pe.onCommitFiberRoot=="function")try{pe.onCommitFiberRoot(Xi,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=I.T,f=k.p,k.p=2,I.T=null;try{for(var g=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];g(E.value,{componentStack:E.stack})}}finally{I.T=n,k.p=f}}(Si&3)!==0&&Vo(),$n(e),f=e.pendingLanes,(l&261930)!==0&&(f&42)!==0?e===Hh?ir++:(ir=0,Hh=e):ir=0,sr(0)}}function W_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ya(n)))}function Vo(){return K_(),q_(),V_(),Q_()}function Q_(){if(oe!==5)return!1;var e=es,n=Fh;Fh=0;var l=Pt(Si),o=I.T,f=k.p;try{k.p=32>l?32:l,I.T=null,l=Bh,Bh=null;var g=es,y=Si;if(oe=0,Bl=es=null,Si=0,(It&6)!==0)throw Error(s(331));var E=It;if(It|=4,L_(g.current),w_(g,g.current,y,l),It=E,sr(0,!1),pe&&typeof pe.onPostCommitFiberRoot=="function")try{pe.onPostCommitFiberRoot(Xi,g)}catch{}return!0}finally{k.p=f,I.T=o,W_(e,n)}}function J_(e,n,l){n=pn(l,n),n=Eh(e.stateNode,n,2),e=qi(e,n,2),e!==null&&(en(e,2),$n(e))}function Yt(e,n,l){if(e.tag===3)J_(e,e,l);else for(;n!==null;){if(n.tag===3){J_(n,e,l);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ts===null||!ts.has(o))){e=pn(l,e),l=$m(2),o=qi(n,l,2),o!==null&&(t_(l,o,n,e),en(o,2),$n(o));break}}n=n.return}}function Zh(e,n,l){var o=e.pingCache;if(o===null){o=e.pingCache=new H1;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(l)||(Uh=!0,f.add(l),e=K1.bind(null,e,n,l),n.then(e,e))}function K1(e,n,l){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Zt===e&&(Ct&l)===l&&($t===4||$t===3&&(Ct&62914560)===Ct&&300>ze()-jo?(It&2)===0&&Hl(e,0):Yh|=l,Fl===Ct&&(Fl=0)),$n(e)}function $_(e,n){n===0&&(n=Ca()),e=Ls(e,n),e!==null&&(en(e,n),$n(e))}function q1(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),$_(e,l)}function V1(e,n){var l=0;switch(e.tag){case 31:case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),$_(e,l)}function W1(e,n){return si(e,n)}var Wo=null,kl=null,Ph=!1,Qo=!1,Kh=!1,is=0;function $n(e){e!==kl&&e.next===null&&(kl===null?Wo=kl=e:kl=kl.next=e),Qo=!0,Ph||(Ph=!0,J1())}function sr(e,n){if(!Kh&&Qo){Kh=!0;do for(var l=!1,o=Wo;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var g=0;else{var y=o.suspendedLanes,E=o.pingedLanes;g=(1<<31-Ie(42|e)+1)-1,g&=f&~(y&~E),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,iy(o,g))}else g=Ct,g=qn(o,o===Zt?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||Nn(o,g)||(l=!0,iy(o,g));o=o.next}while(l);Kh=!1}}function Q1(){ty()}function ty(){Qo=Ph=!1;var e=0;is!==0&&oE()&&(e=is);for(var n=ze(),l=null,o=Wo;o!==null;){var f=o.next,g=ey(o,n);g===0?(o.next=null,l===null?Wo=f:l.next=f,f===null&&(kl=l)):(l=o,(e!==0||(g&3)!==0)&&(Qo=!0)),o=f}oe!==0&&oe!==5||sr(e),is!==0&&(is=0)}function ey(e,n){for(var l=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var y=31-Ie(g),E=1<<y,A=f[y];A===-1?((E&l)===0||(E&o)!==0)&&(f[y]=to(E,n)):A<=n&&(e.expiredLanes|=E),g&=~E}if(n=Zt,l=Ct,l=qn(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,l===0||e===n&&(Ut===2||Ut===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Pn(o),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Nn(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(o!==null&&Pn(o),Pt(l)){case 2:case 8:l=ol;break;case 32:l=Yi;break;case 268435456:l=bs;break;default:l=Yi}return o=ny.bind(null,e),l=si(l,o),e.callbackPriority=n,e.callbackNode=l,n}return o!==null&&o!==null&&Pn(o),e.callbackPriority=2,e.callbackNode=null,2}function ny(e,n){if(oe!==0&&oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Vo()&&e.callbackNode!==l)return null;var o=Ct;return o=qn(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(U_(e,o,n),ey(e,ze()),e.callbackNode!=null&&e.callbackNode===l?ny.bind(null,e):null)}function iy(e,n){if(Vo())return null;U_(e,n,!0)}function J1(){cE(function(){(It&6)!==0?si(Ui,Q1):ty()})}function qh(){if(is===0){var e=wl;e===0&&(e=As,As<<=1,(As&261888)===0&&(As=256)),is=e}return is}function sy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:so(""+e)}function ly(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function $1(e,n,l,o,f){if(n==="submit"&&l&&l.stateNode===f){var g=sy((f[Be]||null).action),y=o.submitter;y&&(n=(n=y[Be]||null)?sy(n.formAction):y.getAttribute("formAction"),n!==null&&(g=n,y=null));var E=new oo("action","action",null,o,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(is!==0){var A=y?ly(f,y):new FormData(f);gh(l,{pending:!0,data:A,method:f.method,action:g},null,A)}}else typeof g=="function"&&(E.preventDefault(),A=y?ly(f,y):new FormData(f),gh(l,{pending:!0,data:A,method:f.method,action:g},g,A))},currentTarget:f}]})}}for(var Vh=0;Vh<Dc.length;Vh++){var Wh=Dc[Vh],tE=Wh.toLowerCase(),eE=Wh[0].toUpperCase()+Wh.slice(1);Gn(tE,"on"+eE)}Gn(Gg,"onAnimationEnd"),Gn(Ug,"onAnimationIteration"),Gn(Yg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(y1,"onTransitionRun"),Gn(p1,"onTransitionStart"),Gn(v1,"onTransitionCancel"),Gn(Xg,"onTransitionEnd"),ml("onMouseEnter",["mouseout","mouseover"]),ml("onMouseLeave",["mouseout","mouseover"]),ml("onPointerEnter",["pointerout","pointerover"]),ml("onPointerLeave",["pointerout","pointerover"]),Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lr));function ay(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var o=e[l],f=o.event;o=o.listeners;t:{var g=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],A=E.instance,G=E.currentTarget;if(E=E.listener,A!==g&&f.isPropagationStopped())break t;g=E,f.currentTarget=G;try{g(f)}catch(H){ho(H)}f.currentTarget=null,g=A}else for(y=0;y<o.length;y++){if(E=o[y],A=E.instance,G=E.currentTarget,E=E.listener,A!==g&&f.isPropagationStopped())break t;g=E,f.currentTarget=G;try{g(f)}catch(H){ho(H)}f.currentTarget=null,g=A}}}}function Tt(e,n){var l=n[uc];l===void 0&&(l=n[uc]=new Set);var o=e+"__bubble";l.has(o)||(ry(n,e,2,!1),l.add(o))}function Qh(e,n,l){var o=0;n&&(o|=4),ry(l,e,o,n)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function Jh(e){if(!e[Jo]){e[Jo]=!0,tg.forEach(function(l){l!=="selectionchange"&&(nE.has(l)||Qh(l,!1,e),Qh(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Jo]||(n[Jo]=!0,Qh("selectionchange",!1,n))}}function ry(e,n,l,o){switch(Gy(n)){case 2:var f=OE;break;case 8:f=DE;break;default:f=gf}l=f.bind(null,n,l,e),f=void 0,!pc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,l,{capture:!0,passive:f}):e.addEventListener(n,l,!0):f!==void 0?e.addEventListener(n,l,{passive:f}):e.addEventListener(n,l,!1)}function $h(e,n,l,o,f){var g=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===f)break;if(y===4)for(y=o.return;y!==null;){var A=y.tag;if((A===3||A===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;E!==null;){if(y=fl(E),y===null)return;if(A=y.tag,A===5||A===6||A===26||A===27){o=g=y;continue t}E=E.parentNode}}o=o.return}fg(function(){var G=g,H=_c(l),q=[];t:{var U=Fg.get(e);if(U!==void 0){var X=oo,st=e;switch(e){case"keypress":if(ao(l)===0)break t;case"keydown":case"keyup":X=Vv;break;case"focusin":st="focus",X=xc;break;case"focusout":st="blur",X=xc;break;case"beforeblur":case"afterblur":X=xc;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Uv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Jv;break;case Gg:case Ug:case Yg:X=Fv;break;case Xg:X=t1;break;case"scroll":case"scrollend":X=Nv;break;case"wheel":X=n1;break;case"copy":case"cut":case"paste":X=Hv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=yg;break;case"toggle":case"beforetoggle":X=s1}var ht=(n&4)!==0,jt=!ht&&(e==="scroll"||e==="scrollend"),L=ht?U!==null?U+"Capture":null:U;ht=[];for(var O=G,N;O!==null;){var P=O;if(N=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||N===null||L===null||(P=Aa(O,L),P!=null&&ht.push(ar(O,P,N))),jt)break;O=O.return}0<ht.length&&(U=new X(U,st,null,l,H),q.push({event:U,listeners:ht}))}}if((n&7)===0){t:{if(U=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",U&&l!==mc&&(st=l.relatedTarget||l.fromElement)&&(fl(st)||st[hl]))break t;if((X||U)&&(U=H.window===H?H:(U=H.ownerDocument)?U.defaultView||U.parentWindow:window,X?(st=l.relatedTarget||l.toElement,X=G,st=st?fl(st):null,st!==null&&(jt=u(st),ht=st.tag,st!==jt||ht!==5&&ht!==27&&ht!==6)&&(st=null)):(X=null,st=G),X!==st)){if(ht=mg,P="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ht=yg,P="onPointerLeave",L="onPointerEnter",O="pointer"),jt=X==null?U:ba(X),N=st==null?U:ba(st),U=new ht(P,O+"leave",X,l,H),U.target=jt,U.relatedTarget=N,P=null,fl(H)===G&&(ht=new ht(L,O+"enter",st,l,H),ht.target=N,ht.relatedTarget=jt,P=ht),jt=P,X&&st)e:{for(ht=iE,L=X,O=st,N=0,P=L;P;P=ht(P))N++;P=0;for(var ot=O;ot;ot=ht(ot))P++;for(;0<N-P;)L=ht(L),N--;for(;0<P-N;)O=ht(O),P--;for(;N--;){if(L===O||O!==null&&L===O.alternate){ht=L;break e}L=ht(L),O=ht(O)}ht=null}else ht=null;X!==null&&oy(q,U,X,ht,!1),st!==null&&jt!==null&&oy(q,jt,st,ht,!0)}}t:{if(U=G?ba(G):window,X=U.nodeName&&U.nodeName.toLowerCase(),X==="select"||X==="input"&&U.type==="file")var Ot=Rg;else if(Tg(U))if(bg)Ot=g1;else{Ot=f1;var at=h1}else X=U.nodeName,!X||X.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?G&&gc(G.elementType)&&(Ot=Rg):Ot=d1;if(Ot&&(Ot=Ot(e,G))){Cg(q,Ot,l,H);break t}at&&at(e,U,G),e==="focusout"&&G&&U.type==="number"&&G.memoizedProps.value!=null&&dc(U,"number",U.value)}switch(at=G?ba(G):window,e){case"focusin":(Tg(at)||at.contentEditable==="true")&&(Sl=at,Mc=G,Na=null);break;case"focusout":Na=Mc=Sl=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,Ig(q,l,H);break;case"selectionchange":if(_1)break;case"keydown":case"keyup":Ig(q,l,H)}var vt;if(Cc)t:{switch(e){case"compositionstart":var Rt="onCompositionStart";break t;case"compositionend":Rt="onCompositionEnd";break t;case"compositionupdate":Rt="onCompositionUpdate";break t}Rt=void 0}else El?Sg(e,l)&&(Rt="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Rt="onCompositionStart");Rt&&(pg&&l.locale!=="ko"&&(El||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&El&&(vt=dg()):(Bi=H,vc="value"in Bi?Bi.value:Bi.textContent,El=!0)),at=$o(G,Rt),0<at.length&&(Rt=new _g(Rt,e,null,l,H),q.push({event:Rt,listeners:at}),vt?Rt.data=vt:(vt=xg(l),vt!==null&&(Rt.data=vt)))),(vt=a1?r1(e,l):o1(e,l))&&(Rt=$o(G,"onBeforeInput"),0<Rt.length&&(at=new _g("onBeforeInput","beforeinput",null,l,H),q.push({event:at,listeners:Rt}),at.data=vt)),$1(q,e,G,l,H)}ay(q,n)})}function ar(e,n,l){return{instance:e,listener:n,currentTarget:l}}function $o(e,n){for(var l=n+"Capture",o=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Aa(e,l),f!=null&&o.unshift(ar(e,f,g)),f=Aa(e,n),f!=null&&o.push(ar(e,f,g))),e.tag===3)return o;e=e.return}return[]}function iE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function oy(e,n,l,o,f){for(var g=n._reactName,y=[];l!==null&&l!==o;){var E=l,A=E.alternate,G=E.stateNode;if(E=E.tag,A!==null&&A===o)break;E!==5&&E!==26&&E!==27||G===null||(A=G,f?(G=Aa(l,g),G!=null&&y.unshift(ar(l,G,A))):f||(G=Aa(l,g),G!=null&&y.push(ar(l,G,A)))),l=l.return}y.length!==0&&e.push({event:n,listeners:y})}var sE=/\r\n?/g,lE=/\u0000|\uFFFD/g;function uy(e){return(typeof e=="string"?e:""+e).replace(sE,`
`).replace(lE,"")}function cy(e,n){return n=uy(n),uy(e)===n}function Ht(e,n,l,o,f,g){switch(l){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yl(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yl(e,""+o);break;case"className":no(e,"class",o);break;case"tabIndex":no(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":no(e,l,o);break;case"style":cg(e,o,g);break;case"data":if(n!=="object"){no(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=so(""+o),e.setAttribute(l,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(n!=="input"&&Ht(e,n,"name",f.name,f,null),Ht(e,n,"formEncType",f.formEncType,f,null),Ht(e,n,"formMethod",f.formMethod,f,null),Ht(e,n,"formTarget",f.formTarget,f,null)):(Ht(e,n,"encType",f.encType,f,null),Ht(e,n,"method",f.method,f,null),Ht(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=so(""+o),e.setAttribute(l,o);break;case"onClick":o!=null&&(e.onclick=ai);break;case"onScroll":o!=null&&Tt("scroll",e);break;case"onScrollEnd":o!=null&&Tt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(l=o.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}l=so(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""+o):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":o===!0?e.setAttribute(l,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,o):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(l,o):e.removeAttribute(l);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(l):e.setAttribute(l,o);break;case"popover":Tt("beforetoggle",e),Tt("toggle",e),eo(e,"popover",o);break;case"xlinkActuate":li(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":li(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":li(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":li(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":li(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":li(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":li(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":li(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":li(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":eo(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=zv.get(l)||l,eo(e,l,o))}}function tf(e,n,l,o,f,g){switch(l){case"style":cg(e,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(l=o.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof o=="string"?yl(e,o):(typeof o=="number"||typeof o=="bigint")&&yl(e,""+o);break;case"onScroll":o!=null&&Tt("scroll",e);break;case"onScrollEnd":o!=null&&Tt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eg.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),n=l.slice(2,f?l.length-7:void 0),g=e[Be]||null,g=g!=null?g[l]:null,typeof g=="function"&&e.removeEventListener(n,g,f),typeof o=="function")){typeof g!="function"&&g!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,o,f);break t}l in e?e[l]=o:o===!0?e.setAttribute(l,""):eo(e,l,o)}}}function Te(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",e),Tt("load",e);var o=!1,f=!1,g;for(g in l)if(l.hasOwnProperty(g)){var y=l[g];if(y!=null)switch(g){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ht(e,n,g,y,l,null)}}f&&Ht(e,n,"srcSet",l.srcSet,l,null),o&&Ht(e,n,"src",l.src,l,null);return;case"input":Tt("invalid",e);var E=g=y=f=null,A=null,G=null;for(o in l)if(l.hasOwnProperty(o)){var H=l[o];if(H!=null)switch(o){case"name":f=H;break;case"type":y=H;break;case"checked":A=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Ht(e,n,o,H,l,null)}}ag(e,g,E,A,G,y,f,!1);return;case"select":Tt("invalid",e),o=y=g=null;for(f in l)if(l.hasOwnProperty(f)&&(E=l[f],E!=null))switch(f){case"value":g=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Ht(e,n,f,E,l,null)}n=g,l=y,e.multiple=!!o,n!=null?_l(e,!!o,n,!1):l!=null&&_l(e,!!o,l,!0);return;case"textarea":Tt("invalid",e),g=f=o=null;for(y in l)if(l.hasOwnProperty(y)&&(E=l[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":f=E;break;case"children":g=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ht(e,n,y,E,l,null)}og(e,o,f,g);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(o=l[A],o!=null))switch(A){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ht(e,n,A,o,l,null)}return;case"dialog":Tt("beforetoggle",e),Tt("toggle",e),Tt("cancel",e),Tt("close",e);break;case"iframe":case"object":Tt("load",e);break;case"video":case"audio":for(o=0;o<lr.length;o++)Tt(lr[o],e);break;case"image":Tt("error",e),Tt("load",e);break;case"details":Tt("toggle",e);break;case"embed":case"source":case"link":Tt("error",e),Tt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(o=l[G],o!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ht(e,n,G,o,l,null)}return;default:if(gc(n)){for(H in l)l.hasOwnProperty(H)&&(o=l[H],o!==void 0&&tf(e,n,H,o,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(o=l[E],o!=null&&Ht(e,n,E,o,l,null))}function aE(e,n,l,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,y=null,E=null,A=null,G=null,H=null;for(X in l){var q=l[X];if(l.hasOwnProperty(X)&&q!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":A=q;default:o.hasOwnProperty(X)||Ht(e,n,X,null,o,q)}}for(var U in o){var X=o[U];if(q=l[U],o.hasOwnProperty(U)&&(X!=null||q!=null))switch(U){case"type":g=X;break;case"name":f=X;break;case"checked":G=X;break;case"defaultChecked":H=X;break;case"value":y=X;break;case"defaultValue":E=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:X!==q&&Ht(e,n,U,X,o,q)}}fc(e,y,E,A,G,H,g,f);return;case"select":X=y=E=U=null;for(g in l)if(A=l[g],l.hasOwnProperty(g)&&A!=null)switch(g){case"value":break;case"multiple":X=A;default:o.hasOwnProperty(g)||Ht(e,n,g,null,o,A)}for(f in o)if(g=o[f],A=l[f],o.hasOwnProperty(f)&&(g!=null||A!=null))switch(f){case"value":U=g;break;case"defaultValue":E=g;break;case"multiple":y=g;default:g!==A&&Ht(e,n,f,g,o,A)}n=E,l=y,o=X,U!=null?_l(e,!!l,U,!1):!!o!=!!l&&(n!=null?_l(e,!!l,n,!0):_l(e,!!l,l?[]:"",!1));return;case"textarea":X=U=null;for(E in l)if(f=l[E],l.hasOwnProperty(E)&&f!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ht(e,n,E,null,o,f)}for(y in o)if(f=o[y],g=l[y],o.hasOwnProperty(y)&&(f!=null||g!=null))switch(y){case"value":U=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Ht(e,n,y,f,o,g)}rg(e,U,X);return;case"option":for(var st in l)if(U=l[st],l.hasOwnProperty(st)&&U!=null&&!o.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:Ht(e,n,st,null,o,U)}for(A in o)if(U=o[A],X=l[A],o.hasOwnProperty(A)&&U!==X&&(U!=null||X!=null))switch(A){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Ht(e,n,A,U,o,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in l)U=l[ht],l.hasOwnProperty(ht)&&U!=null&&!o.hasOwnProperty(ht)&&Ht(e,n,ht,null,o,U);for(G in o)if(U=o[G],X=l[G],o.hasOwnProperty(G)&&U!==X&&(U!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,n));break;default:Ht(e,n,G,U,o,X)}return;default:if(gc(n)){for(var jt in l)U=l[jt],l.hasOwnProperty(jt)&&U!==void 0&&!o.hasOwnProperty(jt)&&tf(e,n,jt,void 0,o,U);for(H in o)U=o[H],X=l[H],!o.hasOwnProperty(H)||U===X||U===void 0&&X===void 0||tf(e,n,H,U,o,X);return}}for(var L in l)U=l[L],l.hasOwnProperty(L)&&U!=null&&!o.hasOwnProperty(L)&&Ht(e,n,L,null,o,U);for(q in o)U=o[q],X=l[q],!o.hasOwnProperty(q)||U===X||U==null&&X==null||Ht(e,n,q,U,o,X)}function hy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),o=0;o<l.length;o++){var f=l[o],g=f.transferSize,y=f.initiatorType,E=f.duration;if(g&&E&&hy(y)){for(y=0,E=f.responseEnd,o+=1;o<l.length;o++){var A=l[o],G=A.startTime;if(G>E)break;var H=A.transferSize,q=A.initiatorType;H&&hy(q)&&(A=A.responseEnd,y+=H*(A<E?1:(E-G)/(A-G)))}if(--o,n+=8*(g+y)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ef=null,nf=null;function tu(e){return e.nodeType===9?e:e.ownerDocument}function fy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function sf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var lf=null;function oE(){var e=window.event;return e&&e.type==="popstate"?e===lf?!1:(lf=e,!0):(lf=null,!1)}var gy=typeof setTimeout=="function"?setTimeout:void 0,uE=typeof clearTimeout=="function"?clearTimeout:void 0,my=typeof Promise=="function"?Promise:void 0,cE=typeof queueMicrotask=="function"?queueMicrotask:typeof my<"u"?function(e){return my.resolve(null).then(e).catch(hE)}:gy;function hE(e){setTimeout(function(){throw e})}function ss(e){return e==="head"}function _y(e,n){var l=n,o=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(o===0){e.removeChild(f),ql(n);return}o--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")o++;else if(l==="html")rr(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,rr(l);for(var g=l.firstChild;g;){var y=g.nextSibling,E=g.nodeName;g[Ra]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=y}}else l==="body"&&rr(e.ownerDocument.body);l=f}while(l);ql(n)}function yy(e,n){var l=e;e=0;do{var o=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),o&&o.nodeType===8)if(l=o.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=o}while(l)}function af(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":af(l),cc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function fE(e,n,l,o){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ra])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Tn(e.nextSibling),e===null)break}return null}function dE(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Tn(e.nextSibling),e===null))return null;return e}function py(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Tn(e.nextSibling),e===null))return null;return e}function rf(e){return e.data==="$?"||e.data==="$~"}function of(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function gE(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var o=function(){n(),l.removeEventListener("DOMContentLoaded",o)};l.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Tn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var uf=null;function vy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Tn(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Ey(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Sy(e,n,l){switch(n=tu(l),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function rr(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);cc(e)}var Cn=new Map,xy=new Set;function eu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xi=k.d;k.d={f:mE,r:_E,D:yE,C:pE,L:vE,m:EE,X:xE,S:SE,M:TE};function mE(){var e=xi.f(),n=Po();return e||n}function _E(e){var n=dl(e);n!==null&&n.tag===5&&n.type==="form"?Xm(n):xi.r(e)}var Zl=typeof document>"u"?null:document;function Ty(e,n,l){var o=Zl;if(o&&typeof n=="string"&&n){var f=_n(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),xy.has(f)||(xy.add(f),e={rel:e,crossOrigin:l,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),Te(n,"link",e),de(n),o.head.appendChild(n)))}}function yE(e){xi.D(e),Ty("dns-prefetch",e,null)}function pE(e,n){xi.C(e,n),Ty("preconnect",e,n)}function vE(e,n,l){xi.L(e,n,l);var o=Zl;if(o&&e&&n){var f='link[rel="preload"][as="'+_n(n)+'"]';n==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+_n(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+_n(l.imageSizes)+'"]')):f+='[href="'+_n(e)+'"]';var g=f;switch(n){case"style":g=Pl(e);break;case"script":g=Kl(e)}Cn.has(g)||(e=p({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Cn.set(g,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(or(g))||n==="script"&&o.querySelector(ur(g))||(n=o.createElement("link"),Te(n,"link",e),de(n),o.head.appendChild(n)))}}function EE(e,n){xi.m(e,n);var l=Zl;if(l&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+_n(o)+'"][href="'+_n(e)+'"]',g=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Kl(e)}if(!Cn.has(g)&&(e=p({rel:"modulepreload",href:e},n),Cn.set(g,e),l.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ur(g)))return}o=l.createElement("link"),Te(o,"link",e),de(o),l.head.appendChild(o)}}}function SE(e,n,l){xi.S(e,n,l);var o=Zl;if(o&&e){var f=gl(o).hoistableStyles,g=Pl(e);n=n||"default";var y=f.get(g);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(or(g)))E.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Cn.get(g))&&cf(e,l);var A=y=o.createElement("link");de(A),Te(A,"link",e),A._p=new Promise(function(G,H){A.onload=G,A.onerror=H}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,nu(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},f.set(g,y)}}}function xE(e,n){xi.X(e,n);var l=Zl;if(l&&e){var o=gl(l).hoistableScripts,f=Kl(e),g=o.get(f);g||(g=l.querySelector(ur(f)),g||(e=p({src:e,async:!0},n),(n=Cn.get(f))&&hf(e,n),g=l.createElement("script"),de(g),Te(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function TE(e,n){xi.M(e,n);var l=Zl;if(l&&e){var o=gl(l).hoistableScripts,f=Kl(e),g=o.get(f);g||(g=l.querySelector(ur(f)),g||(e=p({src:e,async:!0,type:"module"},n),(n=Cn.get(f))&&hf(e,n),g=l.createElement("script"),de(g),Te(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function Cy(e,n,l,o){var f=(f=dt.current)?eu(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Pl(l.href),l=gl(f).hoistableStyles,o=l.get(n),o||(o={type:"style",instance:null,count:0,state:null},l.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Pl(l.href);var g=gl(f).hoistableStyles,y=g.get(e);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,y),(g=f.querySelector(or(e)))&&!g._p&&(y.instance=g,y.state.loading=5),Cn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Cn.set(e,l),g||CE(f,e,l,y.state))),n&&o===null)throw Error(s(528,""));return y}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Kl(l),l=gl(f).hoistableScripts,o=l.get(n),o||(o={type:"script",instance:null,count:0,state:null},l.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Pl(e){return'href="'+_n(e)+'"'}function or(e){return'link[rel="stylesheet"]['+e+"]"}function Ry(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function CE(e,n,l,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Te(n,"link",l),de(n),e.head.appendChild(n))}function Kl(e){return'[src="'+_n(e)+'"]'}function ur(e){return"script[async]"+e}function by(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+_n(l.href)+'"]');if(o)return n.instance=o,de(o),o;var f=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),de(o),Te(o,"style",f),nu(o,l.precedence,e),n.instance=o;case"stylesheet":f=Pl(l.href);var g=e.querySelector(or(f));if(g)return n.state.loading|=4,n.instance=g,de(g),g;o=Ry(l),(f=Cn.get(f))&&cf(o,f),g=(e.ownerDocument||e).createElement("link"),de(g);var y=g;return y._p=new Promise(function(E,A){y.onload=E,y.onerror=A}),Te(g,"link",o),n.state.loading|=4,nu(g,l.precedence,e),n.instance=g;case"script":return g=Kl(l.src),(f=e.querySelector(ur(g)))?(n.instance=f,de(f),f):(o=l,(f=Cn.get(g))&&(o=p({},l),hf(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),de(f),Te(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,nu(o,l.precedence,e));return n.instance}function nu(e,n,l){for(var o=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,g=f,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)g=E;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function cf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function hf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var iu=null;function Ay(e,n,l){if(iu===null){var o=new Map,f=iu=new Map;f.set(l,o)}else f=iu,o=f.get(l),o||(o=new Map,f.set(l,o));if(o.has(e))return o;for(o.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var g=l[f];if(!(g[Ra]||g[ve]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var y=g.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(g):o.set(y,[g])}}return o}function My(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function RE(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function wy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function bE(e,n,l,o){if(l.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=Pl(o.href),g=n.querySelector(or(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=su.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=g,de(g);return}g=n.ownerDocument||n,o=Ry(o),(f=Cn.get(f))&&cf(o,f),g=g.createElement("link"),de(g);var y=g;y._p=new Promise(function(E,A){y.onload=E,y.onerror=A}),Te(g,"link",o),l.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=su.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var ff=0;function AE(e,n){return e.stylesheets&&e.count===0&&au(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var o=setTimeout(function(){if(e.stylesheets&&au(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+n);0<e.imgBytes&&ff===0&&(ff=62500*rE());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&au(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>ff?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function su(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)au(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lu=null;function au(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lu=new Map,n.forEach(ME,e),lu=null,su.call(e))}function ME(e,n){if(!(n.state.loading&4)){var l=lu.get(e);if(l)var o=l.get(null);else{l=new Map,lu.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var y=f[g];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(l.set(y.dataset.precedence,y),o=y)}o&&l.set(null,o)}f=n.instance,y=f.getAttribute("data-precedence"),g=l.get(y)||o,g===o&&l.set(null,f),l.set(y,f),this.count++,o=su.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var cr={$$typeof:D,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function wE(e,n,l,o,f,g,y,E,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=be(0),this.hiddenUpdates=be(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Oy(e,n,l,o,f,g,y,E,A,G,H,q){return e=new wE(e,n,l,y,A,G,H,q,E),n=1,g===!0&&(n|=24),g=an(3,null,null,n),e.current=g,g.stateNode=e,n=kc(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:o,isDehydrated:l,cache:n},qc(g),e}function Dy(e){return e?(e=Cl,e):Cl}function Ly(e,n,l,o,f,g){f=Dy(f),o.context===null?o.context=f:o.pendingContext=f,o=Ki(n),o.payload={element:l},g=g===void 0?null:g,g!==null&&(o.callback=g),l=qi(e,o,n),l!==null&&(Ke(l,e,n),Ha(l,e,n))}function zy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function df(e,n){zy(e,n),(e=e.alternate)&&zy(e,n)}function Iy(e){if(e.tag===13||e.tag===31){var n=Ls(e,67108864);n!==null&&Ke(n,e,67108864),df(e,67108864)}}function Ny(e){if(e.tag===13||e.tag===31){var n=hn();n=sn(n);var l=Ls(e,n);l!==null&&Ke(l,e,n),df(e,n)}}var ru=!0;function OE(e,n,l,o){var f=I.T;I.T=null;var g=k.p;try{k.p=2,gf(e,n,l,o)}finally{k.p=g,I.T=f}}function DE(e,n,l,o){var f=I.T;I.T=null;var g=k.p;try{k.p=8,gf(e,n,l,o)}finally{k.p=g,I.T=f}}function gf(e,n,l,o){if(ru){var f=mf(o);if(f===null)$h(e,n,o,ou,l),Uy(e,o);else if(zE(f,e,n,l,o))o.stopPropagation();else if(Uy(e,o),n&4&&-1<LE.indexOf(e)){for(;f!==null;){var g=dl(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var y=tn(g.pendingLanes);if(y!==0){var E=g;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var A=1<<31-Ie(y);E.entanglements[1]|=A,y&=~A}$n(g),(It&6)===0&&(ko=ze()+500,sr(0))}}break;case 31:case 13:E=Ls(g,2),E!==null&&Ke(E,g,2),Po(),df(g,2)}if(g=mf(o),g===null&&$h(e,n,o,ou,l),g===f)break;f=g}f!==null&&o.stopPropagation()}else $h(e,n,o,null,l)}}function mf(e){return e=_c(e),_f(e)}var ou=null;function _f(e){if(ou=null,e=fl(e),e!==null){var n=u(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=c(n),e!==null)return e;e=null}else if(l===31){if(e=h(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ou=e,null}function Gy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rl()){case Ui:return 2;case ol:return 8;case Yi:case ul:return 32;case bs:return 268435456;default:return 32}default:return 32}}var yf=!1,ls=null,as=null,rs=null,hr=new Map,fr=new Map,os=[],LE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uy(e,n){switch(e){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":hr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fr.delete(n.pointerId)}}function dr(e,n,l,o,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:l,eventSystemFlags:o,nativeEvent:g,targetContainers:[f]},n!==null&&(n=dl(n),n!==null&&Iy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function zE(e,n,l,o,f){switch(n){case"focusin":return ls=dr(ls,e,n,l,o,f),!0;case"dragenter":return as=dr(as,e,n,l,o,f),!0;case"mouseover":return rs=dr(rs,e,n,l,o,f),!0;case"pointerover":var g=f.pointerId;return hr.set(g,dr(hr.get(g)||null,e,n,l,o,f)),!0;case"gotpointercapture":return g=f.pointerId,fr.set(g,dr(fr.get(g)||null,e,n,l,o,f)),!0}return!1}function Yy(e){var n=fl(e.target);if(n!==null){var l=u(n);if(l!==null){if(n=l.tag,n===13){if(n=c(l),n!==null){e.blockedOn=n,gn(e.priority,function(){Ny(l)});return}}else if(n===31){if(n=h(l),n!==null){e.blockedOn=n,gn(e.priority,function(){Ny(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=mf(e.nativeEvent);if(l===null){l=e.nativeEvent;var o=new l.constructor(l.type,l);mc=o,l.target.dispatchEvent(o),mc=null}else return n=dl(l),n!==null&&Iy(n),e.blockedOn=l,!1;n.shift()}return!0}function Xy(e,n,l){uu(e)&&l.delete(n)}function IE(){yf=!1,ls!==null&&uu(ls)&&(ls=null),as!==null&&uu(as)&&(as=null),rs!==null&&uu(rs)&&(rs=null),hr.forEach(Xy),fr.forEach(Xy)}function cu(e,n){e.blockedOn===n&&(e.blockedOn=null,yf||(yf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,IE)))}var hu=null;function Fy(e){hu!==e&&(hu=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){hu===e&&(hu=null);for(var n=0;n<e.length;n+=3){var l=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(_f(o||l)===null)continue;break}var g=dl(l);g!==null&&(e.splice(n,3),n-=3,gh(g,{pending:!0,data:f,method:l.method,action:o},o,f))}}))}function ql(e){function n(A){return cu(A,e)}ls!==null&&cu(ls,e),as!==null&&cu(as,e),rs!==null&&cu(rs,e),hr.forEach(n),fr.forEach(n);for(var l=0;l<os.length;l++){var o=os[l];o.blockedOn===e&&(o.blockedOn=null)}for(;0<os.length&&(l=os[0],l.blockedOn===null);)Yy(l),l.blockedOn===null&&os.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(o=0;o<l.length;o+=3){var f=l[o],g=l[o+1],y=f[Be]||null;if(typeof g=="function")y||Fy(l);else if(y){var E=null;if(g&&g.hasAttribute("formAction")){if(f=g,y=g[Be]||null)E=y.formAction;else if(_f(f)!==null)continue}else E=y.action;typeof E=="function"?l[o+1]=E:(l.splice(o,3),o-=3),Fy(l)}}}function By(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(l,20)}function l(){if(!o&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function pf(e){this._internalRoot=e}fu.prototype.render=pf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var l=n.current,o=hn();Ly(l,o,e,n,null,null)},fu.prototype.unmount=pf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ly(e.current,2,null,e,null,null),Po(),n[hl]=null}};function fu(e){this._internalRoot=e}fu.prototype.unstable_scheduleHydration=function(e){if(e){var n=fe();e={blockedOn:null,target:e,priority:n};for(var l=0;l<os.length&&n!==0&&n<os[l].priority;l++);os.splice(l,0,e),l===0&&Yy(e)}};var Hy=t.version;if(Hy!=="19.2.4")throw Error(s(527,Hy,"19.2.4"));k.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var NE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{Xi=du.inject(NE),pe=du}catch{}}return mr.createRoot=function(e,n){if(!r(e))throw Error(s(299));var l=!1,o="",f=Vm,g=Wm,y=Qm;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Oy(e,1,!1,null,null,l,o,null,f,g,y,By),e[hl]=n.current,Jh(e),new pf(n)},mr.hydrateRoot=function(e,n,l){if(!r(e))throw Error(s(299));var o=!1,f="",g=Vm,y=Wm,E=Qm,A=null;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),n=Oy(e,1,!0,n,l??null,o,f,A,g,y,E,By),n.context=Dy(null),l=n.current,o=hn(),o=sn(o),f=Ki(o),f.callback=null,qi(l,f,o),l=o,n.current.lanes=l,en(n,l),$n(n),e[hl]=n.current,Jh(e),new fu(n)},mr.version="19.2.4",mr}var Jy;function KE(){if(Jy)return Sf.exports;Jy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Sf.exports=PE(),Sf.exports}var qE=KE(),Me=md();const qe={ADD:"add",REMOVE:"remove"},ga={PROPERTYCHANGE:"propertychange"},St={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Bu{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function VE(a,t,i){let s,r;i=i||Mi;let u=0,c=a.length,h=!1;for(;u<c;)s=u+(c-u>>1),r=+i(a[s],t),r<0?u=s+1:(c=s,h=!r);return h?u:~u}function Mi(a,t){return a>t?1:a<t?-1:0}function WE(a,t){return a<t?1:a>t?-1:0}function _d(a,t,i){if(a[0]<=t)return 0;const s=a.length;if(t<=a[s-1])return s-1;if(typeof i=="function"){for(let r=1;r<s;++r){const u=a[r];if(u===t)return r;if(u<t)return i(t,a[r-1],u)>0?r-1:r}return s-1}if(i>0){for(let r=1;r<s;++r)if(a[r]<t)return r-1;return s-1}if(i<0){for(let r=1;r<s;++r)if(a[r]<=t)return r;return s-1}for(let r=1;r<s;++r){if(a[r]==t)return r;if(a[r]<t)return a[r-1]-t<t-a[r]?r-1:r}return s-1}function QE(a,t,i){for(;t<i;){const s=a[t];a[t]=a[i],a[i]=s,++t,--i}}function yd(a,t){const i=Array.isArray(t)?t:[t],s=i.length;for(let r=0;r<s;r++)a[a.length]=i[r]}function Rs(a,t){const i=a.length;if(i!==t.length)return!1;for(let s=0;s<i;s++)if(a[s]!==t[s])return!1;return!0}function JE(a,t,i){const s=t||Mi;return a.every(function(r,u){if(u===0)return!0;const c=s(a[u-1],r);return!(c>0||c===0)})}function Or(){return!0}function Hu(){return!1}function Dr(){}function ap(a){let t,i,s;return function(){const r=Array.prototype.slice.call(arguments);return(!i||this!==s||!Rs(r,i))&&(s=this,i=r,t=a.apply(this,arguments)),t}}function $E(a){function t(){let i;try{i=a()}catch(s){return Promise.reject(s)}return i instanceof Promise?i:Promise.resolve(i)}return t()}function Hr(a){for(const t in a)delete a[t]}function ma(a){let t;for(t in a)return!1;return!t}class Li{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class ju extends Bu{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,i){if(!t||!i)return;const s=this.listeners_||(this.listeners_={}),r=s[t]||(s[t]=[]);r.includes(i)||r.push(i)}dispatchEvent(t){const i=typeof t=="string",s=i?t:t.type,r=this.listeners_&&this.listeners_[s];if(!r)return;const u=i?new Li(t):t;u.target||(u.target=this.eventTarget_||this);const c=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});s in c||(c[s]=0,h[s]=0),++c[s];let d;for(let m=0,_=r.length;m<_;++m)if("handleEvent"in r[m]?d=r[m].handleEvent(u):d=r[m].call(this,u),d===!1||u.propagationStopped){d=!1;break}if(--c[s]===0){let m=h[s];for(delete h[s];m--;)this.removeEventListener(s,Dr);delete c[s]}return d}disposeInternal(){this.listeners_&&Hr(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,i){if(!this.listeners_)return;const s=this.listeners_[t];if(!s)return;const r=s.indexOf(i);r!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(s[r]=Dr,++this.pendingRemovals_[t]):(s.splice(r,1),s.length===0&&delete this.listeners_[t]))}}function Mt(a,t,i,s,r){if(r){const c=i;i=function(h){return a.removeEventListener(t,i),c.call(s??this,h)}}else s&&s!==a&&(i=i.bind(s));const u={target:a,type:t,listener:i};return a.addEventListener(t,i),u}function wu(a,t,i,s){return Mt(a,t,i,s,!0)}function Vt(a){a&&a.target&&(a.target.removeEventListener(a.type,a.listener),Hr(a))}class jr extends ju{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(St.CHANGE)}getRevision(){return this.revision_}onInternal(t,i){if(Array.isArray(t)){const s=t.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=Mt(this,t[u],i);return r}return Mt(this,t,i)}onceInternal(t,i){let s;if(Array.isArray(t)){const r=t.length;s=new Array(r);for(let u=0;u<r;++u)s[u]=wu(this,t[u],i)}else s=wu(this,t,i);return i.ol_key=s,s}unInternal(t,i){const s=i.ol_key;if(s)tS(s);else if(Array.isArray(t))for(let r=0,u=t.length;r<u;++r)this.removeEventListener(t[r],i);else this.removeEventListener(t,i)}}jr.prototype.on;jr.prototype.once;jr.prototype.un;function tS(a){if(Array.isArray(a))for(let t=0,i=a.length;t<i;++t)Vt(a[t]);else Vt(a)}function Lt(){throw new Error("Unimplemented abstract method.")}let eS=0;function zt(a){return a.ol_uid||(a.ol_uid=String(++eS))}class $y extends Li{constructor(t,i,s){super(t),this.key=i,this.oldValue=s}}class kn extends jr{constructor(t){super(),this.on,this.once,this.un,zt(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let i;return this.values_&&this.values_.hasOwnProperty(t)&&(i=this.values_[t]),i}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,i){let s;s=`change:${t}`,this.hasListener(s)&&this.dispatchEvent(new $y(s,t,i)),s=ga.PROPERTYCHANGE,this.hasListener(s)&&this.dispatchEvent(new $y(s,t,i))}addChangeListener(t,i){this.addEventListener(`change:${t}`,i)}removeChangeListener(t,i){this.removeEventListener(`change:${t}`,i)}set(t,i,s){const r=this.values_||(this.values_={});if(s)r[t]=i;else{const u=r[t];r[t]=i,u!==i&&this.notify(t,u)}}setProperties(t,i){for(const s in t)this.set(s,t[s],i)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,i){if(this.values_&&t in this.values_){const s=this.values_[t];delete this.values_[t],ma(this.values_)&&(this.values_=null),i||this.notify(t,s)}}}const t0={LENGTH:"length"};class gu extends Li{constructor(t,i,s){super(t),this.element=i,this.index=s}}class An extends kn{constructor(t,i){if(super(),this.on,this.once,this.un,i=i||{},this.unique_=!!i.unique,this.array_=t??[],this.unique_)for(let s=1,r=this.array_.length;s<r;++s)this.assertUnique_(this.array_[s],s);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let i=0,s=t.length;i<s;++i)this.push(t[i]);return this}forEach(t){const i=this.array_;for(let s=0,r=i.length;s<r;++s)t(i[s],s,i)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(t0.LENGTH)}insertAt(t,i){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(i),this.array_.splice(t,0,i),this.updateLength_(),this.dispatchEvent(new gu(qe.ADD,i,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){const i=this.getLength();return this.insertAt(i,t),this.getLength()}remove(t){const i=this.array_;for(let s=0,r=i.length;s<r;++s)if(i[s]===t)return this.removeAt(s)}removeAt(t){if(t<0||t>=this.getLength())return;const i=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new gu(qe.REMOVE,i,t)),i}setAt(t,i){const s=this.getLength();if(t>=s){this.insertAt(t,i);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(i,t);const r=this.array_[t];this.array_[t]=i,this.dispatchEvent(new gu(qe.REMOVE,r,t)),this.dispatchEvent(new gu(qe.ADD,i,t))}updateLength_(){this.set(t0.LENGTH,this.array_.length)}assertUnique_(t,i){const s=this.array_;for(let r=0,u=s.length;r<u;++r)if(s[r]===t&&r!==i)throw new Error("Duplicate item added to a unique collection")}}class na extends Li{constructor(t,i,s){super(t),this.map=i,this.frameState=s!==void 0?s:null}}class _s extends na{constructor(t,i,s,r,u,c){super(t,i,u),this.originalEvent=s,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=c}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const te={SINGLECLICK:"singleclick",CLICK:St.CLICK,DBLCLICK:St.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},tl=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",nS=tl.includes("safari")&&!tl.includes("chrom");nS&&(tl.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(tl));const iS=tl.includes("webkit")&&!tl.includes("edge"),rp=tl.includes("macintosh"),sS=typeof devicePixelRatio<"u"?devicePixelRatio:1,Mn=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,op=typeof Image<"u"&&Image.prototype.decode,up=(function(){let a=!1;try{const t=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return a})(),Jf={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class lS extends ju{constructor(t,i){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=i===void 0?1:i,this.down_=null;const s=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=s,this.pointerdownListenerKey_=Mt(s,Jf.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Mt(s,Jf.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(St.TOUCHMOVE,this.boundHandleTouchMove_,up?{passive:!1}:!1)}emulateClick_(t){let i=new _s(te.CLICK,this.map_,t);this.dispatchEvent(i),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,i=new _s(te.DBLCLICK,this.map_,t),this.dispatchEvent(i)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const s=new _s(te.SINGLECLICK,this.map_,t);this.dispatchEvent(s)},250)}updateActivePointers_(t){const i=t,s=i.pointerId;if(i.type==te.POINTERUP||i.type==te.POINTERCANCEL){delete this.trackedTouches_[s];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==i.target){delete this.trackedTouches_[r];break}}else(i.type==te.POINTERDOWN||i.type==te.POINTERMOVE)&&(this.trackedTouches_[s]=i);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const i=new _s(te.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(i),this.emulateClicks_&&!i.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Vt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const i=new _s(te.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(i),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Mt(s,te.POINTERMOVE,this.handlePointerMove_,this),Mt(s,te.POINTERUP,this.handlePointerUp_,this),Mt(this.element_,te.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(Mt(this.element_.getRootNode(),te.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const i=new _s(te.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(i)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const i=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new _s(te.POINTERMOVE,this.map_,t,i))}handleTouchMove_(t){const i=this.originalPointerMoveEvent_;(!i||i.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Vt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(St.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Vt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Vt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const bi={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Oe={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ct={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Gt(a,t){if(!a)throw new Error(t)}const Ou=1/0;class aS{constructor(t,i){this.priorityFunction_=t,this.keyFunction_=i,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Hr(this.queuedElements_)}dequeue(){const t=this.elements_,i=this.priorities_,s=t[0];t.length==1?(t.length=0,i.length=0):(t[0]=t.pop(),i[0]=i.pop(),this.siftUp_(0));const r=this.keyFunction_(s);return delete this.queuedElements_[r],s}enqueue(t){Gt(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const i=this.priorityFunction_(t);return i!=Ou?(this.elements_.push(t),this.priorities_.push(i),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const i=this.elements_,s=this.priorities_,r=i.length,u=i[t],c=s[t],h=t;for(;t<r>>1;){const d=this.getLeftChildIndex_(t),m=this.getRightChildIndex_(t),_=m<r&&s[m]<s[d]?m:d;i[t]=i[_],s[t]=s[_],t=_}i[t]=u,s[t]=c,this.siftDown_(h,t)}siftDown_(t,i){const s=this.elements_,r=this.priorities_,u=s[i],c=r[i];for(;i>t;){const h=this.getParentIndex_(i);if(r[h]>c)s[i]=s[h],r[i]=r[h],i=h;else break}s[i]=u,r[i]=c}reprioritize(){const t=this.priorityFunction_,i=this.elements_,s=this.priorities_;let r=0;const u=i.length;let c,h,d;for(h=0;h<u;++h)c=i[h],d=t(c),d==Ou?delete this.queuedElements_[this.keyFunction_(c)]:(s[r]=d,i[r++]=c);i.length=r,s.length=r,this.heapify_()}}class rS extends aS{constructor(t,i){super(s=>t.apply(null,s),s=>s[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=i,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const i=super.enqueue(t);return i&&t[0].addEventListener(St.CHANGE,this.boundHandleTileChange_),i}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const i=t.target,s=i.getState();if(s===ct.LOADED||s===ct.ERROR||s===ct.EMPTY){s!==ct.ERROR&&i.removeEventListener(St.CHANGE,this.boundHandleTileChange_);const r=i.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,i){let s=0;for(;this.tilesLoading_<t&&s<i&&this.getCount()>0;){const r=this.dequeue()[0],u=r.getKey();r.getState()===ct.IDLE&&!(u in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[u]=!0,++this.tilesLoading_,++s,r.load())}}}function oS(a,t,i,s,r){if(!a||!(i in a.wantedTiles)||!a.wantedTiles[i][t.getKey()])return Ou;const u=a.viewState.center,c=s[0]-u[0],h=s[1]-u[1];return 65536*Math.log(r)+Math.sqrt(c*c+h*h)/r}const De={ANIMATING:0,INTERACTING:1},Xn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function Qt(a,t,i){return Math.min(Math.max(a,t),i)}function uS(a,t,i,s,r,u){const c=r-i,h=u-s;if(c!==0||h!==0){const d=((a-i)*c+(t-s)*h)/(c*c+h*h);d>1?(i=r,s=u):d>0&&(i+=c*d,s+=h*d)}return ua(a,t,i,s)}function ua(a,t,i,s){const r=i-a,u=s-t;return r*r+u*u}function cS(a){const t=a.length;for(let s=0;s<t;s++){let r=s,u=Math.abs(a[s][s]);for(let h=s+1;h<t;h++){const d=Math.abs(a[h][s]);d>u&&(u=d,r=h)}if(u===0)return null;const c=a[r];a[r]=a[s],a[s]=c;for(let h=s+1;h<t;h++){const d=-a[h][s]/a[s][s];for(let m=s;m<t+1;m++)s==m?a[h][m]=0:a[h][m]+=d*a[s][m]}}const i=new Array(t);for(let s=t-1;s>=0;s--){i[s]=a[s][t]/a[s][s];for(let r=s-1;r>=0;r--)a[r][t]-=a[r][s]*i[s]}return i}function e0(a){return a*180/Math.PI}function Ss(a){return a*Math.PI/180}function ca(a,t){const i=a%t;return i*t<0?i+t:i}function bn(a,t,i){return a+i*(t-a)}function ku(a,t){const i=Math.pow(10,t);return Math.round(a*i)/i}function mu(a,t){return Math.floor(ku(a,t))}function _u(a,t){return Math.ceil(ku(a,t))}function $f(a,t,i){if(a>=t&&a<i)return a;const s=i-t;return((a-t)%s+s)%s+t}function n0(a,t,i){return(function(s,r,u,c,h){if(!s)return;if(!r&&!t)return s;const d=t?0:u[0]*r,m=t?0:u[1]*r,_=h?h[0]:0,p=h?h[1]:0;let v=a[0]+d/2+_,S=a[2]-d/2+_,x=a[1]+m/2+p,C=a[3]-m/2+p;v>S&&(v=(S+v)/2,S=v),x>C&&(x=(C+x)/2,C=x);let R=Qt(s[0],v,S),T=Qt(s[1],x,C);if(c&&i&&r){const w=30*r;R+=-w*Math.log(1+Math.max(0,v-s[0])/w)+w*Math.log(1+Math.max(0,s[0]-S)/w),T+=-w*Math.log(1+Math.max(0,x-s[1])/w)+w*Math.log(1+Math.max(0,s[1]-C)/w)}return[R,T]})}function hS(a){return a}const _e={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function i0(a){const t=Ln();for(let i=0,s=a.length;i<s;++i)Ar(t,a[i]);return t}function pd(a,t,i){return i?(i[0]=a[0]-t,i[1]=a[1]-t,i[2]=a[2]+t,i[3]=a[3]+t,i):[a[0]-t,a[1]-t,a[2]+t,a[3]+t]}function cp(a,t){return t?(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t):a.slice()}function hp(a,t,i){let s,r;return t<a[0]?s=a[0]-t:a[2]<t?s=t-a[2]:s=0,i<a[1]?r=a[1]-i:a[3]<i?r=i-a[3]:r=0,s*s+r*r}function _a(a,t){return fp(a,t[0],t[1])}function aa(a,t){return a[0]<=t[0]&&t[2]<=a[2]&&a[1]<=t[1]&&t[3]<=a[3]}function fp(a,t,i){return a[0]<=t&&t<=a[2]&&a[1]<=i&&i<=a[3]}function td(a,t){const i=a[0],s=a[1],r=a[2],u=a[3],c=t[0],h=t[1];let d=_e.UNKNOWN;return c<i?d=d|_e.LEFT:c>r&&(d=d|_e.RIGHT),h<s?d=d|_e.BELOW:h>u&&(d=d|_e.ABOVE),d===_e.UNKNOWN&&(d=_e.INTERSECTING),d}function Ln(){return[1/0,1/0,-1/0,-1/0]}function Cs(a,t,i,s,r){return r?(r[0]=a,r[1]=t,r[2]=i,r[3]=s,r):[a,t,i,s]}function Zu(a){return Cs(1/0,1/0,-1/0,-1/0,a)}function dp(a,t){const i=a[0],s=a[1];return Cs(i,s,i,s,t)}function vd(a,t,i,s,r){const u=Zu(r);return gp(u,a,t,i,s)}function Lr(a,t){return a[0]==t[0]&&a[2]==t[2]&&a[1]==t[1]&&a[3]==t[3]}function fS(a,t){return t[0]<a[0]&&(a[0]=t[0]),t[2]>a[2]&&(a[2]=t[2]),t[1]<a[1]&&(a[1]=t[1]),t[3]>a[3]&&(a[3]=t[3]),a}function Ar(a,t){t[0]<a[0]&&(a[0]=t[0]),t[0]>a[2]&&(a[2]=t[0]),t[1]<a[1]&&(a[1]=t[1]),t[1]>a[3]&&(a[3]=t[1])}function gp(a,t,i,s,r){for(;i<s;i+=r)dS(a,t[i],t[i+1]);return a}function dS(a,t,i){a[0]=Math.min(a[0],t),a[1]=Math.min(a[1],i),a[2]=Math.max(a[2],t),a[3]=Math.max(a[3],i)}function mp(a,t){let i;return i=t(Pu(a)),i||(i=t(Ku(a)),i)||(i=t(qu(a)),i)||(i=t(sl(a)),i)?i:!1}function ed(a){let t=0;return kr(a)||(t=Ft(a)*Ye(a)),t}function Pu(a){return[a[0],a[1]]}function Ku(a){return[a[2],a[1]]}function el(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function gS(a,t){let i;if(t==="bottom-left")i=Pu(a);else if(t==="bottom-right")i=Ku(a);else if(t==="top-left")i=sl(a);else if(t==="top-right")i=qu(a);else throw new Error("Invalid corner");return i}function nd(a,t,i,s,r){const[u,c,h,d,m,_,p,v]=_p(a,t,i,s);return Cs(Math.min(u,h,m,p),Math.min(c,d,_,v),Math.max(u,h,m,p),Math.max(c,d,_,v),r)}function _p(a,t,i,s){const r=t*s[0]/2,u=t*s[1]/2,c=Math.cos(i),h=Math.sin(i),d=r*c,m=r*h,_=u*c,p=u*h,v=a[0],S=a[1];return[v-d+p,S-m-_,v-d-p,S-m+_,v+d-p,S+m+_,v+d+p,S+m-_,v-d+p,S-m-_]}function Ye(a){return a[3]-a[1]}function $s(a,t,i){const s=i||Ln();return Qe(a,t)?(a[0]>t[0]?s[0]=a[0]:s[0]=t[0],a[1]>t[1]?s[1]=a[1]:s[1]=t[1],a[2]<t[2]?s[2]=a[2]:s[2]=t[2],a[3]<t[3]?s[3]=a[3]:s[3]=t[3]):Zu(s),s}function sl(a){return[a[0],a[3]]}function qu(a){return[a[2],a[3]]}function Ft(a){return a[2]-a[0]}function Qe(a,t){return a[0]<=t[2]&&a[2]>=t[0]&&a[1]<=t[3]&&a[3]>=t[1]}function kr(a){return a[2]<a[0]||a[3]<a[1]}function mS(a,t){return t?(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t):a}function _S(a,t,i){let s=!1;const r=td(a,t),u=td(a,i);if(r===_e.INTERSECTING||u===_e.INTERSECTING)s=!0;else{const c=a[0],h=a[1],d=a[2],m=a[3],_=t[0],p=t[1],v=i[0],S=i[1],x=(S-p)/(v-_);let C,R;u&_e.ABOVE&&!(r&_e.ABOVE)&&(C=v-(S-m)/x,s=C>=c&&C<=d),!s&&u&_e.RIGHT&&!(r&_e.RIGHT)&&(R=S-(v-d)*x,s=R>=h&&R<=m),!s&&u&_e.BELOW&&!(r&_e.BELOW)&&(C=v-(S-h)/x,s=C>=c&&C<=d),!s&&u&_e.LEFT&&!(r&_e.LEFT)&&(R=S-(v-c)*x,s=R>=h&&R<=m)}return s}function yp(a,t){const i=t.getExtent(),s=el(a);if(t.canWrapX()&&(s[0]<i[0]||s[0]>=i[2])){const r=Ft(i),c=Math.floor((s[0]-i[0])/r)*r;a[0]-=c,a[2]-=c}return a}function pp(a,t,i){if(t.canWrapX()){const s=t.getExtent();if(!isFinite(a[0])||!isFinite(a[2]))return[[s[0],a[1],s[2],a[3]]];yp(a,t);const r=Ft(s);if(Ft(a)>r&&!i)return[[s[0],a[1],s[2],a[3]]];if(a[0]<s[0])return[[a[0]+r,a[1],s[2],a[3]],[s[0],a[1],a[2],a[3]]];if(a[2]>s[2])return[[a[0],a[1],s[2],a[3]],[s[0],a[1],a[2]-r,a[3]]]}return[a]}function yS(a,t){return a[0]+=+t[0],a[1]+=+t[1],a}function Du(a,t){let i=!0;for(let s=a.length-1;s>=0;--s)if(a[s]!=t[s]){i=!1;break}return i}function Ed(a,t){const i=Math.cos(t),s=Math.sin(t),r=a[0]*i-a[1]*s,u=a[1]*i+a[0]*s;return a[0]=r,a[1]=u,a}function pS(a,t){return a[0]*=t,a[1]*=t,a}function vp(a,t){if(t.canWrapX()){const i=Ft(t.getExtent()),s=vS(a,t,i);s&&(a[0]-=s*i)}return a}function vS(a,t,i){const s=t.getExtent();let r=0;return t.canWrapX()&&(a[0]<s[0]||a[0]>s[2])&&(i=i||Ft(s),r=Math.floor((a[0]-s[0])/i)),r}function ES(a,t,i){const s=Math.sqrt((t[0]-a[0])*(t[0]-a[0])+(t[1]-a[1])*(t[1]-a[1])),r=[(t[0]-a[0])/s,(t[1]-a[1])/s],u=[-r[1],r[0]],c=Math.sqrt((i[0]-a[0])*(i[0]-a[0])+(i[1]-a[1])*(i[1]-a[1])),h=[(i[0]-a[0])/c,(i[1]-a[1])/c];let d=s===0||c===0?0:Math.acos(Qt(h[0]*r[0]+h[1]*r[1],-1,1));return d=Math.max(d,1e-5),h[0]*u[0]+h[1]*u[1]>0?d:Math.PI*2-d}function Ep(a){return Math.pow(a,3)}function Sa(a){return 1-Ep(1-a)}function SS(a){return 3*a*a-2*a*a*a}function xS(a){return a}const TS=63710088e-1;function s0(a,t,i){i=i||TS;const s=Ss(a[1]),r=Ss(t[1]),u=(r-s)/2,c=Ss(t[0]-a[0])/2,h=Math.sin(u)*Math.sin(u)+Math.sin(c)*Math.sin(c)*Math.cos(s)*Math.cos(r);return 2*i*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function Sp(...a){console.warn(...a)}const Sd={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class xd{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Sd[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Zr=6378137,ra=Math.PI*Zr,CS=[-ra,-ra,ra,ra],RS=[-180,-85,180,85],yu=Zr*Math.log(Math.tan(Math.PI/2));class Vl extends xd{constructor(t){super({code:t,units:"m",extent:CS,global:!0,worldExtent:RS,getPointResolution:function(i,s){return i/Math.cosh(s[1]/Zr)}})}}const l0=[new Vl("EPSG:3857"),new Vl("EPSG:102100"),new Vl("EPSG:102113"),new Vl("EPSG:900913"),new Vl("http://www.opengis.net/def/crs/EPSG/0/3857"),new Vl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function bS(a,t,i,s){const r=a.length;i=i>1?i:2,s=s??i,t===void 0&&(i>2?t=a.slice():t=new Array(r));for(let u=0;u<r;u+=s){t[u]=ra*a[u]/180;let c=Zr*Math.log(Math.tan(Math.PI*(+a[u+1]+90)/360));c>yu?c=yu:c<-yu&&(c=-yu),t[u+1]=c}return t}function AS(a,t,i,s){const r=a.length;i=i>1?i:2,s=s??i,t===void 0&&(i>2?t=a.slice():t=new Array(r));for(let u=0;u<r;u+=s)t[u]=180*a[u]/ra,t[u+1]=360*Math.atan(Math.exp(a[u+1]/Zr))/Math.PI-90;return t}const MS=6378137,a0=[-180,-90,180,90],wS=Math.PI*MS/180;class Zs extends xd{constructor(t,i){super({code:t,units:"degrees",extent:a0,axisOrientation:i,global:!0,metersPerUnit:wS,worldExtent:a0})}}const r0=[new Zs("CRS:84"),new Zs("EPSG:4326","neu"),new Zs("urn:ogc:def:crs:OGC:1.3:CRS84"),new Zs("urn:ogc:def:crs:OGC:2:84"),new Zs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Zs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Zs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let id={};function OS(a){return id[a]||id[a.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function DS(a,t){id[a]=t}let ha={};function zr(a,t,i){const s=a.getCode(),r=t.getCode();s in ha||(ha[s]={}),ha[s][r]=i}function bf(a,t){return a in ha&&t in ha[a]?ha[a][t]:null}const Lu=.9996,Dn=.00669438,Vu=Dn*Dn,Wu=Vu*Dn,Vs=Dn/(1-Dn),o0=Math.sqrt(1-Dn),ya=(1-o0)/(1+o0),xp=ya*ya,Td=xp*ya,Cd=Td*ya,Tp=Cd*ya,Cp=1-Dn/4-3*Vu/64-5*Wu/256,LS=3*Dn/8+3*Vu/32+45*Wu/1024,zS=15*Vu/256+45*Wu/1024,IS=35*Wu/3072,NS=3/2*ya-27/32*Td+269/512*Tp,GS=21/16*xp-55/32*Cd,US=151/96*Td-417/128*Tp,YS=1097/512*Cd,zu=6378137;function XS(a,t,i){const s=a-5e5,c=(i.north?t:t-1e7)/Lu/(zu*Cp),h=c+NS*Math.sin(2*c)+GS*Math.sin(4*c)+US*Math.sin(6*c)+YS*Math.sin(8*c),d=Math.sin(h),m=d*d,_=Math.cos(h),p=d/_,v=p*p,S=v*v,x=1-Dn*m,C=Math.sqrt(1-Dn*m),R=zu/C,T=(1-Dn)/x,w=Vs*_**2,D=w*w,M=s/(R*Lu),z=M*M,K=z*M,B=K*M,V=B*M,j=V*M,J=h-p/T*(z/2-B/24*(5+3*v+10*w-4*D-9*Vs))+j/720*(61+90*v+298*w+45*S-252*Vs-3*D);let rt=(M-K/6*(1+2*v+w)+V/120*(5-2*w+28*v-3*D+8*Vs+24*S))/_;return rt=$f(rt+Ss(Rp(i.number)),-Math.PI,Math.PI),[e0(rt),e0(J)]}const u0=-80,c0=84,FS=-180,BS=180;function HS(a,t,i){a=$f(a,FS,BS),t<u0?t=u0:t>c0&&(t=c0);const s=Ss(t),r=Math.sin(s),u=Math.cos(s),c=r/u,h=c*c,d=h*h,m=Ss(a),_=Rp(i.number),p=Ss(_),v=zu/Math.sqrt(1-Dn*r**2),S=Vs*u**2,x=u*$f(m-p,-Math.PI,Math.PI),C=x*x,R=C*x,T=R*x,w=T*x,D=w*x,M=zu*(Cp*s-LS*Math.sin(2*s)+zS*Math.sin(4*s)-IS*Math.sin(6*s)),z=Lu*v*(x+R/6*(1-h+S)+w/120*(5-18*h+d+72*S-58*Vs))+5e5;let K=Lu*(M+v*c*(C/2+T/24*(5-h+9*S+4*S**2)+D/720*(61-58*h+d+600*S-330*Vs)));return i.north||(K+=1e7),[z,K]}function Rp(a){return(a-1)*6-180+3}const jS=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function bp(a){let t=0;for(const r of jS){const u=a.match(r);if(u){t=parseInt(u[1]);break}}if(!t)return null;let i=0,s=!1;return t>32700&&t<32761?i=t-32700:t>32600&&t<32661&&(s=!0,i=t-32600),i?{number:i,north:s}:null}function h0(a,t){return function(i,s,r,u){const c=i.length;r=r>1?r:2,u=u??r,s||(r>2?s=i.slice():s=new Array(c));for(let h=0;h<c;h+=u){const d=i[h],m=i[h+1],_=a(d,m,t);s[h]=_[0],s[h+1]=_[1]}return s}}function kS(a){return bp(a)?new xd({code:a,units:"m"}):null}function ZS(a){const t=bp(a.getCode());return t?{forward:h0(HS,t),inverse:h0(XS,t)}:null}const PS=[ZS],KS=[kS];let sd=!0;function Ap(a){sd=!1}function Rd(a,t){if(t!==void 0){for(let i=0,s=a.length;i<s;++i)t[i]=a[i];t=t}else t=a.slice();return t}function ld(a){DS(a.getCode(),a),zr(a,a,Rd)}function qS(a){a.forEach(ld)}function $e(a){if(typeof a!="string")return a;const t=OS(a);if(t)return t;for(const i of KS){const s=i(a);if(s)return s}return null}function f0(a,t,i,s){a=$e(a);let r;const u=a.getPointResolutionFunc();if(u)r=u(t,i);else{const c=a.getUnits();if(c=="degrees"&&!s||s=="degrees")r=t;else{const h=Ad(a,$e("EPSG:4326"));if(!h&&c!=="degrees")r=t*a.getMetersPerUnit();else{let m=[i[0]-t/2,i[1],i[0]+t/2,i[1],i[0],i[1]-t/2,i[0],i[1]+t/2];m=h(m,m,2);const _=s0(m.slice(0,2),m.slice(2,4)),p=s0(m.slice(4,6),m.slice(6,8));r=(_+p)/2}const d=a.getMetersPerUnit();d!==void 0&&(r/=d)}}return r}function d0(a){qS(a),a.forEach(function(t){a.forEach(function(i){t!==i&&zr(t,i,Rd)})})}function VS(a,t,i,s){a.forEach(function(r){t.forEach(function(u){zr(r,u,i),zr(u,r,s)})})}function bd(a,t){return a?typeof a=="string"?$e(a):a:$e(t)}function WS(a){return(function(t,i,s,r){const u=t.length;s=s!==void 0?s:2,r=r??s,i=i!==void 0?i:new Array(u);for(let c=0;c<u;c+=r){const h=a(t.slice(c,c+s)),d=h.length;for(let m=0,_=r;m<_;++m)i[c+m]=m>=d?t[c+m]:h[m]}return i})}function Af(a,t){return Ap(),Md(a,"EPSG:4326","EPSG:3857")}function bu(a,t){if(a===t)return!0;const i=a.getUnits()===t.getUnits();return(a.getCode()===t.getCode()||Ad(a,t)===Rd)&&i}function Ad(a,t){const i=a.getCode(),s=t.getCode();let r=bf(i,s);if(r)return r;let u=null,c=null;for(const d of PS)u||(u=d(a)),c||(c=d(t));if(!u&&!c)return null;const h="EPSG:4326";if(c)if(u)r=Mf(u.inverse,c.forward);else{const d=bf(i,h);d&&(r=Mf(d,c.forward))}else{const d=bf(h,s);d&&(r=Mf(u.inverse,d))}return r&&(ld(a),ld(t),zr(a,t,r)),r}function Mf(a,t){return function(i,s,r,u){return s=a(i,s,r,u),t(s,s,r,u)}}function Iu(a,t){const i=$e(a),s=$e(t);return Ad(i,s)}function Md(a,t,i){const s=Iu(t,i);if(!s){const r=$e(t).getCode(),u=$e(i).getCode();throw new Error(`No transform available between ${r} and ${u}`)}return s(a,void 0,a.length)}function ad(a,t){return a}function Ri(a,t){return sd&&!Du(a,[0,0])&&a[0]>=-180&&a[0]<=180&&a[1]>=-90&&a[1]<=90&&(sd=!1,Sp("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),a}function Mp(a,t){return a}function ps(a,t){return a}function QS(){d0(l0),d0(r0),VS(r0,l0,bS,AS)}QS();new Array(6);function Hn(){return[1,0,0,1,0,0]}function JS(a,t){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a}function ye(a,t){const i=t[0],s=t[1];return t[0]=a[0]*i+a[2]*s+a[4],t[1]=a[1]*i+a[3]*s+a[5],t}function Di(a,t,i,s,r,u,c,h){const d=Math.sin(u),m=Math.cos(u);return a[0]=s*m,a[1]=r*d,a[2]=-s*d,a[3]=r*m,a[4]=c*s*m-h*s*d+t,a[5]=c*r*d+h*r*m+i,a}function wp(a,t){const i=$S(t);Gt(i!==0,"Transformation matrix cannot be inverted");const s=t[0],r=t[1],u=t[2],c=t[3],h=t[4],d=t[5];return a[0]=c/i,a[1]=-r/i,a[2]=-u/i,a[3]=s/i,a[4]=(u*d-c*h)/i,a[5]=-(s*d-r*h)/i,a}function $S(a){return a[0]*a[3]-a[1]*a[2]}const tx=[1e5,1e5,1e5,1e5,2,2];function ex(a){return"matrix("+a.join(", ")+")"}function rd(a){return a.substring(7,a.length-1).split(",").map(parseFloat)}function nx(a,t){const i=rd(a),s=rd(t);for(let r=0;r<6;++r)if(Math.round((i[r]-s[r])*tx[r])!==0)return!1;return!0}function xs(a,t,i,s,r,u,c){u=u||[],c=c||2;let h=0;for(let d=t;d<i;d+=s){const m=a[d],_=a[d+1];u[h++]=r[0]*m+r[2]*_+r[4],u[h++]=r[1]*m+r[3]*_+r[5];for(let p=2;p<c;p++)u[h++]=a[d+p]}return u&&u.length!=h&&(u.length=h),u}function Op(a,t,i,s,r,u,c){c=c||[];const h=Math.cos(r),d=Math.sin(r),m=u[0],_=u[1];let p=0;for(let v=t;v<i;v+=s){const S=a[v]-m,x=a[v+1]-_;c[p++]=m+S*h-x*d,c[p++]=_+S*d+x*h;for(let C=v+2;C<v+s;++C)c[p++]=a[C]}return c&&c.length!=p&&(c.length=p),c}function ix(a,t,i,s,r,u,c,h){h=h||[];const d=c[0],m=c[1];let _=0;for(let p=t;p<i;p+=s){const v=a[p]-d,S=a[p+1]-m;h[_++]=d+r*v,h[_++]=m+u*S;for(let x=p+2;x<p+s;++x)h[_++]=a[x]}return h&&h.length!=_&&(h.length=_),h}function sx(a,t,i,s,r,u,c){c=c||[];let h=0;for(let d=t;d<i;d+=s){c[h++]=a[d]+r,c[h++]=a[d+1]+u;for(let m=d+2;m<d+s;++m)c[h++]=a[m]}return c&&c.length!=h&&(c.length=h),c}const g0=Hn(),lx=[NaN,NaN];class ax extends kn{constructor(){super(),this.extent_=Ln(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=ap((t,i,s)=>{if(!s)return this.getSimplifiedGeometry(i);const r=this.clone();return r.applyTransform(s),r.getSimplifiedGeometry(i)})}simplifyTransformed(t,i){return this.simplifyTransformedInternal(this.getRevision(),t,i)}clone(){return Lt()}closestPointXY(t,i,s,r){return Lt()}containsXY(t,i){return this.closestPointXY(t,i,lx,Number.MIN_VALUE)===0}getClosestPoint(t,i){return i=i||[NaN,NaN],this.closestPointXY(t[0],t[1],i,1/0),i}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return Lt()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const i=this.computeExtent(this.extent_);(isNaN(i[0])||isNaN(i[1]))&&Zu(i),this.extentRevision_=this.getRevision()}return mS(this.extent_,t)}rotate(t,i){Lt()}scale(t,i,s){Lt()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return Lt()}getType(){return Lt()}applyTransform(t){Lt()}intersectsExtent(t){return Lt()}translate(t,i){Lt()}transform(t,i){const s=$e(t),r=s.getUnits()=="tile-pixels"?function(u,c,h){const d=s.getExtent(),m=s.getWorldExtent(),_=Ye(m)/Ye(d);Di(g0,m[0],m[3],_,-_,0,0,0);const p=xs(u,0,u.length,h,g0,c),v=Iu(s,i);return v?v(p,p,h):p}:Iu(s,i);return this.applyTransform(r),this}}class wd extends ax{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return vd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return Lt()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const i=this.getSimplifiedGeometryInternal(t);return i.getFlatCoordinates().length<this.flatCoordinates.length?i:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,i){this.stride=m0(t),this.layout=t,this.flatCoordinates=i}setCoordinates(t,i){Lt()}setLayout(t,i,s){let r;if(t)r=m0(t);else{for(let u=0;u<s;++u){if(i.length===0){this.layout="XY",this.stride=2;return}i=i[0]}r=i.length,t=rx(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,i){const s=this.getFlatCoordinates();if(s){const r=this.getStride();Op(s,0,s.length,r,t,i,s),this.changed()}}scale(t,i,s){i===void 0&&(i=t),s||(s=el(this.getExtent()));const r=this.getFlatCoordinates();if(r){const u=this.getStride();ix(r,0,r.length,u,t,i,s,r),this.changed()}}translate(t,i){const s=this.getFlatCoordinates();if(s){const r=this.getStride();sx(s,0,s.length,r,t,i,s),this.changed()}}}function rx(a){let t;return a==2?t="XY":a==3?t="XYZ":a==4&&(t="XYZM"),t}function m0(a){let t;return a=="XY"?t=2:a=="XYZ"||a=="XYM"?t=3:a=="XYZM"&&(t=4),t}function ox(a,t,i){const s=a.getFlatCoordinates();if(!s)return null;const r=a.getStride();return xs(s,0,s.length,r,t,i)}function Dp(a,t,i,s){let r=0;const u=a[i-s],c=a[i-s+1];let h=0,d=0;for(;t<i;t+=s){const m=a[t]-u,_=a[t+1]-c;r+=d*m-h*_,h=m,d=_}return r/2}function ux(a,t,i,s){let r=0;for(let u=0,c=i.length;u<c;++u){const h=i[u];r+=Dp(a,t,h,s),t=h}return r}function _0(a,t,i,s,r,u,c){const h=a[t],d=a[t+1],m=a[i]-h,_=a[i+1]-d;let p;if(m===0&&_===0)p=t;else{const v=((r-h)*m+(u-d)*_)/(m*m+_*_);if(v>1)p=i;else if(v>0){for(let S=0;S<s;++S)c[S]=bn(a[t+S],a[i+S],v);c.length=s;return}else p=t}for(let v=0;v<s;++v)c[v]=a[p+v];c.length=s}function Lp(a,t,i,s,r){let u=a[t],c=a[t+1];for(t+=s;t<i;t+=s){const h=a[t],d=a[t+1],m=ua(u,c,h,d);m>r&&(r=m),u=h,c=d}return r}function cx(a,t,i,s,r){for(let u=0,c=i.length;u<c;++u){const h=i[u];r=Lp(a,t,h,s,r),t=h}return r}function zp(a,t,i,s,r,u,c,h,d,m,_){if(t==i)return m;let p,v;if(r===0){if(v=ua(c,h,a[t],a[t+1]),v<m){for(p=0;p<s;++p)d[p]=a[t+p];return d.length=s,v}return m}_=_||[NaN,NaN];let S=t+s;for(;S<i;)if(_0(a,S-s,S,s,c,h,_),v=ua(c,h,_[0],_[1]),v<m){for(m=v,p=0;p<s;++p)d[p]=_[p];d.length=s,S+=s}else S+=s*Math.max((Math.sqrt(v)-Math.sqrt(m))/r|0,1);if(_0(a,i-s,t,s,c,h,_),v=ua(c,h,_[0],_[1]),v<m){for(m=v,p=0;p<s;++p)d[p]=_[p];d.length=s}return m}function hx(a,t,i,s,r,u,c,h,d,m,_){_=_||[NaN,NaN];for(let p=0,v=i.length;p<v;++p){const S=i[p];m=zp(a,t,S,s,r,u,c,h,d,m,_),t=S}return m}function fx(a,t,i,s){for(let r=0,u=i.length;r<u;++r)a[t++]=i[r];return t}function Ip(a,t,i,s){for(let r=0,u=i.length;r<u;++r){const c=i[r];for(let h=0;h<s;++h)a[t++]=c[h]}return t}function dx(a,t,i,s,r){r=r||[];let u=0;for(let c=0,h=i.length;c<h;++c){const d=Ip(a,t,i[c],s);r[u++]=d,t=d}return r.length=u,r}function oa(a,t,i,s,r){r=r!==void 0?r:[];let u=0;for(let c=t;c<i;c+=s)r[u++]=a.slice(c,c+s);return r.length=u,r}function Nu(a,t,i,s,r){r=r!==void 0?r:[];let u=0;for(let c=0,h=i.length;c<h;++c){const d=i[c];r[u++]=oa(a,t,d,s,r[u]),t=d}return r.length=u,r}function y0(a,t,i,s,r){r=r!==void 0?r:[];let u=0;for(let c=0,h=i.length;c<h;++c){const d=i[c];r[u++]=d.length===1&&d[0]===t?[]:Nu(a,t,d,s,r[u]),t=d[d.length-1]}return r.length=u,r}function Od(a,t,i,s,r,u,c){const h=(i-t)/s;if(h<3){for(;t<i;t+=s)u[c++]=a[t],u[c++]=a[t+1];return c}const d=new Array(h);d[0]=1,d[h-1]=1;const m=[t,i-s];let _=0;for(;m.length>0;){const p=m.pop(),v=m.pop();let S=0;const x=a[v],C=a[v+1],R=a[p],T=a[p+1];for(let w=v+s;w<p;w+=s){const D=a[w],M=a[w+1],z=uS(D,M,x,C,R,T);z>S&&(_=w,S=z)}S>r&&(d[(_-t)/s]=1,v+s<_&&m.push(v,_),_+s<p&&m.push(_,p))}for(let p=0;p<h;++p)d[p]&&(u[c++]=a[t+p*s],u[c++]=a[t+p*s+1]);return c}function gx(a,t,i,s,r,u,c,h){for(let d=0,m=i.length;d<m;++d){const _=i[d];c=Od(a,t,_,s,r,u,c),h.push(c),t=_}return c}function Ks(a,t){return t*Math.round(a/t)}function mx(a,t,i,s,r,u,c){if(t==i)return c;let h=Ks(a[t],r),d=Ks(a[t+1],r);t+=s,u[c++]=h,u[c++]=d;let m,_;do if(m=Ks(a[t],r),_=Ks(a[t+1],r),t+=s,t==i)return u[c++]=m,u[c++]=_,c;while(m==h&&_==d);for(;t<i;){const p=Ks(a[t],r),v=Ks(a[t+1],r);if(t+=s,p==m&&v==_)continue;const S=m-h,x=_-d,C=p-h,R=v-d;if(S*R==x*C&&(S<0&&C<S||S==C||S>0&&C>S)&&(x<0&&R<x||x==R||x>0&&R>x)){m=p,_=v;continue}u[c++]=m,u[c++]=_,h=m,d=_,m=p,_=v}return u[c++]=m,u[c++]=_,c}function Np(a,t,i,s,r,u,c,h){for(let d=0,m=i.length;d<m;++d){const _=i[d];c=mx(a,t,_,s,r,u,c),h.push(c),t=_}return c}class Ir extends wd{constructor(t,i){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,i!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(i,t):this.setCoordinates(t,i)}clone(){return new Ir(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,i,s,r){return r<hp(this.getExtent(),t,i)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Lp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),zp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,i,s,r))}getArea(){return Dp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return oa(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const i=[];return i.length=Od(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new Ir(i,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,i){this.setLayout(i,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ip(this.flatCoordinates,0,t,this.stride),this.changed()}}class Qu extends wd{constructor(t,i){super(),this.setCoordinates(t,i)}clone(){const t=new Qu(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,i,s,r){const u=this.flatCoordinates,c=ua(t,i,u[0],u[1]);if(c<r){const h=this.stride;for(let d=0;d<h;++d)s[d]=u[d];return s.length=h,c}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return dp(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return fp(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=fx(this.flatCoordinates,0,t,this.stride),this.changed()}}function _x(a,t,i,s,r){return!mp(r,function(c){return!Ws(a,t,i,s,c[0],c[1])})}function Ws(a,t,i,s,r,u){let c=0,h=a[i-s],d=a[i-s+1];for(;t<i;t+=s){const m=a[t],_=a[t+1];d<=u?_>u&&(m-h)*(u-d)-(r-h)*(_-d)>0&&c++:_<=u&&(m-h)*(u-d)-(r-h)*(_-d)<0&&c--,h=m,d=_}return c!==0}function Gp(a,t,i,s,r,u){if(i.length===0||!Ws(a,t,i[0],s,r,u))return!1;for(let c=1,h=i.length;c<h;++c)if(Ws(a,i[c-1],i[c],s,r,u))return!1;return!0}function Dd(a,t,i,s,r,u,c){let h,d,m,_,p,v,S;const x=r[u+1],C=[];for(let w=0,D=i.length;w<D;++w){const M=i[w];for(_=a[M-s],v=a[M-s+1],h=t;h<M;h+=s)p=a[h],S=a[h+1],(x<=v&&S<=x||v<=x&&x<=S)&&(m=(x-v)/(S-v)*(p-_)+_,C.push(m)),_=p,v=S}let R=NaN,T=-1/0;for(C.sort(Mi),_=C[0],h=1,d=C.length;h<d;++h){p=C[h];const w=Math.abs(p-_);w>T&&(m=(_+p)/2,Gp(a,t,i,s,m,x)&&(R=m,T=w)),_=p}return isNaN(R)&&(R=r[u]),c?(c.push(R,x,T),c):[R,x,T]}function yx(a,t,i,s,r){let u=[];for(let c=0,h=i.length;c<h;++c){const d=i[c];u=Dd(a,t,d,s,r,2*c,u),t=d[d.length-1]}return u}function px(a,t,i,s,r){let u;for(t+=s;t<i;t+=s)if(u=r(a.slice(t-s,t),a.slice(t,t+s)),u)return u;return!1}function Up(a,t,i,s,r,u){return u=u??gp(Ln(),a,t,i,s),Qe(r,u)?u[0]>=r[0]&&u[2]<=r[2]||u[1]>=r[1]&&u[3]<=r[3]?!0:px(a,t,i,s,function(c,h){return _S(r,c,h)}):!1}function Yp(a,t,i,s,r){return!!(Up(a,t,i,s,r)||Ws(a,t,i,s,r[0],r[1])||Ws(a,t,i,s,r[0],r[3])||Ws(a,t,i,s,r[2],r[1])||Ws(a,t,i,s,r[2],r[3]))}function vx(a,t,i,s,r){if(!Yp(a,t,i[0],s,r))return!1;if(i.length===1)return!0;for(let u=1,c=i.length;u<c;++u)if(_x(a,i[u-1],i[u],s,r)&&!Up(a,i[u-1],i[u],s,r))return!1;return!0}function Ex(a,t,i,s){for(;t<i-s;){for(let r=0;r<s;++r){const u=a[t+r];a[t+r]=a[i-s+r],a[i-s+r]=u}t+=s,i-=s}}function Ld(a,t,i,s){let r=0,u=a[i-s],c=a[i-s+1];for(;t<i;t+=s){const h=a[t],d=a[t+1];r+=(h-u)*(d+c),u=h,c=d}return r===0?void 0:r>0}function Sx(a,t,i,s,r){r=r!==void 0?r:!1;for(let u=0,c=i.length;u<c;++u){const h=i[u],d=Ld(a,t,h,s);if(u===0){if(r&&d||!r&&!d)return!1}else if(r&&!d||!r&&d)return!1;t=h}return!0}function p0(a,t,i,s,r){r=r!==void 0?r:!1;for(let u=0,c=i.length;u<c;++u){const h=i[u],d=Ld(a,t,h,s);(u===0?r&&d||!r&&!d:r&&!d||!r&&d)&&Ex(a,t,h,s),t=h}return t}function xx(a,t){const i=[];let s=0,r=0,u;for(let c=0,h=t.length;c<h;++c){const d=t[c],m=Ld(a,s,d,2);if(u===void 0&&(u=m),m===u)i.push(t.slice(r,c+1));else{if(i.length===0)continue;i[i.length-1].push(t[r])}r=c+1,s=d}return i}class Nr extends wd{constructor(t,i,s){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,i!==void 0&&s?(this.setFlatCoordinates(i,t),this.ends_=s):this.setCoordinates(t,i)}appendLinearRing(t){this.flatCoordinates?yd(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new Nr(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,i,s,r){return r<hp(this.getExtent(),t,i)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(cx(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),hx(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,i,s,r))}containsXY(t,i){return Gp(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,i)}getArea(){return ux(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let i;return t!==void 0?(i=this.getOrientedFlatCoordinates().slice(),p0(i,0,this.ends_,this.stride,t)):i=this.flatCoordinates,Nu(i,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=el(this.getExtent());this.flatInteriorPoint_=Dd(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Qu(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new Ir(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,i=this.flatCoordinates,s=this.ends_,r=[];let u=0;for(let c=0,h=s.length;c<h;++c){const d=s[c],m=new Ir(i.slice(u,d),t);r.push(m),u=d}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Sx(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=p0(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const i=[],s=[];return i.length=Np(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),i,0,s),new Nr(i,"XY",s)}getType(){return"Polygon"}intersectsExtent(t){return vx(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,i){this.setLayout(i,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const s=dx(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=s.length===0?0:s[s.length-1],this.changed()}}function v0(a){if(kr(a))throw new Error("Cannot create polygon from empty extent");const t=a[0],i=a[1],s=a[2],r=a[3],u=[t,i,t,r,s,r,s,i,t,i];return new Nr(u,"XY",[u.length])}function zd(a,t,i,s){const r=Ft(t)/i[0],u=Ye(t)/i[1];return s?Math.min(a,Math.max(r,u)):Math.min(a,Math.min(r,u))}function Id(a,t,i){let s=Math.min(a,t);const r=50;return s*=Math.log(1+r*Math.max(0,a/t-1))/r+1,i&&(s=Math.max(s,i),s/=Math.log(1+r*Math.max(0,i/a-1))/r+1),Qt(s,i/2,t*2)}function Tx(a,t,i,s){return t=t!==void 0?t:!0,(function(r,u,c,h){if(r!==void 0){const d=a[0],m=a[a.length-1],_=i?zd(d,i,c,s):d;if(h)return t?Id(r,_,m):Qt(r,m,_);const p=Math.min(_,r),v=Math.floor(_d(a,p,u));return a[v]>_&&v<a.length-1?a[v+1]:a[v]}})}function Cx(a,t,i,s,r,u){return s=s!==void 0?s:!0,i=i!==void 0?i:0,(function(c,h,d,m){if(c!==void 0){const _=r?zd(t,r,d,u):t;if(m)return s?Id(c,_,i):Qt(c,i,_);const p=1e-9,v=Math.ceil(Math.log(t/_)/Math.log(a)-p),S=-h*(.5-p)+.5,x=Math.min(_,c),C=Math.floor(Math.log(t/x)/Math.log(a)+S),R=Math.max(v,C),T=t/Math.pow(a,R);return Qt(T,i,_)}})}function E0(a,t,i,s,r){return i=i!==void 0?i:!0,(function(u,c,h,d){if(u!==void 0){const m=s?zd(a,s,h,r):a;return!i||!d?Qt(u,t,m):Id(u,m,t)}})}function Nd(a){if(a!==void 0)return 0}function S0(a){if(a!==void 0)return a}function Rx(a){const t=2*Math.PI/a;return(function(i,s){if(s)return i;if(i!==void 0)return i=Math.floor(i/t+.5)*t,i})}function bx(a){const t=Ss(5);return(function(i,s){return s||i===void 0?i:Math.abs(i)<=t?0:i})}const Ax=42,Gd=256,wf=0;class ti extends kn{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=bd(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&Ap(),t.center&&(t.center=Ri(t.center,this.projection_)),t.extent&&(t.extent=ps(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const i=Object.assign({},t);for(const h in Xn)delete i[h];this.setProperties(i,!0);const s=wx(t);this.maxResolution_=s.maxResolution,this.minResolution_=s.minResolution,this.zoomFactor_=s.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=s.minZoom;const r=Mx(t),u=s.constraint,c=Ox(t);this.constraints_={center:r,resolution:u,rotation:c},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let i=this.padding_;this.padding_=t;const s=this.getCenterInternal();if(s){const r=t||[0,0,0,0];i=i||[0,0,0,0];const u=this.getResolution(),c=u/2*(r[3]-i[3]+i[1]-r[1]),h=u/2*(r[0]-i[0]+i[2]-r[2]);this.setCenterInternal([s[0]+c,s[1]-h])}}getUpdatedOptions_(t){const i=this.getProperties();return i.resolution!==void 0?i.resolution=this.getResolution():i.zoom=this.getZoom(),i.center=this.getCenterInternal(),i.rotation=this.getRotation(),Object.assign({},i,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const i=new Array(arguments.length);for(let s=0;s<i.length;++s){let r=arguments[s];r.center&&(r=Object.assign({},r),r.center=Ri(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Ri(r.anchor,this.getProjection())),i[s]=r}this.animateInternal.apply(this,i)}animateInternal(t){let i=arguments.length,s;i>1&&typeof arguments[i-1]=="function"&&(s=arguments[i-1],--i);let r=0;for(;r<i&&!this.isDef();++r){const _=arguments[r];_.center&&this.setCenterInternal(_.center),_.zoom!==void 0?this.setZoom(_.zoom):_.resolution&&this.setResolution(_.resolution),_.rotation!==void 0&&this.setRotation(_.rotation)}if(r===i){s&&pu(s,!0);return}let u=Date.now(),c=this.targetCenter_.slice(),h=this.targetResolution_,d=this.targetRotation_;const m=[];for(;r<i;++r){const _=arguments[r],p={start:u,complete:!1,anchor:_.anchor,duration:_.duration!==void 0?_.duration:1e3,easing:_.easing||SS,callback:s};if(_.center&&(p.sourceCenter=c,p.targetCenter=_.center.slice(),c=p.targetCenter),_.zoom!==void 0?(p.sourceResolution=h,p.targetResolution=this.getResolutionForZoom(_.zoom),h=p.targetResolution):_.resolution&&(p.sourceResolution=h,p.targetResolution=_.resolution,h=p.targetResolution),_.rotation!==void 0){p.sourceRotation=d;const v=ca(_.rotation-d+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=d+v,d=p.targetRotation}Dx(p)?p.complete=!0:u+=p.duration,m.push(p)}this.animations_.push(m),this.setHint(De.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[De.ANIMATING]>0}getInteracting(){return this.hints_[De.INTERACTING]>0}cancelAnimations(){this.setHint(De.ANIMATING,-this.hints_[De.ANIMATING]);let t;for(let i=0,s=this.animations_.length;i<s;++i){const r=this.animations_[i];if(r[0].callback&&pu(r[0].callback,!1),!t)for(let u=0,c=r.length;u<c;++u){const h=r[u];if(!h.complete){t=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let i=!1;for(let s=this.animations_.length-1;s>=0;--s){const r=this.animations_[s];let u=!0;for(let c=0,h=r.length;c<h;++c){const d=r[c];if(d.complete)continue;const m=t-d.start;let _=d.duration>0?m/d.duration:1;_>=1?(d.complete=!0,_=1):u=!1;const p=d.easing(_);if(d.sourceCenter){const v=d.sourceCenter[0],S=d.sourceCenter[1],x=d.targetCenter[0],C=d.targetCenter[1];this.nextCenter_=d.targetCenter;const R=v+p*(x-v),T=S+p*(C-S);this.targetCenter_=[R,T]}if(d.sourceResolution&&d.targetResolution){const v=p===1?d.targetResolution:d.sourceResolution+p*(d.targetResolution-d.sourceResolution);if(d.anchor){const S=this.getViewportSize_(this.getRotation()),x=this.constraints_.resolution(v,0,S,!0);this.targetCenter_=this.calculateCenterZoom(x,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=v,this.applyTargetState_(!0)}if(d.sourceRotation!==void 0&&d.targetRotation!==void 0){const v=p===1?ca(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+p*(d.targetRotation-d.sourceRotation);if(d.anchor){const S=this.constraints_.rotation(v,!0);this.targetCenter_=this.calculateCenterRotate(S,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=v}if(this.applyTargetState_(!0),i=!0,!d.complete)break}if(u){this.animations_[s]=null,this.setHint(De.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const c=r[0].callback;c&&pu(c,!0)}}this.animations_=this.animations_.filter(Boolean),i&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,i){let s;const r=this.getCenterInternal();return r!==void 0&&(s=[r[0]-i[0],r[1]-i[1]],Ed(s,t-this.getRotation()),yS(s,i)),s}calculateCenterZoom(t,i){let s;const r=this.getCenterInternal(),u=this.getResolution();if(r!==void 0&&u!==void 0){const c=i[0]-t*(i[0]-r[0])/u,h=i[1]-t*(i[1]-r[1])/u;s=[c,h]}return s}getViewportSize_(t){const i=this.viewportSize_;if(t){const s=i[0],r=i[1];return[Math.abs(s*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(s*Math.sin(t))+Math.abs(r*Math.cos(t))]}return i}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&ad(t,this.getProjection())}getCenterInternal(){return this.get(Xn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const i=this.calculateExtentInternal(t);return Mp(i,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const i=this.getCenterInternal();Gt(i,"The view center is not defined");const s=this.getResolution();Gt(s!==void 0,"The view resolution is not defined");const r=this.getRotation();return Gt(r!==void 0,"The view rotation is not defined"),nd(i,s,r,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(Xn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,i){return this.getResolutionForExtentInternal(ps(t,this.getProjection()),i)}getResolutionForExtentInternal(t,i){i=i||this.getViewportSizeMinusPadding_();const s=Ft(t)/i[0],r=Ye(t)/i[1];return Math.max(s,r)}getResolutionForValueFunction(t){t=t||2;const i=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,r=Math.log(i/s)/Math.log(t);return(function(u){return i/Math.pow(t,u*r)})}getRotation(){return this.get(Xn.ROTATION)}getValueForResolutionFunction(t){const i=Math.log(t||2),s=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,u=Math.log(s/r)/i;return(function(c){return Math.log(s/c)/i/u})}getViewportSizeMinusPadding_(t){let i=this.getViewportSize_(t);const s=this.padding_;return s&&(i=[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]),i}getState(){const t=this.getProjection(),i=this.getResolution(),s=this.getRotation();let r=this.getCenterInternal();const u=this.padding_;if(u){const c=this.getViewportSizeMinusPadding_();r=Of(r,this.getViewportSize_(),[c[0]/2+u[3],c[1]/2+u[0]],i,s)}return{center:r.slice(0),projection:t!==void 0?t:null,resolution:i,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:s,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const i=this.getResolution();return i!==void 0&&(t=this.getZoomForResolution(i)),t}getZoomForResolution(t){let i=this.minZoom_||0,s,r;if(this.resolutions_){const u=_d(this.resolutions_,t,1);i=u,s=this.resolutions_[u],u==this.resolutions_.length-1?r=2:r=s/this.resolutions_[u+1]}else s=this.maxResolution_,r=this.zoomFactor_;return i+Math.log(s/t)/Math.log(r)}getResolutionForZoom(t){var i;if((i=this.resolutions_)!=null&&i.length){if(this.resolutions_.length===1)return this.resolutions_[0];const s=Qt(Math.floor(t),0,this.resolutions_.length-2),r=this.resolutions_[s]/this.resolutions_[s+1];return this.resolutions_[s]/Math.pow(r,Qt(t-s,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,i){let s;if(Gt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){Gt(!kr(t),"Cannot fit empty extent provided as `geometry`");const r=ps(t,this.getProjection());s=v0(r)}else if(t.getType()==="Circle"){const r=ps(t.getExtent(),this.getProjection());s=v0(r),s.rotate(this.getRotation(),el(r))}else s=t;this.fitInternal(s,i)}rotatedExtentForGeometry(t){const i=this.getRotation(),s=Math.cos(i),r=Math.sin(-i),u=t.getFlatCoordinates(),c=t.getStride();let h=1/0,d=1/0,m=-1/0,_=-1/0;for(let p=0,v=u.length;p<v;p+=c){const S=u[p]*s-u[p+1]*r,x=u[p]*r+u[p+1]*s;h=Math.min(h,S),d=Math.min(d,x),m=Math.max(m,S),_=Math.max(_,x)}return[h,d,m,_]}fitInternal(t,i){i=i||{};let s=i.size;s||(s=this.getViewportSizeMinusPadding_());const r=i.padding!==void 0?i.padding:[0,0,0,0],u=i.nearest!==void 0?i.nearest:!1;let c;i.minResolution!==void 0?c=i.minResolution:i.maxZoom!==void 0?c=this.getResolutionForZoom(i.maxZoom):c=0;const h=this.rotatedExtentForGeometry(t);let d=this.getResolutionForExtentInternal(h,[s[0]-r[1]-r[3],s[1]-r[0]-r[2]]);d=isNaN(d)?c:Math.max(d,c),d=this.getConstrainedResolution(d,u?0:1);const m=this.getRotation(),_=Math.sin(m),p=Math.cos(m),v=el(h);v[0]+=(r[1]-r[3])/2*d,v[1]+=(r[0]-r[2])/2*d;const S=v[0]*p-v[1]*_,x=v[1]*p+v[0]*_,C=this.getConstrainedCenter([S,x],d),R=i.callback?i.callback:Dr;i.duration!==void 0?this.animateInternal({resolution:d,center:C,duration:i.duration,easing:i.easing},R):(this.targetResolution_=d,this.targetCenter_=C,this.applyTargetState_(!1,!0),pu(R,!0))}centerOn(t,i,s){this.centerOnInternal(Ri(t,this.getProjection()),i,s)}centerOnInternal(t,i,s){this.setCenterInternal(Of(t,i,s,this.getResolution(),this.getRotation()))}calculateCenterShift(t,i,s,r){let u;const c=this.padding_;if(c&&t){const h=this.getViewportSizeMinusPadding_(-s),d=Of(t,r,[h[0]/2+c[3],h[1]/2+c[0]],i,s);u=[t[0]-d[0],t[1]-d[1]]}return u}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const i=ad(this.targetCenter_,this.getProjection());this.setCenter([i[0]+t[0],i[1]+t[1]])}adjustCenterInternal(t){const i=this.targetCenter_;this.setCenterInternal([i[0]+t[0],i[1]+t[1]])}adjustResolution(t,i){i=i&&Ri(i,this.getProjection()),this.adjustResolutionInternal(t,i)}adjustResolutionInternal(t,i){const s=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),u=this.constraints_.resolution(this.targetResolution_*t,0,r,s);i&&(this.targetCenter_=this.calculateCenterZoom(u,i)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,i){this.adjustResolution(Math.pow(this.zoomFactor_,-t),i)}adjustRotation(t,i){i&&(i=Ri(i,this.getProjection())),this.adjustRotationInternal(t,i)}adjustRotationInternal(t,i){const s=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,s);i&&(this.targetCenter_=this.calculateCenterRotate(r,i)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&Ri(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,i){return this.hints_[t]+=i,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,i){const s=this.getAnimating()||this.getInteracting()||i,r=this.constraints_.rotation(this.targetRotation_,s),u=this.getViewportSize_(r),c=this.constraints_.resolution(this.targetResolution_,0,u,s),h=this.constraints_.center(this.targetCenter_,c,u,s,this.calculateCenterShift(this.targetCenter_,c,r,u));this.get(Xn.ROTATION)!==r&&this.set(Xn.ROTATION,r),this.get(Xn.RESOLUTION)!==c&&(this.set(Xn.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(Xn.CENTER)||!Du(this.get(Xn.CENTER),h))&&this.set(Xn.CENTER,h),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,i,s){t=t!==void 0?t:200;const r=i||0,u=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(u),h=this.constraints_.resolution(this.targetResolution_,r,c),d=this.constraints_.center(this.targetCenter_,h,c,!1,this.calculateCenterShift(this.targetCenter_,h,u,c));if(t===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=u,this.targetCenter_=d,this.applyTargetState_();return}s=s||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==u||!this.getCenterInternal()||!Du(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:u,center:d,resolution:h,duration:t,easing:Sa,anchor:s}))}beginInteraction(){this.resolveConstraints(0),this.setHint(De.INTERACTING,1)}endInteraction(t,i,s){s=s&&Ri(s,this.getProjection()),this.endInteractionInternal(t,i,s)}endInteractionInternal(t,i,s){this.getInteracting()&&(this.setHint(De.INTERACTING,-1),this.resolveConstraints(t,i,s))}getConstrainedCenter(t,i){const s=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,i||this.getResolution(),s)}getConstrainedZoom(t,i){const s=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(s,i))}getConstrainedResolution(t,i){i=i||0;const s=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,i,s)}}function pu(a,t){setTimeout(function(){a(t)},0)}function Mx(a){if(a.extent!==void 0){const i=a.smoothExtentConstraint!==void 0?a.smoothExtentConstraint:!0;return n0(a.extent,a.constrainOnlyCenter,i)}const t=bd(a.projection,"EPSG:3857");if(a.multiWorld!==!0&&t.isGlobal()){const i=t.getExtent().slice();return i[0]=-1/0,i[2]=1/0,n0(i,!1,!1)}return hS}function wx(a){let t,i,s,c=a.minZoom!==void 0?a.minZoom:wf,h=a.maxZoom!==void 0?a.maxZoom:28;const d=a.zoomFactor!==void 0?a.zoomFactor:2,m=a.multiWorld!==void 0?a.multiWorld:!1,_=a.smoothResolutionConstraint!==void 0?a.smoothResolutionConstraint:!0,p=a.showFullExtent!==void 0?a.showFullExtent:!1,v=bd(a.projection,"EPSG:3857"),S=v.getExtent();let x=a.constrainOnlyCenter,C=a.extent;if(!m&&!C&&v.isGlobal()&&(x=!1,C=S),a.resolutions!==void 0){const R=a.resolutions;i=R[c],s=R[h]!==void 0?R[h]:R[R.length-1],a.constrainResolution?t=Tx(R,_,!x&&C,p):t=E0(i,s,_,!x&&C,p)}else{const T=(S?Math.max(Ft(S),Ye(S)):360*Sd.degrees/v.getMetersPerUnit())/Gd/Math.pow(2,wf),w=T/Math.pow(2,28-wf);i=a.maxResolution,i!==void 0?c=0:i=T/Math.pow(d,c),s=a.minResolution,s===void 0&&(a.maxZoom!==void 0?a.maxResolution!==void 0?s=i/Math.pow(d,h):s=T/Math.pow(d,h):s=w),h=c+Math.floor(Math.log(i/s)/Math.log(d)),s=i/Math.pow(d,h-c),a.constrainResolution?t=Cx(d,i,s,_,!x&&C,p):t=E0(i,s,_,!x&&C,p)}return{constraint:t,maxResolution:i,minResolution:s,minZoom:c,zoomFactor:d}}function Ox(a){if(a.enableRotation!==void 0?a.enableRotation:!0){const i=a.constrainRotation;return i===void 0||i===!0?bx():i===!1?S0:typeof i=="number"?Rx(i):S0}return Nd}function Dx(a){return!(a.sourceCenter&&a.targetCenter&&!Du(a.sourceCenter,a.targetCenter)||a.sourceResolution!==a.targetResolution||a.sourceRotation!==a.targetRotation)}function Of(a,t,i,s,r){const u=Math.cos(-r);let c=Math.sin(-r),h=a[0]*u-a[1]*c,d=a[1]*u+a[0]*c;h+=(t[0]/2-i[0])*s,d+=(i[1]-t[1]/2)*s,c=-c;const m=h*u-d*c,_=d*u+h*c;return[m,_]}const vu="ol-hidden",Lx="ol-selectable",Ju="ol-unselectable",Ud="ol-control",x0="ol-collapsed",zx=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),T0=["style","variant","weight","size","lineHeight","family"],od={normal:400,bold:700},ud=function(a){const t=a.match(zx);if(!t)return null;const i={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let s=0,r=T0.length;s<r;++s){const u=t[s+1];u!==void 0&&(i[T0[s]]=typeof u=="string"?u.trim():u)}return isNaN(Number(i.weight))&&i.weight in od&&(i.weight=od[i.weight]),i.families=i.family.split(/,\s?/).map(s=>s.trim().replace(/^['"]|['"]$/g,"")),i};function re(a,t,i,s){let r;return i&&i.length?r=i.shift():Mn?r=new class extends OffscreenCanvas{constructor(){super(...arguments);vf(this,"style",{})}}(a??300,t??150):r=document.createElement("canvas"),a&&(r.width=a),t&&(r.height=t),r.getContext("2d",s)}let Df;function Gu(){return Df||(Df=re(1,1)),Df}function $u(a){const t=a.canvas;t.width=1,t.height=1,a.clearRect(0,0,1,1)}function Ix(a){let t=a.offsetWidth;const i=getComputedStyle(a);return t+=parseInt(i.marginLeft,10)+parseInt(i.marginRight,10),t}function Nx(a){let t=a.offsetHeight;const i=getComputedStyle(a);return t+=parseInt(i.marginTop,10)+parseInt(i.marginBottom,10),t}function C0(a,t){const i=t.parentNode;i&&i.replaceChild(a,t)}function Xp(a){for(;a.lastChild;)a.lastChild.remove()}function Gx(a,t){const i=a.childNodes;for(let s=0;;++s){const r=i[s],u=t[s];if(!r&&!u)break;if(r!==u){if(!r){a.appendChild(u);continue}if(!u){a.removeChild(r),--s;continue}a.insertBefore(u,r)}}}function Fp(){return new Proxy({childNodes:[],appendChild:function(t){return this.childNodes.push(t),t},remove:function(){},removeChild:function(t){const i=this.childNodes.indexOf(t);if(i===-1)throw new Error("Node to remove was not found");return this.childNodes.splice(i,1),t},insertBefore:function(t,i){const s=this.childNodes.indexOf(i);if(s===-1)throw new Error("Reference node not found");return this.childNodes.splice(s,0,t),t},style:{}},{get(t,i,s){return i==="firstElementChild"?t.childNodes.length>0?t.childNodes[0]:null:Reflect.get(t,i,s)}})}function vs(a){return typeof HTMLCanvasElement<"u"&&a instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&a instanceof OffscreenCanvas}class Yd extends kn{constructor(t){super();const i=t.element;i&&!t.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),this.element=i||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){var t;(t=this.element)==null||t.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){var i;this.map_&&((i=this.element)==null||i.remove());for(let s=0,r=this.listenerKeys.length;s<r;++s)Vt(this.listenerKeys[s]);if(this.listenerKeys.length=0,this.map_=t,t){const s=this.target_??t.getOverlayContainerStopEvent();this.element&&s.appendChild(this.element),this.render!==Dr&&this.listenerKeys.push(Mt(t,bi.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}class Ux extends Yd{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const i=t.className!==void 0?t.className:"ol-attribution",s=t.tipLabel!==void 0?t.tipLabel:"Attributions",r=t.expandClassName!==void 0?t.expandClassName:i+"-expand",u=t.collapseLabel!==void 0?t.collapseLabel:"",c=t.collapseClassName!==void 0?t.collapseClassName:i+"-collapse";typeof u=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=u,this.collapseLabel_.className=c):this.collapseLabel_=u;const h=t.label!==void 0?t.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=r):this.label_=h;const d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=s,this.toggleButton_.appendChild(d),this.toggleButton_.addEventListener(St.CLICK,this.handleClick_.bind(this),!1);const m=i+" "+Ju+" "+Ud+(this.collapsed_&&this.collapsible_?" "+x0:"")+(this.collapsible_?"":" ol-uncollapsible"),_=this.element;_.className=m,_.appendChild(this.toggleButton_),_.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const i=this.getMap().getAllLayers(),s=new Set(i.flatMap(r=>r.getAttributions(t)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>s.add(r)):s.add(this.attributions_)),!this.overrideCollapsible_){const r=!i.some(u=>{var c;return((c=u.getSource())==null?void 0:c.getAttributionsCollapsible())===!1});this.setCollapsible(r)}return Array.from(s)}async updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const i=await Promise.all(this.collectSourceAttributions_(t).map(r=>$E(()=>r))),s=i.length>0;if(this.renderedVisible_!=s&&(this.element.style.display=s?"":"none",this.renderedVisible_=s),!Rs(i,this.renderedAttributions_)){Xp(this.ulElement_);for(let r=0,u=i.length;r<u;++r){const c=document.createElement("li");c.innerHTML=i[r],this.ulElement_.appendChild(c)}this.renderedAttributions_=i}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(x0),this.collapsed_?C0(this.collapseLabel_,this.label_):C0(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class Yx extends Yd{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const i=t.className!==void 0?t.className:"ol-rotate",s=t.label!==void 0?t.label:"",r=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof s=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=s):(this.label_=s,this.label_.classList.add(r));const u=t.tipLabel?t.tipLabel:"Reset rotation",c=document.createElement("button");c.className=i+"-reset",c.setAttribute("type","button"),c.title=u,c.appendChild(this.label_),c.addEventListener(St.CLICK,this.handleClick_.bind(this),!1);const h=i+" "+Ju+" "+Ud,d=this.element;d.className=h,d.appendChild(c),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(vu)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const i=this.getMap().getView();if(!i)return;const s=i.getRotation();s!==void 0&&(this.duration_>0&&s%(2*Math.PI)!==0?i.animate({rotation:0,duration:this.duration_,easing:Sa}):i.setRotation(0))}render(t){const i=t.frameState;if(!i)return;const s=i.viewState.rotation;if(s!=this.rotation_){const r="rotate("+s+"rad)";if(this.autoHide_){const u=this.element.classList.contains(vu);!u&&s===0?this.element.classList.add(vu):u&&s!==0&&this.element.classList.remove(vu)}this.label_.style.transform=r}this.rotation_=s}}class Xx extends Yd{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const i=t.className!==void 0?t.className:"ol-zoom",s=t.delta!==void 0?t.delta:1,r=t.zoomInClassName!==void 0?t.zoomInClassName:i+"-in",u=t.zoomOutClassName!==void 0?t.zoomOutClassName:i+"-out",c=t.zoomInLabel!==void 0?t.zoomInLabel:"+",h=t.zoomOutLabel!==void 0?t.zoomOutLabel:"",d=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",m=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",_=document.createElement("button");_.className=r,_.setAttribute("type","button"),_.title=d,_.appendChild(typeof c=="string"?document.createTextNode(c):c),_.addEventListener(St.CLICK,this.handleClick_.bind(this,s),!1);const p=document.createElement("button");p.className=u,p.setAttribute("type","button"),p.title=m,p.appendChild(typeof h=="string"?document.createTextNode(h):h),p.addEventListener(St.CLICK,this.handleClick_.bind(this,-s),!1);const v=i+" "+Ju+" "+Ud,S=this.element;S.className=v,S.appendChild(_),S.appendChild(p),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,i){i.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const s=this.getMap().getView();if(!s)return;const r=s.getZoom();if(r!==void 0){const u=s.getConstrainedZoom(r+t);this.duration_>0?(s.getAnimating()&&s.cancelAnimations(),s.animate({zoom:u,duration:this.duration_,easing:Sa})):s.setZoom(u)}}}function Fx(a){a=a||{};const t=new An;return(a.zoom!==void 0?a.zoom:!0)&&t.push(new Xx(a.zoomOptions)),(a.rotate!==void 0?a.rotate:!0)&&t.push(new Yx(a.rotateOptions)),(a.attribution!==void 0?a.attribution:!0)&&t.push(new Ux(a.attributionOptions)),t}class Bx{constructor(t,i,s){this.decay_=t,this.minVelocity_=i,this.delay_=s,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,i){this.points_.push(t,i,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,i=this.points_.length-3;if(this.points_[i+2]<t)return!1;let s=i-3;for(;s>0&&this.points_[s+2]>t;)s-=3;const r=this.points_[i+2]-this.points_[s+2];if(r<1e3/60)return!1;const u=this.points_[i]-this.points_[s],c=this.points_[i+1]-this.points_[s+1];return this.angle_=Math.atan2(c,u),this.initialVelocity_=Math.sqrt(u*u+c*c)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const R0={ACTIVE:"active"};class Pr extends kn{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(R0.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(R0.ACTIVE,t)}setMap(t){this.map_=t}}function Hx(a,t,i){const s=a.getCenterInternal();if(s){const r=[s[0]+t[0],s[1]+t[1]];a.animateInternal({duration:i!==void 0?i:250,easing:xS,center:a.getConstrainedCenter(r)})}}function Xd(a,t,i,s){const r=a.getZoom();if(r===void 0)return;const u=a.getConstrainedZoom(r+t),c=a.getResolutionForZoom(u);a.getAnimating()&&a.cancelAnimations(),a.animate({resolution:c,anchor:i,duration:s!==void 0?s:250,easing:Sa})}class jx extends Pr{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let i=!1;if(t.type==te.DBLCLICK){const s=t.originalEvent,r=t.map,u=t.coordinate,c=s.shiftKey?-this.delta_:this.delta_,h=r.getView();Xd(h,c,u,this.duration_),s.preventDefault(),i=!0}return!i}}function cd(a){const t=arguments;return function(i){let s=!0;for(let r=0,u=t.length;r<u&&(s=s&&t[r](i),!!s);++r);return s}}const kx=function(a){const t=a.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Zx=function(a){const t=a.map.getTargetElement(),i=t.getRootNode(),s=a.map.getOwnerDocument().activeElement;return i instanceof ShadowRoot?i.host.contains(s):t.contains(s)},Bp=function(a){const t=a.map.getTargetElement(),i=t.getRootNode();return(i instanceof ShadowRoot?i.host:t).hasAttribute("tabindex")?Zx(a):!0},Px=Or,Hp=function(a){const t=a.originalEvent;return"pointerId"in t&&t.button==0&&!(iS&&rp&&t.ctrlKey)},jp=function(a){const t=a.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},Kx=function(a){const t=a.originalEvent;return rp?t.metaKey:t.ctrlKey},qx=function(a){const t=a.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},kp=function(a){const t=a.originalEvent,i=t.target.tagName;return i!=="INPUT"&&i!=="SELECT"&&i!=="TEXTAREA"&&!t.target.isContentEditable},Lf=function(a){const t=a.originalEvent;return"pointerId"in t&&t.pointerType=="mouse"},Vx=function(a){const t=a.originalEvent;return"pointerId"in t&&t.isPrimary&&t.button===0};class Kr extends Pr{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let i=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==te.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==te.POINTERUP){const s=this.handleUpEvent(t);this.handlingDownUpSequence=s&&this.targetPointers.length>0}}else if(t.type==te.POINTERDOWN){const s=this.handleDownEvent(t);this.handlingDownUpSequence=s,i=this.stopDown(s)}else t.type==te.POINTERMOVE&&this.handleMoveEvent(t);return!i}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function Fd(a){const t=a.length;let i=0,s=0;for(let r=0;r<t;r++)i+=a[r].clientX,s+=a[r].clientY;return{clientX:i/t,clientY:s/t}}class Wx extends Kr{constructor(t){super({stopDown:Hu}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const i=t.condition?t.condition:cd(jp,Vx);this.condition_=t.onFocusOnly?cd(Bp,i):i,this.noKinetic_=!1}handleDragEvent(t){const i=t.map;this.panning_||(this.panning_=!0,i.getView().beginInteraction());const s=this.targetPointers,r=i.getEventPixel(Fd(s));if(s.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const u=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],h=t.map.getView();pS(u,h.getResolution()),Ed(u,h.getRotation()),h.adjustCenterInternal(u)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=s.length,t.originalEvent.preventDefault()}handleUpEvent(t){const i=t.map,s=i.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),u=this.kinetic_.getAngle(),c=s.getCenterInternal(),h=i.getPixelFromCoordinateInternal(c),d=i.getCoordinateFromPixelInternal([h[0]-r*Math.cos(u),h[1]-r*Math.sin(u)]);s.animateInternal({center:s.getConstrainedCenter(d),duration:500,easing:Sa})}return this.panning_&&(this.panning_=!1,s.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const s=t.map.getView();return this.lastCentroid=null,s.getAnimating()&&s.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class Qx extends Kr{constructor(t){t=t||{},super({stopDown:Hu}),this.condition_=t.condition?t.condition:kx,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!Lf(t))return;const i=t.map,s=i.getView();if(s.getConstraints().rotation===Nd)return;const r=i.getSize(),u=t.pixel,c=Math.atan2(r[1]/2-u[1],u[0]-r[0]/2);if(this.lastAngle_!==void 0){const h=c-this.lastAngle_;s.adjustRotationInternal(-h)}this.lastAngle_=c}handleUpEvent(t){return Lf(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return Lf(t)&&Hp(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class Jx extends Bu{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,i=this.endPixel_,s="px",r=this.element_.style;r.left=Math.min(t[0],i[0])+s,r.top=Math.min(t[1],i[1])+s,r.width=Math.abs(i[0]-t[0])+s,r.height=Math.abs(i[1]-t[1])+s}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const i=this.element_.style;i.left="inherit",i.top="inherit",i.width="inherit",i.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,i){this.startPixel_=t,this.endPixel_=i,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,i=this.endPixel_,r=[t,[t[0],i[1]],i,[i[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Nr([r])}getGeometry(){return this.geometry_}}const Wl={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class _r extends Li{constructor(t,i,s){super(t),this.coordinate=i,this.mapBrowserEvent=s}}class $x extends Kr{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new Jx(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??Hp,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,i,s){const r=s[0]-i[0],u=s[1]-i[1];return r*r+u*u>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new _r(Wl.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const i=this.boxEndCondition_(t,this.startPixel_,t.pixel);return i&&this.onBoxEnd(t),this.dispatchEvent(new _r(i?Wl.BOXEND:Wl.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new _r(Wl.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new _r(Wl.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new _r(Wl.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}}class tT extends $x{constructor(t){t=t||{};const i=t.condition?t.condition:qx;super({condition:i,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const s=this.getMap().getView();let r=this.getGeometry();if(this.out_){const u=s.rotatedExtentForGeometry(r),c=s.getResolutionForExtentInternal(u),h=s.getResolution()/c;r=r.clone(),r.scale(h*h)}s.fitInternal(r,{duration:this.duration_,easing:Sa})}}const Ps={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class eT extends Pr{constructor(t){super(),t=t||{},this.defaultCondition_=function(i){return jp(i)&&kp(i)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let i=!1;if(t.type==St.KEYDOWN){const s=t.originalEvent,r=s.key;if(this.condition_(t)&&(r==Ps.DOWN||r==Ps.LEFT||r==Ps.RIGHT||r==Ps.UP)){const c=t.map.getView(),h=c.getResolution()*this.pixelDelta_;let d=0,m=0;r==Ps.DOWN?m=-h:r==Ps.LEFT?d=-h:r==Ps.RIGHT?d=h:m=h;const _=[d,m];Ed(_,c.getRotation()),Hx(c,_,this.duration_),s.preventDefault(),i=!0}}return!i}}class nT extends Pr{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(i){return!Kx(i)&&kp(i)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let i=!1;if(t.type==St.KEYDOWN||t.type==St.KEYPRESS){const s=t.originalEvent,r=s.key;if(this.condition_(t)&&(r==="+"||r==="-")){const u=t.map,c=r==="+"?this.delta_:-this.delta_,h=u.getView();Xd(h,c,void 0,this.duration_),s.preventDefault(),i=!0}}return!i}}const iT=40,sT=300;class lT extends Pr{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const i=t.condition?t.condition:Px;this.condition_=t.onFocusOnly?cd(Bp,i):i,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==St.WHEEL)return!0;const s=t.map,r=t.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let u=r.deltaY;switch(r.deltaMode){case WheelEvent.DOM_DELTA_LINE:u*=iT;break;case WheelEvent.DOM_DELTA_PAGE:u*=sT;break}if(u===0)return!1;this.lastDelta_=u;const c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(u)<4?"trackpad":"wheel");const h=s.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-u/this.deltaPerZoom_,this.lastAnchor_?s.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=c,!1;this.totalDelta_+=u;const d=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,s),d),!1}handleWheelZoom_(t){const i=t.getView();i.getAnimating()&&i.cancelAnimations();let s=-Qt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(i.getConstrainResolution()||this.constrainResolution_)&&(s=s?s>0?1:-1:0),Xd(i,s,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class aT extends Kr{constructor(t){t=t||{};const i=t;i.stopDown||(i.stopDown=Hu),super(i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let i=0;const s=this.targetPointers[0],r=this.targetPointers[1],u=Math.atan2(r.clientY-s.clientY,r.clientX-s.clientX);if(this.lastAngle_!==void 0){const d=u-this.lastAngle_;this.rotationDelta_+=d,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),i=d}this.lastAngle_=u;const c=t.map,h=c.getView();h.getConstraints().rotation!==Nd&&(this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(Fd(this.targetPointers))),this.rotating_&&(c.render(),h.adjustRotationInternal(i,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const i=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||i.getView().beginInteraction(),!0}return!1}}class rT extends Kr{constructor(t){t=t||{};const i=t;i.stopDown||(i.stopDown=Hu),super(i),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let i=1;const s=this.targetPointers[0],r=this.targetPointers[1],u=s.clientX-r.clientX,c=s.clientY-r.clientY,h=Math.sqrt(u*u+c*c);this.lastDistance_!==void 0&&(i=this.lastDistance_/h),this.lastDistance_=h;const d=t.map,m=d.getView();i!=1&&(this.lastScaleDelta_=i),this.anchor_=d.getCoordinateFromPixelInternal(d.getEventPixel(Fd(this.targetPointers))),d.render(),m.adjustResolutionInternal(i,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const s=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return s.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const i=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||i.getView().beginInteraction(),!0}return!1}}function oT(a){a=a||{};const t=new An,i=new Bx(-.005,.05,100);return(a.altShiftDragRotate!==void 0?a.altShiftDragRotate:!0)&&t.push(new Qx),(a.doubleClickZoom!==void 0?a.doubleClickZoom:!0)&&t.push(new jx({delta:a.zoomDelta,duration:a.zoomDuration})),(a.dragPan!==void 0?a.dragPan:!0)&&t.push(new Wx({onFocusOnly:a.onFocusOnly,kinetic:i})),(a.pinchRotate!==void 0?a.pinchRotate:!0)&&t.push(new aT),(a.pinchZoom!==void 0?a.pinchZoom:!0)&&t.push(new rT({duration:a.zoomDuration})),(a.keyboard!==void 0?a.keyboard:!0)&&(t.push(new eT),t.push(new nT({delta:a.zoomDelta,duration:a.zoomDuration}))),(a.mouseWheelZoom!==void 0?a.mouseWheelZoom:!0)&&t.push(new lT({onFocusOnly:a.onFocusOnly,duration:a.zoomDuration})),(a.shiftDragZoom!==void 0?a.shiftDragZoom:!0)&&t.push(new tT({duration:a.zoomDuration})),t}const Xt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class Zp extends kn{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const i=Object.assign({},t);typeof t.properties=="object"&&(delete i.properties,Object.assign(i,t.properties)),i[Xt.OPACITY]=t.opacity!==void 0?t.opacity:1,Gt(typeof i[Xt.OPACITY]=="number","Layer opacity must be a number"),i[Xt.VISIBLE]=t.visible!==void 0?t.visible:!0,i[Xt.Z_INDEX]=t.zIndex,i[Xt.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,i[Xt.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,i[Xt.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,i[Xt.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=i.className!==void 0?i.className:"ol-layer",delete i.className,this.setProperties(i),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const i=this.state_||{layer:this,managed:t===void 0?!0:t},s=this.getZIndex();return i.opacity=Qt(Math.round(this.getOpacity()*100)/100,0,1),i.visible=this.getVisible(),i.extent=this.getExtent(),i.zIndex=s===void 0&&!i.managed?1/0:s,i.maxResolution=this.getMaxResolution(),i.minResolution=Math.max(this.getMinResolution(),0),i.minZoom=this.getMinZoom(),i.maxZoom=this.getMaxZoom(),this.state_=i,i}getLayersArray(t){return Lt()}getLayerStatesArray(t){return Lt()}getExtent(){return this.get(Xt.EXTENT)}getMaxResolution(){return this.get(Xt.MAX_RESOLUTION)}getMinResolution(){return this.get(Xt.MIN_RESOLUTION)}getMinZoom(){return this.get(Xt.MIN_ZOOM)}getMaxZoom(){return this.get(Xt.MAX_ZOOM)}getOpacity(){return this.get(Xt.OPACITY)}getSourceState(){return Lt()}getVisible(){return this.get(Xt.VISIBLE)}getZIndex(){return this.get(Xt.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(Xt.EXTENT,t)}setMaxResolution(t){this.set(Xt.MAX_RESOLUTION,t)}setMinResolution(t){this.set(Xt.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(Xt.MAX_ZOOM,t)}setMinZoom(t){this.set(Xt.MIN_ZOOM,t)}setOpacity(t){Gt(typeof t=="number","Layer opacity must be a number"),this.set(Xt.OPACITY,t)}setVisible(t){this.set(Xt.VISIBLE,t)}setZIndex(t){this.set(Xt.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const cs={ADDLAYER:"addlayer",REMOVELAYER:"removelayer"};class ys extends Li{constructor(t,i){super(t),this.layer=i}}const zf={LAYERS:"layers"};class xa extends Zp{constructor(t){t=t||{};const i=Object.assign({},t);delete i.layers;let s=t.layers;super(i),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(zf.LAYERS,this.handleLayersChanged_),s?Array.isArray(s)?s=new An(s.slice(),{unique:!0}):Gt(typeof s.getArray=="function","Expected `layers` to be an array or a `Collection`"):s=new An(void 0,{unique:!0}),this.setLayers(s)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Vt),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(Mt(t,qe.ADD,this.handleLayersAdd_,this),Mt(t,qe.REMOVE,this.handleLayersRemove_,this));for(const s in this.listenerKeys_)this.listenerKeys_[s].forEach(Vt);Hr(this.listenerKeys_);const i=t.getArray();for(let s=0,r=i.length;s<r;s++){const u=i[s];this.registerLayerListeners_(u),this.dispatchEvent(new ys(cs.ADDLAYER,u))}this.changed()}registerLayerListeners_(t){const i=[Mt(t,ga.PROPERTYCHANGE,this.handleLayerChange_,this),Mt(t,St.CHANGE,this.handleLayerChange_,this)];t instanceof xa&&i.push(Mt(t,cs.ADDLAYER,this.handleLayerGroupAdd_,this),Mt(t,cs.REMOVELAYER,this.handleLayerGroupRemove_,this)),this.listenerKeys_[zt(t)]=i}handleLayerGroupAdd_(t){this.dispatchEvent(new ys(cs.ADDLAYER,t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new ys(cs.REMOVELAYER,t.layer))}handleLayersAdd_(t){const i=t.element;this.registerLayerListeners_(i),this.dispatchEvent(new ys(cs.ADDLAYER,i)),this.changed()}handleLayersRemove_(t){const i=t.element,s=zt(i);this.listenerKeys_[s].forEach(Vt),delete this.listenerKeys_[s],this.dispatchEvent(new ys(cs.REMOVELAYER,i)),this.changed()}getLayers(){return this.get(zf.LAYERS)}setLayers(t){const i=this.getLayers();if(i){const s=i.getArray();for(let r=0,u=s.length;r<u;++r)this.dispatchEvent(new ys(cs.REMOVELAYER,s[r]))}this.set(zf.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(i){i.getLayersArray(t)}),t}getLayerStatesArray(t){const i=t!==void 0?t:[],s=i.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(i)});const r=this.getLayerState();let u=r.zIndex;!t&&r.zIndex===void 0&&(u=0);for(let c=s,h=i.length;c<h;c++){const d=i[c];d.opacity*=r.opacity,d.visible=d.visible&&r.visible,d.maxResolution=Math.min(d.maxResolution,r.maxResolution),d.minResolution=Math.max(d.minResolution,r.minResolution),d.minZoom=Math.max(d.minZoom,r.minZoom),d.maxZoom=Math.min(d.maxZoom,r.maxZoom),r.extent!==void 0&&(d.extent!==void 0?d.extent=$s(d.extent,r.extent):d.extent=r.extent),d.zIndex===void 0&&(d.zIndex=u)}return i}getSourceState(){return"ready"}}const wn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class tc extends Zp{constructor(t){const i=Object.assign({},t);delete i.source,super(i),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(Xt.SOURCE,this.handleSourcePropertyChange_);const s=t.source?t.source:null;this.setSource(s)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(Xt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Vt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=Mt(t,St.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let i;const s=this.getMapInternal();!t&&s&&(t=s.getView()),t instanceof ti?i={viewState:t.getState(),extent:t.calculateExtent()}:i=t,!i.layerStatesArray&&s&&(i.layerStatesArray=s.getLayerGroup().getLayerStatesArray());let r;if(i.layerStatesArray){if(r=i.layerStatesArray.find(c=>c.layer===this),!r)return!1}else r=this.getLayerState();const u=this.getExtent();return Bd(r,i.viewState)&&(!u||Qe(u,i.extent))}getAttributions(t){var u;if(!this.isVisible(t))return[];const i=(u=this.getSource())==null?void 0:u.getAttributions();if(!i)return[];const s=t instanceof ti?t.getViewStateAndExtent():t;let r=i(s);return Array.isArray(r)||(r=[r]),r}render(t,i){const s=this.getRenderer();return s.prepareFrame(t)?(this.rendered=!0,s.renderFrame(t,i)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,i){}renderDeferred(t){const i=this.getRenderer();i&&i.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(Xt.MAP,t)}getMapInternal(){return this.get(Xt.MAP)}setMap(t){this.mapPrecomposeKey_&&(Vt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Vt(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Mt(t,wn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=Mt(this,St.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){const i=t.frameState.layerStatesArray,s=this.getLayerState(!1);Gt(!i.some(r=>r.layer===s.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),i.push(s)}setSource(t){this.set(Xt.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function Bd(a,t){if(!a.visible)return!1;const i=t.resolution;if(i<a.minResolution||i>=a.maxResolution)return!1;const s=t.zoom;return s>a.minZoom&&s<=a.maxZoom}function Pp(a,t,i=0,s=a.length-1,r=uT){for(;s>i;){if(s-i>600){const d=s-i+1,m=t-i+1,_=Math.log(d),p=.5*Math.exp(2*_/3),v=.5*Math.sqrt(_*p*(d-p)/d)*(m-d/2<0?-1:1),S=Math.max(i,Math.floor(t-m*p/d+v)),x=Math.min(s,Math.floor(t+(d-m)*p/d+v));Pp(a,t,S,x,r)}const u=a[t];let c=i,h=s;for(yr(a,i,t),r(a[s],u)>0&&yr(a,i,s);c<h;){for(yr(a,c,h),c++,h--;r(a[c],u)<0;)c++;for(;r(a[h],u)>0;)h--}r(a[i],u)===0?yr(a,i,h):(h++,yr(a,h,s)),h<=t&&(i=h+1),t<=h&&(s=h-1)}}function yr(a,t,i){const s=a[t];a[t]=a[i],a[i]=s}function uT(a,t){return a<t?-1:a>t?1:0}let Kp=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let i=this.data;const s=[];if(!Su(t,i))return s;const r=this.toBBox,u=[];for(;i;){for(let c=0;c<i.children.length;c++){const h=i.children[c],d=i.leaf?r(h):h;Su(t,d)&&(i.leaf?s.push(h):Nf(t,d)?this._all(h,s):u.push(h))}i=u.pop()}return s}collides(t){let i=this.data;if(!Su(t,i))return!1;const s=[];for(;i;){for(let r=0;r<i.children.length;r++){const u=i.children[r],c=i.leaf?this.toBBox(u):u;if(Su(t,c)){if(i.leaf||Nf(t,c))return!0;s.push(u)}}i=s.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let s=0;s<t.length;s++)this.insert(t[s]);return this}let i=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=i;else if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){const s=this.data;this.data=i,i=s}this._insert(i,this.data.height-i.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=ia([]),this}remove(t,i){if(!t)return this;let s=this.data;const r=this.toBBox(t),u=[],c=[];let h,d,m;for(;s||u.length;){if(s||(s=u.pop(),d=u[u.length-1],h=c.pop(),m=!0),s.leaf){const _=cT(t,s.children,i);if(_!==-1)return s.children.splice(_,1),u.push(s),this._condense(u),this}!m&&!s.leaf&&Nf(s,r)?(u.push(s),c.push(h),h=0,d=s,s=s.children[0]):d?(h++,s=d.children[h],m=!1):s=null}return this}toBBox(t){return t}compareMinX(t,i){return t.minX-i.minX}compareMinY(t,i){return t.minY-i.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,i){const s=[];for(;t;)t.leaf?i.push(...t.children):s.push(...t.children),t=s.pop();return i}_build(t,i,s,r){const u=s-i+1;let c=this._maxEntries,h;if(u<=c)return h=ia(t.slice(i,s+1)),Ql(h,this.toBBox),h;r||(r=Math.ceil(Math.log(u)/Math.log(c)),c=Math.ceil(u/Math.pow(c,r-1))),h=ia([]),h.leaf=!1,h.height=r;const d=Math.ceil(u/c),m=d*Math.ceil(Math.sqrt(c));b0(t,i,s,m,this.compareMinX);for(let _=i;_<=s;_+=m){const p=Math.min(_+m-1,s);b0(t,_,p,d,this.compareMinY);for(let v=_;v<=p;v+=d){const S=Math.min(v+d-1,p);h.children.push(this._build(t,v,S,r-1))}}return Ql(h,this.toBBox),h}_chooseSubtree(t,i,s,r){for(;r.push(i),!(i.leaf||r.length-1===s);){let u=1/0,c=1/0,h;for(let d=0;d<i.children.length;d++){const m=i.children[d],_=If(m),p=dT(t,m)-_;p<c?(c=p,u=_<u?_:u,h=m):p===c&&_<u&&(u=_,h=m)}i=h||i.children[0]}return i}_insert(t,i,s){const r=s?t:this.toBBox(t),u=[],c=this._chooseSubtree(r,this.data,i,u);for(c.children.push(t),xr(c,r);i>=0&&u[i].children.length>this._maxEntries;)this._split(u,i),i--;this._adjustParentBBoxes(r,u,i)}_split(t,i){const s=t[i],r=s.children.length,u=this._minEntries;this._chooseSplitAxis(s,u,r);const c=this._chooseSplitIndex(s,u,r),h=ia(s.children.splice(c,s.children.length-c));h.height=s.height,h.leaf=s.leaf,Ql(s,this.toBBox),Ql(h,this.toBBox),i?t[i-1].children.push(h):this._splitRoot(s,h)}_splitRoot(t,i){this.data=ia([t,i]),this.data.height=t.height+1,this.data.leaf=!1,Ql(this.data,this.toBBox)}_chooseSplitIndex(t,i,s){let r,u=1/0,c=1/0;for(let h=i;h<=s-i;h++){const d=Sr(t,0,h,this.toBBox),m=Sr(t,h,s,this.toBBox),_=gT(d,m),p=If(d)+If(m);_<u?(u=_,r=h,c=p<c?p:c):_===u&&p<c&&(c=p,r=h)}return r||s-i}_chooseSplitAxis(t,i,s){const r=t.leaf?this.compareMinX:hT,u=t.leaf?this.compareMinY:fT,c=this._allDistMargin(t,i,s,r),h=this._allDistMargin(t,i,s,u);c<h&&t.children.sort(r)}_allDistMargin(t,i,s,r){t.children.sort(r);const u=this.toBBox,c=Sr(t,0,i,u),h=Sr(t,s-i,s,u);let d=Eu(c)+Eu(h);for(let m=i;m<s-i;m++){const _=t.children[m];xr(c,t.leaf?u(_):_),d+=Eu(c)}for(let m=s-i-1;m>=i;m--){const _=t.children[m];xr(h,t.leaf?u(_):_),d+=Eu(h)}return d}_adjustParentBBoxes(t,i,s){for(let r=s;r>=0;r--)xr(i[r],t)}_condense(t){for(let i=t.length-1,s;i>=0;i--)t[i].children.length===0?i>0?(s=t[i-1].children,s.splice(s.indexOf(t[i]),1)):this.clear():Ql(t[i],this.toBBox)}};function cT(a,t,i){if(!i)return t.indexOf(a);for(let s=0;s<t.length;s++)if(i(a,t[s]))return s;return-1}function Ql(a,t){Sr(a,0,a.children.length,t,a)}function Sr(a,t,i,s,r){r||(r=ia(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let u=t;u<i;u++){const c=a.children[u];xr(r,a.leaf?s(c):c)}return r}function xr(a,t){return a.minX=Math.min(a.minX,t.minX),a.minY=Math.min(a.minY,t.minY),a.maxX=Math.max(a.maxX,t.maxX),a.maxY=Math.max(a.maxY,t.maxY),a}function hT(a,t){return a.minX-t.minX}function fT(a,t){return a.minY-t.minY}function If(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function Eu(a){return a.maxX-a.minX+(a.maxY-a.minY)}function dT(a,t){return(Math.max(t.maxX,a.maxX)-Math.min(t.minX,a.minX))*(Math.max(t.maxY,a.maxY)-Math.min(t.minY,a.minY))}function gT(a,t){const i=Math.max(a.minX,t.minX),s=Math.max(a.minY,t.minY),r=Math.min(a.maxX,t.maxX),u=Math.min(a.maxY,t.maxY);return Math.max(0,r-i)*Math.max(0,u-s)}function Nf(a,t){return a.minX<=t.minX&&a.minY<=t.minY&&t.maxX<=a.maxX&&t.maxY<=a.maxY}function Su(a,t){return t.minX<=a.maxX&&t.minY<=a.maxY&&t.maxX>=a.minX&&t.maxY>=a.minY}function ia(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b0(a,t,i,s,r){const u=[t,i];for(;u.length;){if(i=u.pop(),t=u.pop(),i-t<=s)continue;const c=t+Math.ceil((i-t)/s/2)*s;Pp(a,c,t,i,r),u.push(t,c,c,i)}}const Hd=[NaN,NaN,NaN,0];let Gf;function mT(){return Gf||(Gf=re(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),Gf}const _T=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,yT=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,pT=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,vT=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function xu(a,t){return a.endsWith("%")?Number(a.substring(0,a.length-1))/t:Number(a)}function Mr(a){throw new Error('failed to parse "'+a+'" as color')}function qp(a){if(a.toLowerCase().startsWith("rgb")){const u=a.match(yT)||a.match(_T)||a.match(pT);if(u){const c=u[4],h=100/255;return[Qt(xu(u[1],h)+.5|0,0,255),Qt(xu(u[2],h)+.5|0,0,255),Qt(xu(u[3],h)+.5|0,0,255),c!==void 0?Qt(xu(c,100),0,1):1]}Mr(a)}if(a.startsWith("#")){if(vT.test(a)){const u=a.substring(1),c=u.length<=4?1:2,h=[0,0,0,255];for(let d=0,m=u.length;d<m;d+=c){let _=parseInt(u.substring(d,d+c),16);c===1&&(_+=_<<4),h[d/c]=_}return h[3]=h[3]/255,h}Mr(a)}const t=mT();t.fillStyle="#abcdef";let i=t.fillStyle;t.fillStyle=a,t.fillStyle===i&&(t.fillStyle="#fedcba",i=t.fillStyle,t.fillStyle=a,t.fillStyle===i&&Mr(a));const s=t.fillStyle;if(s.startsWith("#")||s.startsWith("rgba"))return qp(s);t.clearRect(0,0,1,1),t.fillRect(0,0,1,1);const r=Array.from(t.getImageData(0,0,1,1).data);return r[3]=ku(r[3]/255,3),r}function ET(a){return typeof a=="string"?a:kd(a)}const ST=1024,pr={};let Uf=0;function xT(a){if(a.length===4)return a;const t=a.slice();return t[3]=1,t}function Yf(a){return a>.0031308?Math.pow(a,1/2.4)*269.025-14.025:a*3294.6}function Xf(a){return a>.2068965?Math.pow(a,3):(a-4/29)*(108/841)}function Ff(a){return a>10.314724?Math.pow((a+14.025)/269.025,2.4):a/3294.6}function Bf(a){return a>.0088564?Math.pow(a,1/3):a/(108/841)+4/29}function A0(a){const t=Ff(a[0]),i=Ff(a[1]),s=Ff(a[2]),r=Bf(t*.222488403+i*.716873169+s*.06060791),u=500*(Bf(t*.452247074+i*.399439023+s*.148375274)-r),c=200*(r-Bf(t*.016863605+i*.117638439+s*.865350722)),h=Math.atan2(c,u)*(180/Math.PI);return[116*r-16,Math.sqrt(u*u+c*c),h<0?h+360:h,a[3]]}function TT(a){const t=(a[0]+16)/116,i=a[1],s=a[2]*Math.PI/180,r=Xf(t),u=Xf(t+i/500*Math.cos(s)),c=Xf(t-i/200*Math.sin(s)),h=Yf(u*3.021973625-r*1.617392459-c*.404875592),d=Yf(u*-.943766287+r*1.916279586+c*.027607165),m=Yf(u*.069407491-r*.22898585+c*1.159737864);return[Qt(h+.5|0,0,255),Qt(d+.5|0,0,255),Qt(m+.5|0,0,255),a[3]]}function jd(a){if(a==="none")return Hd;if(pr.hasOwnProperty(a))return pr[a];if(Uf>=ST){let i=0;for(const s in pr)(i++&3)===0&&(delete pr[s],--Uf)}const t=qp(a);t.length!==4&&Mr(a);for(const i of t)isNaN(i)&&Mr(a);return pr[a]=t,++Uf,t}function nl(a){return Array.isArray(a)?a:jd(a)}function kd(a){let t=a[0];t!=(t|0)&&(t=t+.5|0);let i=a[1];i!=(i|0)&&(i=i+.5|0);let s=a[2];s!=(s|0)&&(s=s+.5|0);const r=a[3]===void 0?1:Math.round(a[3]*1e3)/1e3;return"rgba("+t+","+i+","+s+","+r+")"}function M0(a){return a[0]>0&&a[1]>0}function CT(a,t,i){return i===void 0&&(i=[0,0]),i[0]=a[0]*t+.5|0,i[1]=a[1]*t+.5|0,i}function Je(a,t){return Array.isArray(a)?a:(t===void 0?t=[a,a]:(t[0]=a,t[1]=a),t)}let ll=0;const Ue=1<<ll++,bt=1<<ll++,Ve=1<<ll++,Bn=1<<ll++,il=1<<ll++,Tr=1<<ll++,Tu=Math.pow(2,ll)-1,Zd={[Ue]:"boolean",[bt]:"number",[Ve]:"string",[Bn]:"color",[il]:"number[]",[Tr]:"size"},RT=Object.keys(Zd).map(Number).sort(Mi);function bT(a){return a in Zd}function Cr(a){const t=[];for(const i of RT)Rr(a,i)&&t.push(Zd[i]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function Rr(a,t){return(a&t)===t}function hs(a,t){return a===t}class ue{constructor(t,i){if(!bT(t))throw new Error(`literal expressions must have a specific type, got ${Cr(t)}`);this.type=t,this.value=i}}class AT{constructor(t,i,...s){this.type=t,this.operator=i,this.args=s}}function Vp(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Re(a,t,i){switch(typeof a){case"boolean":{if(hs(t,Ve))return new ue(Ve,a?"true":"false");if(!Rr(t,Ue))throw new Error(`got a boolean, but expected ${Cr(t)}`);return new ue(Ue,a)}case"number":{if(hs(t,Tr))return new ue(Tr,Je(a));if(hs(t,Ue))return new ue(Ue,!!a);if(hs(t,Ve))return new ue(Ve,a.toString());if(!Rr(t,bt))throw new Error(`got a number, but expected ${Cr(t)}`);return new ue(bt,a)}case"string":{if(hs(t,Bn))return new ue(Bn,jd(a));if(hs(t,Ue))return new ue(Ue,!!a);if(!Rr(t,Ve))throw new Error(`got a string, but expected ${Cr(t)}`);return new ue(Ve,a)}}if(!Array.isArray(a))throw new Error("expression must be an array or a primitive value");if(a.length===0)throw new Error("empty expression");if(typeof a[0]=="string")return YT(a,t,i);for(const s of a)if(typeof s!="number")throw new Error("expected an array of numbers");if(hs(t,Tr)){if(a.length!==2)throw new Error(`expected an array of two values for a size, got ${a.length}`);return new ue(Tr,a)}if(hs(t,Bn)){if(a.length===3)return new ue(Bn,[...a,1]);if(a.length===4)return new ue(Bn,a);throw new Error(`expected an array of 3 or 4 values for a color, got ${a.length}`)}if(!Rr(t,il))throw new Error(`got an array of numbers, but expected ${Cr(t)}`);return new ue(il,a)}const Z={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},MT={[Z.Get]:mt(Et(1,1/0),w0),[Z.Var]:mt(Et(1,1),wT),[Z.Has]:mt(Et(1,1/0),w0),[Z.Id]:mt(OT,Jl),[Z.Concat]:mt(Et(2,1/0),Nt(Ve)),[Z.GeometryType]:mt(DT,Jl),[Z.LineMetric]:mt(Jl),[Z.Resolution]:mt(Hf,Jl),[Z.Zoom]:mt(Hf,Jl),[Z.Time]:mt(Hf,Jl),[Z.Any]:mt(Et(2,1/0),Nt(Ue)),[Z.All]:mt(Et(2,1/0),Nt(Ue)),[Z.Not]:mt(Et(1,1),Nt(Ue)),[Z.Equal]:mt(Et(2,2),Nt(Tu)),[Z.NotEqual]:mt(Et(2,2),Nt(Tu)),[Z.GreaterThan]:mt(Et(2,2),Nt(bt)),[Z.GreaterThanOrEqualTo]:mt(Et(2,2),Nt(bt)),[Z.LessThan]:mt(Et(2,2),Nt(bt)),[Z.LessThanOrEqualTo]:mt(Et(2,2),Nt(bt)),[Z.Multiply]:mt(Et(2,1/0),O0),[Z.Coalesce]:mt(Et(2,1/0),O0),[Z.Divide]:mt(Et(2,2),Nt(bt)),[Z.Add]:mt(Et(2,1/0),Nt(bt)),[Z.Subtract]:mt(Et(2,2),Nt(bt)),[Z.Clamp]:mt(Et(3,3),Nt(bt)),[Z.Mod]:mt(Et(2,2),Nt(bt)),[Z.Pow]:mt(Et(2,2),Nt(bt)),[Z.Abs]:mt(Et(1,1),Nt(bt)),[Z.Floor]:mt(Et(1,1),Nt(bt)),[Z.Ceil]:mt(Et(1,1),Nt(bt)),[Z.Round]:mt(Et(1,1),Nt(bt)),[Z.Sin]:mt(Et(1,1),Nt(bt)),[Z.Cos]:mt(Et(1,1),Nt(bt)),[Z.Atan]:mt(Et(1,2),Nt(bt)),[Z.Sqrt]:mt(Et(1,1),Nt(bt)),[Z.Match]:mt(Et(4,1/0),D0,zT),[Z.Between]:mt(Et(3,3),Nt(bt)),[Z.Interpolate]:mt(Et(6,1/0),D0,IT),[Z.Case]:mt(Et(3,1/0),LT,NT),[Z.In]:mt(Et(2,2),GT),[Z.Number]:mt(Et(1,1/0),Nt(Tu)),[Z.String]:mt(Et(1,1/0),Nt(Tu)),[Z.Array]:mt(Et(1,1/0),Nt(bt)),[Z.Color]:mt(Et(1,4),Nt(bt)),[Z.Band]:mt(Et(1,3),Nt(bt)),[Z.Palette]:mt(Et(2,2),UT),[Z.ToString]:mt(Et(1,1),Nt(Ue|bt|Ve|Bn))};function w0(a,t,i){const s=a.length-1,r=new Array(s);for(let u=0;u<s;++u){const c=a[u+1];switch(typeof c){case"number":{r[u]=new ue(bt,c);break}case"string":{r[u]=new ue(Ve,c);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${c}`)}u===0&&i.properties.add(String(c))}return r}function wT(a,t,i){const s=a[1];if(typeof s!="string")throw new Error("expected a string argument for var operation");return i.variables.add(s),[new ue(Ve,s)]}function OT(a,t,i){i.featureId=!0}function DT(a,t,i){i.geometryType=!0}function Hf(a,t,i){i.mapState=!0}function Jl(a,t,i){const s=a[0];if(a.length!==1)throw new Error(`expected no arguments for ${s} operation`);return[]}function Et(a,t){return function(i,s,r){const u=i[0],c=i.length-1;if(a===t){if(c!==a){const h=a===1?"":"s";throw new Error(`expected ${a} argument${h} for ${u}, got ${c}`)}}else if(c<a||c>t){const h=t===1/0?`${a} or more`:`${a} to ${t}`;throw new Error(`expected ${h} arguments for ${u}, got ${c}`)}}}function O0(a,t,i){const s=a.length-1,r=new Array(s);for(let u=0;u<s;++u){const c=Re(a[u+1],t,i);r[u]=c}return r}function Nt(a){return function(t,i,s){const r=t.length-1,u=new Array(r);for(let c=0;c<r;++c){const h=Re(t[c+1],a,s);u[c]=h}return u}}function LT(a,t,i){const s=a[0],r=a.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${s}, got ${r} instead`)}function D0(a,t,i){const s=a[0],r=a.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${s}, got ${r} instead`)}function zT(a,t,i){const s=a.length-1,r=Ve|bt|Ue,u=Re(a[1],r,i),c=Re(a[a.length-1],t,i),h=new Array(s-2);for(let d=0;d<s-2;d+=2){try{const m=Re(a[d+2],u.type,i);h[d]=m}catch(m){throw new Error(`failed to parse argument ${d+1} of match expression: ${m.message}`)}try{const m=Re(a[d+3],c.type,i);h[d+1]=m}catch(m){throw new Error(`failed to parse argument ${d+2} of match expression: ${m.message}`)}}return[u,...h,c]}function IT(a,t,i){const s=a[1];let r;switch(s[0]){case"linear":r=1;break;case"exponential":const d=s[1];if(typeof d!="number"||d<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(d)} instead`);r=d;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(s)}`)}const u=new ue(bt,r);let c;try{c=Re(a[2],bt,i)}catch(d){throw new Error(`failed to parse argument 1 in interpolate expression: ${d.message}`)}const h=new Array(a.length-3);for(let d=0;d<h.length;d+=2){try{const m=Re(a[d+3],bt,i);h[d]=m}catch(m){throw new Error(`failed to parse argument ${d+2} for interpolate expression: ${m.message}`)}try{const m=Re(a[d+4],t,i);h[d+1]=m}catch(m){throw new Error(`failed to parse argument ${d+3} for interpolate expression: ${m.message}`)}}return[u,c,...h]}function NT(a,t,i){const s=Re(a[a.length-1],t,i),r=new Array(a.length-1);for(let u=0;u<r.length-1;u+=2){try{const c=Re(a[u+1],Ue,i);r[u]=c}catch(c){throw new Error(`failed to parse argument ${u} of case expression: ${c.message}`)}try{const c=Re(a[u+2],s.type,i);r[u+1]=c}catch(c){throw new Error(`failed to parse argument ${u+1} of case expression: ${c.message}`)}}return r[r.length-1]=s,r}function GT(a,t,i){let s=a[2];if(!Array.isArray(s))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof s[0]=="string"){if(s[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(s[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');s=s[1],r=Ve}else r=bt;const u=new Array(s.length);for(let h=0;h<u.length;h++)try{const d=Re(s[h],r,i);u[h]=d}catch(d){throw new Error(`failed to parse haystack item ${h} for "in" expression: ${d.message}`)}return[Re(a[1],r,i),...u]}function UT(a,t,i){let s;try{s=Re(a[1],bt,i)}catch(c){throw new Error(`failed to parse first argument in palette expression: ${c.message}`)}const r=a[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const u=new Array(r.length);for(let c=0;c<u.length;c++){let h;try{h=Re(r[c],Bn,i)}catch(d){throw new Error(`failed to parse color at index ${c} in palette expression: ${d.message}`)}if(!(h instanceof ue))throw new Error(`the palette color at index ${c} must be a literal value`);u[c]=h}return[s,...u]}function mt(...a){return function(t,i,s){const r=t[0];let u;for(let c=0;c<a.length;c++){const h=a[c](t,i,s);if(c==a.length-1){if(!h)throw new Error("expected last argument validator to return the parsed args");u=h}}return new AT(i,r,...u)}}function YT(a,t,i){const s=a[0],r=MT[s];if(!r)throw new Error(`unknown operator: ${s}`);return r(a,t,i)}function Wp(a){if(!a)return"";const t=a.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return Wp(a.getGeometries()[0]);default:return""}}function Qp(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function ii(a,t,i){const s=Re(a,t,i);return jn(s)}function jn(a,t){if(a instanceof ue){if(a.type===Bn&&typeof a.value=="string"){const s=jd(a.value);return function(){return s}}return function(){return a.value}}const i=a.operator;switch(i){case Z.Number:case Z.String:case Z.Coalesce:return XT(a);case Z.Get:case Z.Var:case Z.Has:return FT(a);case Z.Id:return s=>s.featureId;case Z.GeometryType:return s=>s.geometryType;case Z.Concat:{const s=a.args.map(r=>jn(r));return r=>"".concat(...s.map(u=>u(r).toString()))}case Z.Resolution:return s=>s.resolution;case Z.Any:case Z.All:case Z.Between:case Z.In:case Z.Not:return HT(a);case Z.Equal:case Z.NotEqual:case Z.LessThan:case Z.LessThanOrEqualTo:case Z.GreaterThan:case Z.GreaterThanOrEqualTo:return BT(a);case Z.Multiply:case Z.Divide:case Z.Add:case Z.Subtract:case Z.Clamp:case Z.Mod:case Z.Pow:case Z.Abs:case Z.Floor:case Z.Ceil:case Z.Round:case Z.Sin:case Z.Cos:case Z.Atan:case Z.Sqrt:return jT(a);case Z.Case:return kT(a);case Z.Match:return ZT(a);case Z.Interpolate:return PT(a);case Z.ToString:return KT(a);default:throw new Error(`Unsupported operator ${i}`)}}function XT(a,t){const i=a.operator,s=a.args.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=jn(a.args[u]);switch(i){case Z.Coalesce:return u=>{for(let c=0;c<s;++c){const h=r[c](u);if(typeof h<"u"&&h!==null)return h}throw new Error("Expected one of the values to be non-null")};case Z.Number:case Z.String:return u=>{for(let c=0;c<s;++c){const h=r[c](u);if(typeof h===i)return h}throw new Error(`Expected one of the values to be a ${i}`)};default:throw new Error(`Unsupported assertion operator ${i}`)}}function FT(a,t){const s=a.args[0].value;switch(a.operator){case Z.Get:return r=>{const u=a.args;let c=r.properties[s];for(let h=1,d=u.length;h<d;++h){const _=u[h].value;c=c[_]}return c};case Z.Var:return r=>r.variables[s];case Z.Has:return r=>{const u=a.args;if(!(s in r.properties))return!1;let c=r.properties[s];for(let h=1,d=u.length;h<d;++h){const _=u[h].value;if(!c||!Object.hasOwn(c,_))return!1;c=c[_]}return!0};default:throw new Error(`Unsupported accessor operator ${a.operator}`)}}function BT(a,t){const i=a.operator,s=jn(a.args[0]),r=jn(a.args[1]);switch(i){case Z.Equal:return u=>s(u)===r(u);case Z.NotEqual:return u=>s(u)!==r(u);case Z.LessThan:return u=>s(u)<r(u);case Z.LessThanOrEqualTo:return u=>s(u)<=r(u);case Z.GreaterThan:return u=>s(u)>r(u);case Z.GreaterThanOrEqualTo:return u=>s(u)>=r(u);default:throw new Error(`Unsupported comparison operator ${i}`)}}function HT(a,t){const i=a.operator,s=a.args.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=jn(a.args[u]);switch(i){case Z.Any:return u=>{for(let c=0;c<s;++c)if(r[c](u))return!0;return!1};case Z.All:return u=>{for(let c=0;c<s;++c)if(!r[c](u))return!1;return!0};case Z.Between:return u=>{const c=r[0](u),h=r[1](u),d=r[2](u);return c>=h&&c<=d};case Z.In:return u=>{const c=r[0](u);for(let h=1;h<s;++h)if(c===r[h](u))return!0;return!1};case Z.Not:return u=>!r[0](u);default:throw new Error(`Unsupported logical operator ${i}`)}}function jT(a,t){const i=a.operator,s=a.args.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=jn(a.args[u]);switch(i){case Z.Multiply:return u=>{let c=1;for(let h=0;h<s;++h)c*=r[h](u);return c};case Z.Divide:return u=>r[0](u)/r[1](u);case Z.Add:return u=>{let c=0;for(let h=0;h<s;++h)c+=r[h](u);return c};case Z.Subtract:return u=>r[0](u)-r[1](u);case Z.Clamp:return u=>{const c=r[0](u),h=r[1](u);if(c<h)return h;const d=r[2](u);return c>d?d:c};case Z.Mod:return u=>r[0](u)%r[1](u);case Z.Pow:return u=>Math.pow(r[0](u),r[1](u));case Z.Abs:return u=>Math.abs(r[0](u));case Z.Floor:return u=>Math.floor(r[0](u));case Z.Ceil:return u=>Math.ceil(r[0](u));case Z.Round:return u=>Math.round(r[0](u));case Z.Sin:return u=>Math.sin(r[0](u));case Z.Cos:return u=>Math.cos(r[0](u));case Z.Atan:return s===2?u=>Math.atan2(r[0](u),r[1](u)):u=>Math.atan(r[0](u));case Z.Sqrt:return u=>Math.sqrt(r[0](u));default:throw new Error(`Unsupported numeric operator ${i}`)}}function kT(a,t){const i=a.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=jn(a.args[r]);return r=>{for(let u=0;u<i-1;u+=2)if(s[u](r))return s[u+1](r);return s[i-1](r)}}function ZT(a,t){const i=a.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=jn(a.args[r]);return r=>{const u=s[0](r);for(let c=1;c<i-1;c+=2)if(u===s[c](r))return s[c+1](r);return s[i-1](r)}}function PT(a,t){const i=a.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=jn(a.args[r]);return r=>{const u=s[0](r),c=s[1](r);let h,d;for(let m=2;m<i;m+=2){const _=s[m](r);let p=s[m+1](r);const v=Array.isArray(p);if(v&&(p=xT(p)),_>=c)return m===2?p:v?qT(u,c,h,d,_,p):br(u,c,h,d,_,p);h=_,d=p}return d}}function KT(a,t){const i=a.operator,s=a.args.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=jn(a.args[u]);switch(i){case Z.ToString:return u=>{const c=r[0](u);return a.args[0].type===Bn?kd(c):c.toString()};default:throw new Error(`Unsupported convert operator ${i}`)}}function br(a,t,i,s,r,u){const c=r-i;if(c===0)return s;const h=t-i,d=a===1?h/c:(Math.pow(a,h)-1)/(Math.pow(a,c)-1);return s+d*(u-s)}function qT(a,t,i,s,r,u){if(r-i===0)return s;const h=A0(s),d=A0(u);let m=d[2]-h[2];m>180?m-=360:m<-180&&(m+=360);const _=[br(a,t,i,h[0],r,d[0]),br(a,t,i,h[1],r,d[1]),h[2]+br(a,t,i,0,r,m),br(a,t,i,s[3],r,u[3])];return TT(_)}const pt={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function VT(a,t,i){const s=a;let r=!0,u=!1,c=!1;const h=[wu(s,St.LOAD,function(){c=!0,u||t()})];return s.src&&op?(u=!0,s.decode().then(function(){r&&t()}).catch(function(d){r&&(c?t():i())})):h.push(wu(s,St.ERROR,i)),function(){r=!1,h.forEach(Vt)}}function WT(a,t){return new Promise((i,s)=>{function r(){c(),i(a)}function u(){c(),s(new Error("Image load error"))}function c(){a.removeEventListener("load",r),a.removeEventListener("error",u)}a.addEventListener("load",r),a.addEventListener("error",u)})}function QT(a,t){return t&&(a.src=t),a.src&&op?new Promise((i,s)=>a.decode().then(()=>i(a)).catch(r=>a.complete&&a.width?i(a):s(r))):WT(a)}class JT{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const i in this.cache_){const s=this.cache_[i];(t++&3)===0&&!s.hasListener()&&(delete this.cache_[i],delete this.patternCache_[i],--this.cacheSize_)}}}get(t,i){const s=jf(t,i);return s in this.cache_?this.cache_[s]:null}getPattern(t,i){const s=jf(t,i);return s in this.patternCache_?this.patternCache_[s]:null}set(t,i,s,r){const u=jf(t,i),c=u in this.cache_;this.cache_[u]=s,r&&(s.getImageState()===pt.IDLE&&s.load(),s.getImageState()===pt.LOADING?s.ready().then(()=>{this.patternCache_[u]=Gu().createPattern(s.getImage(1),"repeat")}):this.patternCache_[u]=Gu().createPattern(s.getImage(1),"repeat")),c||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function jf(a,t){const i=t?nl(t):"null";return a+":"+i}const On=new JT;let vr=null;class Jp extends ju{constructor(t,i,s,r,u){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=s==null?void 0:s.crossOrigin,this.referrerPolicy_=s==null?void 0:s.referrerPolicy,this.canvas_={},this.color_=u,this.imageState_=r===void 0?pt.IDLE:r,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=i,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_),this.referrerPolicy_!==void 0&&(this.image_.referrerPolicy=this.referrerPolicy_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===pt.LOADED){vr||(vr=re(1,1,void 0,{willReadFrequently:!0})),vr.drawImage(this.image_,0,0);try{vr.getImageData(0,0,1,1),this.tainted_=!1}catch{vr=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(St.CHANGE)}handleImageError_(){this.imageState_=pt.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=pt.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}setImage(t){this.image_=t}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],i=this.size_[1],s=re(t,i);s.fillRect(0,0,t,i),this.hitDetectionImage_=s.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===pt.IDLE){this.image_||this.initializeImage_(),this.imageState_=pt.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&QT(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==pt.LOADED)return;const i=this.image_,s=re(Math.ceil(i.width*t),Math.ceil(i.height*t)),r=s.canvas;s.scale(t,t),s.drawImage(i,0,0),s.globalCompositeOperation="multiply",s.fillStyle=ET(this.color_),s.fillRect(0,0,r.width/t,r.height/t),s.globalCompositeOperation="destination-in",s.drawImage(i,0,0),this.canvas_[t]=r}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===pt.LOADED||this.imageState_===pt.ERROR)t();else{const i=()=>{(this.imageState_===pt.LOADED||this.imageState_===pt.ERROR)&&(this.removeEventListener(St.CHANGE,i),t())};this.addEventListener(St.CHANGE,i)}})),this.ready_}}function wr(a,t,i,s,r,u){let c=t===void 0?void 0:On.get(t,r);return c||(c=new Jp(a,a&&"src"in a?a.src||void 0:t,i,s,r),On.set(t,r,c,u)),u&&c&&!On.getPattern(t,r)&&On.set(t,r,c,u),c}function ni(a){return a?Array.isArray(a)?kd(a):typeof a=="object"&&"src"in a?$T(a):a:null}function $T(a){if(!a.offset||!a.size)return On.getPattern(a.src,a.color);const t=a.src+":"+a.offset,i=On.getPattern(t,a.color);if(i)return i;const s=On.get(a.src,null);if(s.getImageState()!==pt.LOADED)return null;const r=re(a.size[0],a.size[1]);return r.drawImage(s.getImage(1),a.offset[0],a.offset[1],a.size[0],a.size[1],0,0,a.size[0],a.size[1]),wr(r.canvas,t,void 0,pt.LOADED,a.color,!0),On.getPattern(t,a.color)}const $p="10px sans-serif",We="#000",pa="round",wi=[],Oi=0,va="round",Gr=10,tC=0,Ur="#000",Yr="center",Uu="middle",Qs=[0,0,0,0],Xr=1,sa=new kn;let Er=null,L0;const hd={},eC=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function nC(a,t,i){return`${a} ${t} 16px "${i}"`}const iC=(function(){let t,i;async function s(u){await i.ready;const c=await i.load(u);if(c.length===0)return!1;const h=ud(u),d=h.families[0].toLowerCase(),m=h.weight;return c.some(_=>{const p=_.family.replace(/^['"]|['"]$/g,"").toLowerCase(),v=od[_.weight]||_.weight;return p===d&&_.style===h.style&&v==m})}async function r(){await i.ready;let u=!0;const c=sa.getProperties(),h=Object.keys(c).filter(d=>c[d]<100);for(let d=h.length-1;d>=0;--d){const m=h[d];let _=c[m];_<100&&(await s(m)?(Hr(hd),sa.set(m,100)):(_+=10,sa.set(m,_,!0),_<100&&(u=!1)))}t=void 0,u||(t=setTimeout(r,100))}return async function(u){i||(i=Mn?self.fonts:document.fonts);const c=ud(u);if(!c)return;const h=c.families;let d=!1;for(const m of h){if(eC.has(m))continue;const _=nC(c.style,c.weight,m);sa.get(_)===void 0&&(sa.set(_,0,!0),d=!0)}d&&(clearTimeout(t),t=setTimeout(r,100))}})(),sC=(function(){let a;return function(t){let i=hd[t];if(i==null){if(Mn){const s=ud(t),r=tv(t,"g");i=(isNaN(Number(s.lineHeight))?1.2:Number(s.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else a||(a=document.createElement("div"),a.innerHTML="M",a.style.minHeight="0",a.style.maxHeight="none",a.style.height="auto",a.style.padding="0",a.style.border="none",a.style.position="absolute",a.style.display="block",a.style.left="-99999px"),a.style.font=t,document.body.appendChild(a),i=a.offsetHeight,document.body.removeChild(a);hd[t]=i}return i}})();function tv(a,t){return Er||(Er=re(1,1)),a!=L0&&(Er.font=a,L0=Er.font),Er.measureText(t)}function ev(a,t){return tv(a,t).width}function z0(a,t,i){if(t in i)return i[t];const s=t.split(`
`).reduce((r,u)=>Math.max(r,ev(a,u)),0);return i[t]=s,s}function lC(a,t){const i=[],s=[],r=[];let u=0,c=0,h=0,d=0;for(let m=0,_=t.length;m<=_;m+=2){const p=t[m];if(p===`
`||m===_){u=Math.max(u,c),r.push(c),c=0,h+=d,d=0;continue}const v=t[m+1]||a.font,S=ev(v,p);i.push(S),c+=S;const x=sC(v);s.push(x),d=Math.max(d,x)}return{width:u,height:h,widths:i,heights:s,lineWidths:r}}function aC(a,t,i,s,r,u,c,h,d,m,_){a.save(),i!==1&&(a.globalAlpha===void 0?a.globalAlpha=p=>p.globalAlpha*=i:a.globalAlpha*=i),t&&a.transform.apply(a,t),s.contextInstructions?(a.translate(d,m),a.scale(_[0],_[1]),rC(s,a)):_[0]<0||_[1]<0?(a.translate(d,m),a.scale(_[0],_[1]),a.drawImage(s,r,u,c,h,0,0,c,h)):a.drawImage(s,r,u,c,h,d,m,c*_[0],h*_[1]),a.restore()}function rC(a,t){const i=a.contextInstructions;for(let s=0,r=i.length;s<r;s+=2)Array.isArray(i[s+1])?t[i[s]].apply(t,i[s+1]):t[i[s]]=i[s+1]}class ec{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Je(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new ec({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Lt()}getImage(t){return Lt()}getHitDetectionImage(){return Lt()}getPixelRatio(t){return 1}getImageState(){return Lt()}getImageSize(){return Lt()}getOrigin(){return Lt()}getSize(){return Lt()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Je(t)}listenImageChange(t){Lt()}load(){Lt()}unlistenImageChange(t){Lt()}ready(){return Promise.resolve()}}class nc extends ec{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?pt.LOADING:pt.LOADED,this.imageState_===pt.LOADING&&this.ready().then(()=>this.imageState_=pt.LOADED),this.render()}clone(){const t=this.getScale(),i=new nc({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return i.setOpacity(this.getOpacity()),i}getAnchor(){const t=this.size_,i=this.getDisplacement(),s=this.getScaleArray();return[t[0]/2-i[0]/s[0],t[1]/2+i[1]/s[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){var u,c;const i=(u=this.fill_)==null?void 0:u.getKey(),s=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${i}`+Object.values(this.renderOptions_).join(",");let r=(c=On.get(s,null))==null?void 0:c.getImage(1);if(!r){const h=this.renderOptions_,d=Math.ceil(h.size*t),m=re(d,d);this.draw_(h,m,t),r=m.canvas;const _=new Jp(r,void 0,null,pt.LOADED,null);On.set(s,null,_),createImageBitmap(r).then(p=>{_.setImage(p)})}return r}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}setRadius(t){this.radius!==t&&(this.radius=t,this.render())}getRadius2(){return this.radius2_}setRadius2(t){this.radius2_!==t&&(this.radius2_=t,this.render())}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,i,s){if(i===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return i;let r=this.radius,u=this.radius2_===void 0?r:this.radius2_;if(r<u){const K=r;r=u,u=K}const c=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/c,d=u*Math.sin(h),m=Math.sqrt(u*u-d*d),_=r-m,p=Math.sqrt(d*d+_*_),v=p/d;if(t==="miter"&&v<=s)return v*i;const S=i/2/v,x=i/2*(_/p),R=Math.sqrt((r+S)*(r+S)+x*x)-r;if(this.radius2_===void 0||t==="bevel")return R*2;const T=r*Math.sin(h),w=Math.sqrt(r*r-T*T),D=u-w,z=Math.sqrt(T*T+D*D)/T;if(z<=s){const K=z*i/2-u-r;return 2*Math.max(R,K)}return R*2}createRenderOptions(){let t=pa,i=va,s=0,r=null,u=0,c,h=0;this.stroke_&&(c=ni(this.stroke_.getColor()??Ur),h=this.stroke_.getWidth()??Xr,r=this.stroke_.getLineDash(),u=this.stroke_.getLineDashOffset()??0,i=this.stroke_.getLineJoin()??va,t=this.stroke_.getLineCap()??pa,s=this.stroke_.getMiterLimit()??Gr);const d=this.calculateLineJoinSize_(i,h,s),m=Math.max(this.radius,this.radius2_||0),_=Math.ceil(2*m+d);return{strokeStyle:c,strokeWidth:h,size:_,lineCap:t,lineDash:r,lineDashOffset:u,lineJoin:i,miterLimit:s}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,i,s){if(i.scale(s,s),i.translate(t.size/2,t.size/2),this.createPath_(i),this.fill_){let r=this.fill_.getColor();r===null&&(r=We),i.fillStyle=ni(r),i.fill()}t.strokeStyle&&(i.strokeStyle=t.strokeStyle,i.lineWidth=t.strokeWidth,t.lineDash&&(i.setLineDash(t.lineDash),i.lineDashOffset=t.lineDashOffset),i.lineCap=t.lineCap,i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit,i.stroke())}createHitDetectionCanvas_(t){let i;if(this.fill_){let s=this.fill_.getColor(),r=0;typeof s=="string"&&(s=nl(s)),s===null?r=1:Array.isArray(s)&&(r=s.length===4?s[3]:1),r===0&&(i=re(t.size,t.size),this.drawHitDetectionCanvas_(t,i))}return i?i.canvas:this.getImage(1)}createPath_(t){let i=this.points_;const s=this.radius;if(i===1/0)t.arc(0,0,s,0,2*Math.PI);else{const r=this.radius2_===void 0?s:this.radius2_;this.radius2_!==void 0&&(i*=2);const u=this.angle_-Math.PI/2,c=2*Math.PI/i;for(let h=0;h<i;h++){const d=u+h*c,m=h%2===0?s:r;t.lineTo(m*Math.cos(d),m*Math.sin(d))}t.closePath()}}drawHitDetectionCanvas_(t,i){i.translate(t.size/2,t.size/2),this.createPath_(i),i.fillStyle=We,i.fill(),t.strokeStyle&&(i.strokeStyle=t.strokeStyle,i.lineWidth=t.strokeWidth,t.lineDash&&(i.setLineDash(t.lineDash),i.lineDashOffset=t.lineDashOffset),i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit,i.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class ic extends nc{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),i=new ic({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return i.setOpacity(this.getOpacity()),i}}class Ea{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new Ea({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const i=wr(null,t.src,{crossOrigin:"anonymous"},void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));i.ready().then(()=>{this.patternImage_=null}),i.getImageState()===pt.IDLE&&i.load(),i.getImageState()===pt.LOADING&&(this.patternImage_=i)}this.color_=t}getKey(){const t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?zt(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:nl(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function I0(a,t,i,s){return i!==void 0&&s!==void 0?[i/a,s/t]:i!==void 0?i/a:s!==void 0?s/t:1}class qr extends ec{constructor(t){t=t||{};const i=t.opacity!==void 0?t.opacity:1,s=t.rotation!==void 0?t.rotation:0,r=t.scale!==void 0?t.scale:1,u=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:i,rotation:s,scale:r,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:u,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null,this.referrerPolicy_=t.referrerPolicy;const c=t.img!==void 0?t.img:null;let h=t.src;Gt(!(h!==void 0&&c),"`image` and `src` cannot be provided at the same time"),(h===void 0||h.length===0)&&c&&(h=c.src||zt(c)),Gt(h!==void 0&&h.length>0,"A defined and non-empty `src` or `image` must be provided"),Gt(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let d;if(t.src!==void 0?d=pt.IDLE:c!==void 0&&("complete"in c?c.complete?d=c.src?pt.LOADED:pt.IDLE:d=pt.LOADING:d=pt.LOADED),this.color_=t.color!==void 0?nl(t.color):null,this.iconImage_=wr(c,h,{crossOrigin:this.crossOrigin_,referrerPolicy:this.referrerPolicy_},d,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.initialOptions_,t.width!==void 0||t.height!==void 0){let m,_;if(t.size)[m,_]=t.size;else{const p=this.getImage(1);if(p.width&&p.height)m=p.width,_=p.height;else if(p instanceof HTMLImageElement){this.initialOptions_=t;const v=()=>{if(this.unlistenImageChange(v),!this.initialOptions_)return;const S=this.iconImage_.getSize();this.setScale(I0(S[0],S[1],t.width,t.height))};this.listenImageChange(v);return}}m!==void 0&&this.setScale(I0(m,_,t.width,t.height))}}clone(){let t,i,s;return this.initialOptions_?(i=this.initialOptions_.width,s=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new qr({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,referrerPolicy:this.referrerPolicy_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:i,height:s,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=r[0]),this.anchorYUnits_=="fraction"&&(t[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}const i=this.getDisplacement(),s=this.getScaleArray();return[t[0]-i[0]/s[0],t[1]+i[1]/s[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}setColor(t){const i=t?nl(t):null;if(this.color_===i||this.color_&&i&&this.color_.length===i.length&&this.color_.every((c,h)=>c===i[h]))return;this.color_=i;const s=this.getSrc(),r=s!==void 0?null:this.getHitDetectionImage(),u=s!==void 0?pt.IDLE:this.iconImage_.getImageState();this.iconImage_=wr(r,s,{crossOrigin:this.crossOrigin_,referrerPolicy:this.referrerPolicy_},u,this.color_)}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const i=this.getSize(),s=this.iconImage_.getSize();if(!i||!s)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=s[0]-i[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=s[1]-i[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}setSrc(t){this.iconImage_=wr(null,t,{crossOrigin:this.crossOrigin_,referrerPolicy:this.referrerPolicy_},pt.IDLE,this.color_)}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==pt.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==pt.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(St.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(St.CHANGE,t)}ready(){return this.iconImage_.ready()}}class sc{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.offset_=t.offset,this.width_=t.width}clone(){const t=this.getColor();return new sc({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),offset:this.getOffset(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getOffset(){return this.offset_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setOffset(t){this.offset_=t}setWidth(t){this.width_=t}}class Ts{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=N0,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new Ts({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(i){return i.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=N0,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function oC(a){let t;if(typeof a=="function")t=a;else{let i;Array.isArray(a)?i=a:(Gt(typeof a.getZIndex=="function","Expected an `Style` or an array of `Style`"),i=[a]),t=function(){return i}}return t}let kf=null;function nv(a,t){if(!kf){const i=new Ea({color:"rgba(255,255,255,0.4)"}),s=new sc({color:"#3399CC",width:1.25});kf=[new Ts({image:new ic({fill:i,stroke:s,radius:5}),fill:i,stroke:s})]}return kf}function N0(a){return a.getGeometry()}const uC="#333";class Pd{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=Je(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Ea({color:uC}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Pd({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()instanceof Ea?this.getFill().clone():this.getFill(),stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Je(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}function cC(a){return!0}function hC(a){const t=Vp(),i=fC(a,t),s=Qp();return function(r,u){if(s.properties=r.getPropertiesInternal(),s.resolution=u,t.featureId){const c=r.getId();c!==void 0?s.featureId=c:s.featureId=null}return t.geometryType&&(s.geometryType=Wp(r.getGeometry())),i(s)}}function G0(a){const t=Vp(),i=a.length,s=new Array(i);for(let c=0;c<i;++c)s[c]=fd(a[c],t);const r=Qp(),u=new Array(i);return function(c,h){if(r.properties=c.getPropertiesInternal(),r.resolution=h,t.featureId){const m=c.getId();m!==void 0?r.featureId=m:r.featureId=null}let d=0;for(let m=0;m<i;++m){const _=s[m](r);_&&(u[d]=_,d+=1)}return u.length=d,u}}function fC(a,t){const i=a.length,s=new Array(i);for(let r=0;r<i;++r){const u=a[r],c="filter"in u?ii(u.filter,Ue,t):cC;let h;if(Array.isArray(u.style)){const d=u.style.length;h=new Array(d);for(let m=0;m<d;++m)h[m]=fd(u.style[m],t)}else h=[fd(u.style,t)];s[r]={filter:c,styles:h}}return function(r){const u=[];let c=!1;for(let h=0;h<i;++h){const d=s[h].filter;if(d(r)&&!(a[h].else&&c)){c=!0;for(const m of s[h].styles){const _=m(r);_&&u.push(_)}}}return u}}function fd(a,t){const i=Fr(a,"",t),s=Br(a,"",t),r=dC(a,t),u=gC(a,t),c=Ce(a,"z-index",t);if(!i&&!s&&!r&&!u&&!ma(a))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(a));const h=new Ts;return function(d){let m=!0;if(i){const _=i(d);_&&(m=!1),h.setFill(_)}if(s){const _=s(d);_&&(m=!1),h.setStroke(_)}if(r){const _=r(d);_&&(m=!1),h.setText(_)}if(u){const _=u(d);_&&(m=!1),h.setImage(_)}return c&&h.setZIndex(c(d)),m?null:h}}function Fr(a,t,i){let s;if(t+"fill-pattern-src"in a)s=pC(a,t+"fill-",i);else{if(a[t+"fill-color"]==="none")return u=>null;s=lc(a,t+"fill-color",i)}if(!s)return null;const r=new Ea;return function(u){const c=s(u);return c===Hd?null:(r.setColor(c),r)}}function Br(a,t,i){const s=Ce(a,t+"stroke-width",i),r=lc(a,t+"stroke-color",i);if(!s&&!r)return null;const u=Ai(a,t+"stroke-line-cap",i),c=Ai(a,t+"stroke-line-join",i),h=iv(a,t+"stroke-line-dash",i),d=Ce(a,t+"stroke-line-dash-offset",i),m=Ce(a,t+"stroke-miter-limit",i),_=Ce(a,t+"stroke-offset",i),p=new sc;return function(v){if(r){const S=r(v);if(S===Hd)return null;p.setColor(S)}if(s&&p.setWidth(s(v)),u){const S=u(v);if(S!=="butt"&&S!=="round"&&S!=="square")throw new Error("Expected butt, round, or square line cap");p.setLineCap(S)}if(c){const S=c(v);if(S!=="bevel"&&S!=="round"&&S!=="miter")throw new Error("Expected bevel, round, or miter line join");p.setLineJoin(S)}return h&&p.setLineDash(h(v)),d&&p.setLineDashOffset(d(v)),m&&p.setMiterLimit(m(v)),_&&p.setOffset(_(v)),p}}function dC(a,t){const i="text-",s=Ai(a,i+"value",t);if(!s)return null;const r=Fr(a,i,t),u=Fr(a,i+"background-",t),c=Br(a,i,t),h=Br(a,i+"background-",t),d=Ai(a,i+"font",t),m=Ce(a,i+"max-angle",t),_=Ce(a,i+"offset-x",t),p=Ce(a,i+"offset-y",t),v=fa(a,i+"overflow",t),S=Ai(a,i+"placement",t),x=Ce(a,i+"repeat",t),C=ac(a,i+"scale",t),R=fa(a,i+"rotate-with-view",t),T=Ce(a,i+"rotation",t),w=Ai(a,i+"align",t),D=Ai(a,i+"justify",t),M=Ai(a,i+"baseline",t),z=fa(a,i+"keep-upright",t),K=iv(a,i+"padding",t),B=rc(a,i+"declutter-mode"),V=new Pd({declutterMode:B});return function(j){if(V.setText(s(j)),r&&V.setFill(r(j)),u&&V.setBackgroundFill(u(j)),c&&V.setStroke(c(j)),h&&V.setBackgroundStroke(h(j)),d&&V.setFont(d(j)),m&&V.setMaxAngle(m(j)),_&&V.setOffsetX(_(j)),p&&V.setOffsetY(p(j)),v&&V.setOverflow(v(j)),S){const J=S(j);if(J!=="point"&&J!=="line")throw new Error("Expected point or line for text-placement");V.setPlacement(J)}if(x&&V.setRepeat(x(j)),C&&V.setScale(C(j)),R&&V.setRotateWithView(R(j)),T&&V.setRotation(T(j)),w){const J=w(j);if(J!=="left"&&J!=="center"&&J!=="right"&&J!=="end"&&J!=="start")throw new Error("Expected left, right, center, start, or end for text-align");V.setTextAlign(J)}if(D){const J=D(j);if(J!=="left"&&J!=="right"&&J!=="center")throw new Error("Expected left, right, or center for text-justify");V.setJustify(J)}if(M){const J=M(j);if(J!=="bottom"&&J!=="top"&&J!=="middle"&&J!=="alphabetic"&&J!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");V.setTextBaseline(J)}return K&&V.setPadding(K(j)),z&&V.setKeepUpright(z(j)),V}}function gC(a,t){return"icon-src"in a?mC(a,t):"shape-points"in a?_C(a,t):"circle-radius"in a?yC(a,t):null}function mC(a,t){const i="icon-",s=i+"src",r=sv(a[s],s),u=Yu(a,i+"anchor",t),c=ac(a,i+"scale",t),h=Ce(a,i+"opacity",t),d=Yu(a,i+"displacement",t),m=Ce(a,i+"rotation",t),_=fa(a,i+"rotate-with-view",t),p=Y0(a,i+"anchor-origin"),v=X0(a,i+"anchor-x-units"),S=X0(a,i+"anchor-y-units"),x=zi(a,i+"color");let C,R=null;x!==void 0&&(Array.isArray(x)&&x.length>0&&typeof x[0]=="string"?R=lc(a,i+"color",t):C=lv(x,i+"color"));const T=EC(a,i+"cross-origin"),w=SC(a,i+"offset"),D=Y0(a,i+"offset-origin"),M=dd(a,i+"width"),z=dd(a,i+"height"),K=vC(a,i+"size"),B=rc(a,i+"declutter-mode"),V={src:r,anchorOrigin:p,anchorXUnits:v,anchorYUnits:S,crossOrigin:T,offset:w,offsetOrigin:D,height:z,width:M,size:K,declutterMode:B};let j=null;return function(J){if(j)R&&j.setColor(R(J));else{const rt=R?R(J):C;j=new qr(rt!==void 0?Object.assign({},V,{color:rt}):Object.assign({},V))}return h&&j.setOpacity(h(J)),d&&j.setDisplacement(d(J)),m&&j.setRotation(m(J)),_&&j.setRotateWithView(_(J)),c&&j.setScale(c(J)),u&&j.setAnchor(u(J)),j}}function _C(a,t){const i="shape-",s=i+"points",r=i+"radius",u=Kd(a[s],s);if(!(r in a))throw new Error(`Expected a number for ${r}`);const c=Ce(a,r,t),h=typeof a[r]=="number"?a[r]:5,d=i+"radius2",m=Ce(a,d,t),_=typeof a[d]=="number"?a[d]:void 0,p=Fr(a,i,t),v=Br(a,i,t),S=ac(a,i+"scale",t),x=Yu(a,i+"displacement",t),C=Ce(a,i+"rotation",t),R=fa(a,i+"rotate-with-view",t),T=dd(a,i+"angle"),w=rc(a,i+"declutter-mode"),D=new nc({points:u,radius:h,radius2:_,angle:T,declutterMode:w});return function(M){return c&&D.setRadius(c(M)),m&&D.setRadius2(m(M)),p&&D.setFill(p(M)),v&&D.setStroke(v(M)),x&&D.setDisplacement(x(M)),C&&D.setRotation(C(M)),R&&D.setRotateWithView(R(M)),S&&D.setScale(S(M)),D}}function yC(a,t){const i="circle-",s=Fr(a,i,t),r=Br(a,i,t),u=Ce(a,i+"radius",t),c=ac(a,i+"scale",t),h=Yu(a,i+"displacement",t),d=Ce(a,i+"rotation",t),m=fa(a,i+"rotate-with-view",t),_=rc(a,i+"declutter-mode"),p=new ic({radius:5,declutterMode:_});return function(v){return u&&p.setRadius(u(v)),s&&p.setFill(s(v)),r&&p.setStroke(r(v)),h&&p.setDisplacement(h(v)),d&&p.setRotation(d(v)),m&&p.setRotateWithView(m(v)),c&&p.setScale(c(v)),p}}function zi(a,t){if(!(t in a))return;const i=a[t];return i===void 0?void 0:i}function Ce(a,t,i){const s=zi(a,t);if(s===void 0)return;const r=ii(s,bt,i);return function(u){return Kd(r(u),t)}}function Ai(a,t,i){const s=zi(a,t);if(s===void 0)return null;const r=ii(s,Ve,i);return function(u){return sv(r(u),t)}}function pC(a,t,i){const s=Ai(a,t+"pattern-src",i),r=U0(a,t+"pattern-offset",i),u=U0(a,t+"pattern-size",i),c=lc(a,t+"color",i);return function(h){return{src:s(h),offset:r&&r(h),size:u&&u(h),color:c&&c(h)}}}function fa(a,t,i){const s=zi(a,t);if(s===void 0)return null;const r=ii(s,Ue,i);return function(u){const c=r(u);if(typeof c!="boolean")throw new Error(`Expected a boolean for ${t}`);return c}}function lc(a,t,i){const s=zi(a,t);if(s===void 0)return null;const r=ii(s,Bn,i);return function(u){return lv(r(u),t)}}function iv(a,t,i){const s=zi(a,t);if(s===void 0)return null;if(Array.isArray(s)&&(s.length===0||typeof s[0]!="string")){const u=s.map((c,h)=>{if(typeof c=="number")return()=>c;const d=ii(c,bt,i);return function(m){return Kd(d(m),`${t}[${h}]`)}});return function(c){const h=new Array(u.length);for(let d=0;d<u.length;++d)h[d]=u[d](c);return h}}const r=ii(s,il,i);return function(u){return Vr(r(u),t)}}function Yu(a,t,i){const s=zi(a,t);if(s===void 0)return null;const r=ii(s,il,i);return function(u){const c=Vr(r(u),t);if(c.length!==2)throw new Error(`Expected two numbers for ${t}`);return c}}function U0(a,t,i){const s=zi(a,t);if(s===void 0)return null;const r=ii(s,il,i);return function(u){return av(r(u),t)}}function ac(a,t,i){const s=zi(a,t);if(s===void 0)return null;const r=ii(s,il|bt,i);return function(u){return xC(r(u),t)}}function dd(a,t){const i=a[t];if(i!==void 0){if(typeof i!="number")throw new Error(`Expected a number for ${t}`);return i}}function vC(a,t){const i=a[t];if(i!==void 0){if(typeof i=="number")return Je(i);if(!Array.isArray(i))throw new Error(`Expected a number or size array for ${t}`);if(i.length!==2||typeof i[0]!="number"||typeof i[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return i}}function EC(a,t){const i=a[t];if(i!==void 0){if(typeof i!="string")throw new Error(`Expected a string for ${t}`);return i}}function Y0(a,t){const i=a[t];if(i!==void 0){if(i!=="bottom-left"&&i!=="bottom-right"&&i!=="top-left"&&i!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return i}}function X0(a,t){const i=a[t];if(i!==void 0){if(i!=="pixels"&&i!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return i}}function SC(a,t){const i=a[t];if(i!==void 0)return Vr(i,t)}function rc(a,t){const i=a[t];if(i!==void 0){if(typeof i!="string")throw new Error(`Expected a string for ${t}`);if(i!=="declutter"&&i!=="obstacle"&&i!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return i}}function Vr(a,t){if(!Array.isArray(a))throw new Error(`Expected an array for ${t}`);const i=a.length;for(let s=0;s<i;++s)if(typeof a[s]!="number")throw new Error(`Expected an array of numbers for ${t}`);return a}function sv(a,t){if(typeof a!="string")throw new Error(`Expected a string for ${t}`);return a}function Kd(a,t){if(typeof a!="number")throw new Error(`Expected a number for ${t}`);return a}function lv(a,t){if(typeof a=="string")return a;const i=Vr(a,t),s=i.length;if(s<3||s>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return i}function av(a,t){const i=Vr(a,t);if(i.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return i}function xC(a,t){return typeof a=="number"?a:av(a,t)}const F0={RENDER_ORDER:"renderOrder"};class rv extends tc{constructor(t){t=t||{};const i=Object.assign({},t);delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,super(i),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(F0.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,i){const s=this.getDeclutter();s in t.declutter||(t.declutter[s]=new Kp(9)),this.getRenderer().renderDeclutter(t,i)}setRenderOrder(t){this.set(F0.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?nv:t;const i=TC(t);this.styleFunction_=t===null?void 0:oC(i),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}}function TC(a){if(a===void 0)return nv;if(!a)return null;if(typeof a=="function"||a instanceof Ts)return a;if(!Array.isArray(a))return G0([a]);if(a.length===0)return[];const t=a.length,i=a[0];if(i instanceof Ts){const r=new Array(t);for(let u=0;u<t;++u){const c=a[u];if(!(c instanceof Ts))throw new Error("Expected a list of style instances");r[u]=c}return r}if("style"in i){const r=new Array(t);for(let u=0;u<t;++u){const c=a[u];if(!("style"in c))throw new Error("Expected a list of rules with a style property");r[u]=c}return hC(r)}return G0(a)}class ov extends Li{constructor(t,i,s,r){super(t),this.inversePixelTransform=i,this.frameState=s,this.context=r}}class CC extends Bu{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,i){Lt()}calculateMatrices2D(t){const i=t.viewState,s=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Di(s,t.size[0]/2,t.size[1]/2,1/i.resolution,-1/i.resolution,-i.rotation,-i.center[0],-i.center[1]),wp(r,s)}forEachFeatureAtCoordinate(t,i,s,r,u,c,h,d){let m;const _=i.viewState;function p(M,z,K,B){return u.call(c,z,M?K:null,B)}const v=_.projection,S=vp(t.slice(),v),x=[[0,0]];if(v.canWrapX()&&r){const M=v.getExtent(),z=Ft(M);x.push([-z,0],[z,0])}const C=i.layerStatesArray,R=C.length,T=[],w=[];for(let M=0;M<x.length;M++)for(let z=R-1;z>=0;--z){const K=C[z],B=K.layer;if(B.hasRenderer()&&Bd(K,_)&&h.call(d,B)){const V=B.getRenderer(),j=B.getSource();if(V&&j){const J=j.getWrapX()?S:t,rt=p.bind(null,K.managed);w[0]=J[0]+x[M][0],w[1]=J[1]+x[M][1],m=V.forEachFeatureAtCoordinate(w,i,s,rt,T)}if(m)return m}}if(T.length===0)return;const D=1/T.length;return T.forEach((M,z)=>M.distanceSq+=z*D),T.sort((M,z)=>M.distanceSq-z.distanceSq),T.some(M=>m=M.callback(M.feature,M.layer,M.geometry)),m}hasFeatureAtCoordinate(t,i,s,r,u,c){return this.forEachFeatureAtCoordinate(t,i,s,r,Or,this,u,c)!==void 0}getMap(){return this.map_}renderFrame(t){Lt()}scheduleExpireIconCache(t){On.canExpireCache()&&t.postRenderFunctions.push(RC)}}function RC(a,t){On.expire()}class bC extends CC{constructor(t){super(t),this.fontChangeListenerKey_=Mt(sa,ga.PROPERTYCHANGE,t.redrawText,t),this.element_=Mn?Fp():document.createElement("div");const i=this.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",this.element_.className=Ju+" ol-layers";const s=t.getViewport();s&&s.insertBefore(this.element_,s.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,i){const s=this.getMap();if(s.hasListener(t)){const r=new ov(t,void 0,i);s.dispatchEvent(r)}}disposeInternal(){Vt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(wn.PRECOMPOSE,t);const i=t.layerStatesArray.sort((m,_)=>m.zIndex-_.zIndex);i.some(m=>m.layer instanceof rv&&m.layer.getDeclutter())&&(t.declutter={});const r=t.viewState;this.children_.length=0;const u=[];let c=null;for(let m=0,_=i.length;m<_;++m){const p=i[m];t.layerIndex=m;const v=p.layer,S=v.getSourceState();if(!Bd(p,r)||S!="ready"&&S!="undefined"){v.unrender();continue}const x=v.render(t,c);x&&(x!==c&&(this.children_.push(x),c=x),u.push(p))}this.declutter(t,u),Gx(this.element_,this.children_);const d=this.getMap().getTargetElement();if(vs(d)){const m=d.getContext("2d");for(const _ of this.children_){const p=_.firstElementChild||_,v=_.style.backgroundColor;if(v&&(!vs(p)||p.width>0)&&(m.fillStyle=v,m.fillRect(0,0,d.width,d.height)),vs(p)&&p.width>0){m.save();const S=_.style.opacity||p.style.opacity;m.globalAlpha=S===""?1:Number(S);const x=p.style.transform;if(x)m.transform(...rd(x));else{const C=parseFloat(p.style.width)/p.width,R=parseFloat(p.style.height)/p.height;m.transform(C,0,0,R,0,0)}m.drawImage(p,0,0),m.restore()}}}this.dispatchRenderEvent(wn.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,i){if(t.declutter){for(let s=i.length-1;s>=0;--s){const r=i[s],u=r.layer;u.getDeclutter()&&u.renderDeclutter(t,r)}i.forEach(s=>s.layer.renderDeferred(t))}}}function uv(a){if(a instanceof tc){a.setMapInternal(null);return}a instanceof xa&&a.getLayers().forEach(uv)}function cv(a,t){if(a instanceof tc){a.setMapInternal(t);return}if(a instanceof xa){const i=a.getLayers().getArray();for(let s=0,r=i.length;s<r;++s)cv(i[s],t)}}let AC=class extends kn{constructor(t){super(),t=t||{},this.on,this.once,this.un;const i=MC(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:sS,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Hn(),this.pixelToCoordinateTransform_=Hn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,Mn||(this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_)),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=i.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,Mn||(this.resizeObserver_=new ResizeObserver(()=>this.updateSize())),this.controls=i.controls||(Mn?new An:Fx()),this.interactions=i.interactions||(Mn?new An:oT({onFocusOnly:!0})),this.overlays_=i.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new rS(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Oe.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Oe.VIEW,this.handleViewChanged_),this.addChangeListener(Oe.SIZE,this.handleSizeChanged_),this.addChangeListener(Oe.TARGET,this.handleTargetChanged_),this.setProperties(i.values);const s=this;t.view&&!(t.view instanceof ti)&&t.view.then(function(r){s.setView(new ti(r))}),this.controls.addEventListener(qe.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(qe.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(qe.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(qe.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(qe.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(qe.REMOVE,r=>{const u=r.element.getId();u!==void 0&&delete this.overlayIdIndex_[u.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){cv(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const i=t.getId();i!==void 0&&(this.overlayIdIndex_[i.toString()]=t),t.setMap(this)}disposeInternal(){var t;this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),(t=this.resizeObserver_)==null||t.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,i,s){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(t);s=s!==void 0?s:{};const u=s.hitTolerance!==void 0?s.hitTolerance:0,c=s.layerFilter!==void 0?s.layerFilter:Or,h=s.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,u,h,i,null,c,null)}getFeaturesAtPixel(t,i){const s=[];return this.forEachFeatureAtPixel(t,function(r){s.push(r)},i),s}getAllLayers(){const t=[];function i(s){s.forEach(function(r){r instanceof xa?i(r.getLayers()):t.push(r)})}return i(this.getLayers()),t}hasFeatureAtPixel(t,i){if(!this.frameState_||!this.renderer_)return!1;const s=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};const r=i.layerFilter!==void 0?i.layerFilter:Or,u=i.hitTolerance!==void 0?i.hitTolerance:0,c=i.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(s,this.frameState_,u,c,r,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const s=this.viewport_.getBoundingClientRect(),r=this.getSize(),u=s.width/r[0],c=s.height/r[1],h="changedTouches"in t?t.changedTouches[0]:t;return[(h.clientX-s.left)/u,(h.clientY-s.top)/c]}getTarget(){return this.get(Oe.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return ad(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const i=this.frameState_;return i?ye(i.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const i=this.overlayIdIndex_[t.toString()];return i!==void 0?i:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Oe.LAYERGROUP)}setLayers(t){const i=this.getLayerGroup();if(t instanceof An){i.setLayers(t);return}const s=i.getLayers();s.clear(),s.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let i=0,s=t.length;i<s;++i){const r=t[i];if(!r.visible)continue;const u=r.layer.getRenderer();if(u&&!u.ready)return!0;const c=r.layer.getSource();if(c&&c.loading)return!0}return!1}getPixelFromCoordinate(t){const i=Ri(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(i)}getPixelFromCoordinateInternal(t){const i=this.frameState_;return i?ye(i.coordinateToPixelTransform,t.slice(0,2)):null}getPixelRatio(){return this.pixelRatio_}setPixelRatio(t){this.pixelRatio_!==t&&(this.pixelRatio_=t,this.render())}getRenderer(){return this.renderer_}getSize(){return this.get(Oe.SIZE)}getView(){return this.get(Oe.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,i,s,r){return oS(this.frameState_,t,i,s,r)}handleBrowserEvent(t,i){i=i||t.type;const s=new _s(i,this,t);this.handleMapBrowserEvent(s)}handleMapBrowserEvent(t){if(!this.frameState_)return;const i=t.originalEvent,s=i.type;if(s===Jf.POINTERDOWN||s===St.WHEEL||s===St.KEYDOWN){const r=this.getOwnerDocument(),u=this.viewport_.getRootNode?this.viewport_.getRootNode():r,c=i.target,h=u instanceof ShadowRoot?u.host===c?u.host.ownerDocument:u:u===r?r.documentElement:u;if(this.overlayContainerStopEvent_.contains(c)||!h.contains(c))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const r=this.getInteractions().getArray().slice();for(let u=r.length-1;u>=0;u--){const c=r[u];if(c.getMap()!==this||!c.getActive()||!this.getTargetElement())continue;if(!c.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,i=this.tileQueue_;if(!i.isEmpty()){let r=this.maxTilesLoading_,u=r;if(t){const c=t.viewHints;if(c[De.ANIMATING]||c[De.INTERACTING]){const h=Date.now()-t.time>8;r=h?0:8,u=h?0:2}}i.getTilesLoading()<r&&(i.reprioritize(),i.loadMoreTiles(r,u))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(wn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(wn.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new na(bi.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new na(bi.LOADSTART,this,t))));const s=this.postRenderFunctions_;if(t)for(let r=0,u=s.length;r<u;++r)s[r](this,t);s.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){var s,r;if(this.mapBrowserEventHandler_){for(let u=0,c=this.targetChangeHandlerKeys_.length;u<c;++u)Vt(this.targetChangeHandlerKeys_[u]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(St.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(St.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_&&!vs(this.targetElement_)){(s=this.resizeObserver_)==null||s.unobserve(this.targetElement_);const u=this.targetElement_.getRootNode();u instanceof ShadowRoot&&this.resizeObserver_.unobserve(u.host),this.setSize(void 0)}const t=this.getTarget(),i=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=i,!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{if(vs(i)||i.appendChild(this.viewport_),this.renderer_||(this.renderer_=new bC(this)),!vs(i)){this.mapBrowserEventHandler_=new lS(this,this.moveTolerance_);for(const c in te)this.mapBrowserEventHandler_.addEventListener(te[c],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(St.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(St.WHEEL,this.boundHandleBrowserEvent_,up?{passive:!1}:!1);let u;if(this.keyboardEventTarget_)u=this.keyboardEventTarget_;else{const c=i.getRootNode();u=c instanceof ShadowRoot?c.host:i}if(this.targetChangeHandlerKeys_=[Mt(u,St.KEYDOWN,this.handleBrowserEvent,this),Mt(u,St.KEYPRESS,this.handleBrowserEvent,this)],i instanceof HTMLElement){const c=i.getRootNode();c instanceof ShadowRoot&&this.resizeObserver_.observe(c.host),(r=this.resizeObserver_)==null||r.observe(i)}}this.updateSize()}}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Vt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Vt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Mt(t,ga.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Mt(t,St.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Vt),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new ys("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Mt(t,ga.PROPERTYCHANGE,this.render,this),Mt(t,St.CHANGE,this.render,this),Mt(t,"addlayer",this.handleLayerAdd_,this),Mt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const t=this.frameState_.layerStatesArray;for(let i=0,s=t.length;i<s;++i){const r=t[i].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){uv(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const i=this.getSize(),s=this.getView(),r=this.frameState_;let u=null;if(i!==void 0&&M0(i)&&s&&s.isDef()){const c=s.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=s.getState();if(u={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:nd(h.center,h.resolution,h.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:c,wantedTiles:{},mapId:zt(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const d=isNaN(h.nextRotation)?h.rotation:h.nextRotation;u.nextExtent=nd(h.nextCenter,h.nextResolution,d,i)}}this.frameState_=u,this.renderer_.renderFrame(u),u&&(u.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,u.postRenderFunctions),r&&(!this.previousExtent_||!kr(this.previousExtent_)&&!Lr(u.extent,this.previousExtent_))&&(this.dispatchEvent(new na(bi.MOVESTART,this,r)),this.previousExtent_=Zu(this.previousExtent_)),this.previousExtent_&&!u.viewHints[De.ANIMATING]&&!u.viewHints[De.INTERACTING]&&!Lr(u.extent,this.previousExtent_)&&(this.dispatchEvent(new na(bi.MOVEEND,this,u)),cp(u.extent,this.previousExtent_))),this.dispatchEvent(new na(bi.POSTRENDER,this,u)),this.renderComplete_=(this.hasListener(bi.LOADSTART)||this.hasListener(bi.LOADEND)||this.hasListener(wn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const i=this.getLayerGroup();i&&this.handleLayerRemove_(new ys("removelayer",i)),this.set(Oe.LAYERGROUP,t)}setSize(t){this.set(Oe.SIZE,t)}setTarget(t){this.set(Oe.TARGET,t)}setView(t){if(!t||t instanceof ti){this.set(Oe.VIEW,t);return}this.set(Oe.VIEW,new ti);const i=this;t.then(function(s){i.setView(new ti(s))})}updateSize(){const t=this.getTargetElement();let i;if(t){let r,u;if(vs(t)){const c=t.getContext("2d").getTransform();r=t.width/c.a,u=t.height/c.d}else{const c=getComputedStyle(t);r=t.offsetWidth-parseFloat(c.borderLeftWidth)-parseFloat(c.paddingLeft)-parseFloat(c.paddingRight)-parseFloat(c.borderRightWidth),u=t.offsetHeight-parseFloat(c.borderTopWidth)-parseFloat(c.paddingTop)-parseFloat(c.paddingBottom)-parseFloat(c.borderBottomWidth)}!isNaN(r)&&!isNaN(u)&&(i=[Math.max(0,r),Math.max(0,u)],!M0(i)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&Sp("No map visible because the map container's width or height are 0."))}const s=this.getSize();i&&(!s||!Rs(i,s))&&(this.setSize(i),this.updateViewportSize_(i))}updateViewportSize_(t){const i=this.getView();i&&i.setViewportSize(t)}};function MC(a){let t=null;a.keyboardEventTarget!==void 0&&(t=typeof a.keyboardEventTarget=="string"?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);const i={},s=a.layers&&typeof a.layers.getLayers=="function"?a.layers:new xa({layers:a.layers});i[Oe.LAYERGROUP]=s,i[Oe.TARGET]=a.target,i[Oe.VIEW]=a.view instanceof ti?a.view:new ti;let r;a.controls!==void 0&&(Array.isArray(a.controls)?r=new An(a.controls.slice()):(Gt(typeof a.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=a.controls));let u;a.interactions!==void 0&&(Array.isArray(a.interactions)?u=new An(a.interactions.slice()):(Gt(typeof a.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),u=a.interactions));let c;return a.overlays!==void 0?Array.isArray(a.overlays)?c=new An(a.overlays.slice()):(Gt(typeof a.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),c=a.overlays):c=new An,{controls:r,interactions:u,keyboardEventTarget:t,overlays:c,values:i}}class qd extends ju{constructor(t,i,s){super(),s=s||{},this.tileCoord=t,this.state=i,this.key="",this.transition_=s.transition===void 0?250:s.transition,this.transitionStarts_={},this.interpolate=!!s.interpolate}changed(){this.dispatchEvent(St.CHANGE)}release(){this.setState(ct.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==ct.EMPTY){if(this.state!==ct.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){Lt()}getAlpha(t,i){if(!this.transition_)return 1;let s=this.transitionStarts_[t];if(!s)s=i,this.transitionStarts_[t]=s;else if(s===-1)return 1;const r=i-s+1e3/60;return r>=this.transition_?1:Ep(r/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function gd(a){return a instanceof Image||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageBitmap?a:null}const wC=new Error("disposed"),OC=[256,256];class B0 extends qd{constructor(t){const i=ct.IDLE;super(t.tileCoord,i,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=gd(this.data_);return t?[t.width,t.height]:OC}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==ct.IDLE&&this.state!==ct.ERROR)return;this.state=ct.LOADING,this.changed();const t=this;this.loader_().then(function(i){t.data_=i,t.state=ct.LOADED,t.changed()}).catch(function(i){t.error_=i,t.state=ct.ERROR,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(wC),this.controller_=null),super.disposeInternal()}}class hv extends qd{constructor(t,i,s,r,u,c){super(t,i,c),this.crossOrigin_=r==null?void 0:r.crossOrigin,this.referrerPolicy_=r==null?void 0:r.referrerPolicy,this.src_=s,this.key=s,this.image_,Mn?this.image_=new OffscreenCanvas(1,1):(this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_),this.referrerPolicy_!==void 0&&(this.image_.referrerPolicy=this.referrerPolicy_)),this.unlisten_=null,this.tileLoadFunction_=u}getImage(){return this.image_}setImage(t){this.image_=t,this.state=ct.LOADED,this.unlistenImage_(),this.changed()}getCrossOrigin(){return this.crossOrigin_}getReferrerPolicy(){return this.referrerPolicy_}handleImageError_(){this.state=ct.ERROR,this.unlistenImage_(),this.image_=DC(),this.changed()}handleImageLoad_(){if(Mn)this.state=ct.LOADED;else{const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=ct.LOADED:this.state=ct.EMPTY}this.unlistenImage_(),this.changed()}load(){this.state==ct.ERROR&&(this.state=ct.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_),this.referrerPolicy_!==void 0&&(this.image_.referrerPolicy=this.referrerPolicy_)),this.state==ct.IDLE&&(this.state=ct.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=VT(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function DC(){const a=re(1,1);return a.fillStyle="rgba(0,0,0,0)",a.fillRect(0,0,1,1),a.canvas}class Vd{constructor(t,i,s,r){this.minX=t,this.maxX=i,this.minY=s,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,i){return this.minX<=t&&t<=this.maxX&&this.minY<=i&&i<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function $l(a,t,i,s,r){return r!==void 0?(r.minX=a,r.maxX=t,r.minY=i,r.maxY=s,r):new Vd(a,t,i,s)}let Zf;const da=[];function H0(a,t,i,s,r){a.beginPath(),a.moveTo(0,0),a.lineTo(t,i),a.lineTo(s,r),a.closePath(),a.save(),a.clip(),a.fillRect(0,0,Math.max(t,s)+1,Math.max(i,r)),a.restore()}function Pf(a,t){return Math.abs(a[t*4]-210)>2||Math.abs(a[t*4+3]-.75*255)>2}function LC(){if(Zf===void 0){const a=re(6,6,da);a.globalCompositeOperation="lighter",a.fillStyle="rgba(210, 0, 0, 0.75)",H0(a,4,5,4,0),H0(a,4,5,0,5);const t=a.getImageData(0,0,3,3).data;Zf=Pf(t,0)||Pf(t,4)||Pf(t,8),$u(a),da.push(a.canvas)}return Zf}function j0(a,t,i,s){const r=Md(i,t,a);let u=f0(t,s,i);const c=t.getMetersPerUnit();c!==void 0&&(u*=c);const h=a.getMetersPerUnit();h!==void 0&&(u/=h);const d=a.getExtent();if(!d||_a(d,r)){const m=f0(a,u,r)/u;isFinite(m)&&m>0&&(u/=m)}return u}function zC(a,t,i,s){const r=el(i);let u=j0(a,t,r,s);return(!isFinite(u)||u<=0)&&mp(i,function(c){return u=j0(a,t,c,s),isFinite(u)&&u>0}),u}function IC(a,t,i,s,r,u,c,h,d,m,_,p,v,S){const x=re(Math.round(i*a),Math.round(i*t),da);if(p||(x.imageSmoothingEnabled=!1),d.length===0)return x.canvas;x.scale(i,i);function C(z){return Math.round(z*i)/i}x.globalCompositeOperation="lighter";const R=Ln();d.forEach(function(z,K,B){fS(R,z.extent)});let T;const w=i/s,D=(p?1:1+Math.pow(2,-24))/w;T=re(Math.round(Ft(R)*w),Math.round(Ye(R)*w),da),p||(T.imageSmoothingEnabled=!1),d.forEach(function(z,K,B){if(z.image.width>0&&z.image.height>0){if(z.clipExtent){T.save();const it=(z.clipExtent[0]-R[0])*w,nt=-(z.clipExtent[3]-R[3])*w,ft=Ft(z.clipExtent)*w,et=Ye(z.clipExtent)*w;T.rect(p?it:Math.round(it),p?nt:Math.round(nt),p?ft:Math.round(it+ft)-Math.round(it),p?et:Math.round(nt+et)-Math.round(nt)),T.clip()}const V=(z.extent[0]-R[0])*w,j=-(z.extent[3]-R[3])*w,J=Ft(z.extent)*w,rt=Ye(z.extent)*w;T.drawImage(z.image,m,m,z.image.width-2*m,z.image.height-2*m,p?V:Math.round(V),p?j:Math.round(j),p?J:Math.round(V+J)-Math.round(V),p?rt:Math.round(j+rt)-Math.round(j)),z.clipExtent&&T.restore()}});const M=sl(c);return h.getTriangles().forEach(function(z,K,B){const V=z.source,j=z.target;let J=V[0][0],rt=V[0][1],it=V[1][0],nt=V[1][1],ft=V[2][0],et=V[2][1];const I=C((j[0][0]-M[0])/u),k=C(-(j[0][1]-M[1])/u),Q=C((j[1][0]-M[0])/u),tt=C(-(j[1][1]-M[1])/u),lt=C((j[2][0]-M[0])/u),b=C(-(j[2][1]-M[1])/u),Y=J,W=rt;J=0,rt=0,it-=Y,nt-=W,ft-=Y,et-=W;const $=[[it,nt,0,0,Q-I],[ft,et,0,0,lt-I],[0,0,it,nt,tt-k],[0,0,ft,et,b-k]],F=cS($);if(!F)return;if(x.save(),x.beginPath(),LC()||!p){x.moveTo(Q,tt);const gt=4,kt=I-Q,wt=k-tt;for(let ce=0;ce<gt;ce++)x.lineTo(Q+C((ce+1)*kt/gt),tt+C(ce*wt/(gt-1))),ce!=gt-1&&x.lineTo(Q+C((ce+1)*kt/gt),tt+C((ce+1)*wt/(gt-1)));x.lineTo(lt,b)}else x.moveTo(Q,tt),x.lineTo(I,k),x.lineTo(lt,b);x.clip(),x.transform(F[0],F[2],F[1],F[3],I,k),x.translate(R[0]-Y,R[3]-W);let dt;if(T)dt=T.canvas,x.scale(D,-D);else{const gt=d[0],kt=gt.extent;dt=gt.image,x.scale(Ft(kt)/dt.width,-Ye(kt)/dt.height)}x.drawImage(dt,0,0),x.restore()}),T&&($u(T),da.push(T.canvas)),_&&(x.save(),x.globalCompositeOperation="source-over",x.strokeStyle="black",x.lineWidth=1,h.getTriangles().forEach(function(z,K,B){const V=z.target,j=(V[0][0]-M[0])/u,J=-(V[0][1]-M[1])/u,rt=(V[1][0]-M[0])/u,it=-(V[1][1]-M[1])/u,nt=(V[2][0]-M[0])/u,ft=-(V[2][1]-M[1])/u;x.beginPath(),x.moveTo(rt,it),x.lineTo(j,J),x.lineTo(nt,ft),x.closePath(),x.stroke()}),x.restore()),x.canvas}const NC=10,k0=.25;class GC{constructor(t,i,s,r,u,c,h){this.sourceProj_=t,this.targetProj_=i;let d={};const m=h?WS(D=>ye(h,Md(D,this.targetProj_,this.sourceProj_))):Iu(this.targetProj_,this.sourceProj_);this.transformInv_=function(D){const M=D[0]+"/"+D[1];return d[M]||(d[M]=m(D)),d[M]},this.maxSourceExtent_=r,this.errorThresholdSquared_=u*u,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Ft(r)>=Ft(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ft(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ft(this.targetProj_.getExtent()):null;const _=sl(s),p=qu(s),v=Ku(s),S=Pu(s),x=this.transformInv_(_),C=this.transformInv_(p),R=this.transformInv_(v),T=this.transformInv_(S),w=NC+(c?Math.max(0,Math.ceil(Math.log2(ed(s)/(c*c*256*256)))):0);if(this.addQuad_(_,p,v,S,x,C,R,T,w),this.wrapsXInSource_){let D=1/0;this.triangles_.forEach(function(M,z,K){D=Math.min(D,M.source[0][0],M.source[1][0],M.source[2][0])}),this.triangles_.forEach(M=>{if(Math.max(M.source[0][0],M.source[1][0],M.source[2][0])-D>this.sourceWorldWidth_/2){const z=[[M.source[0][0],M.source[0][1]],[M.source[1][0],M.source[1][1]],[M.source[2][0],M.source[2][1]]];z[0][0]-D>this.sourceWorldWidth_/2&&(z[0][0]-=this.sourceWorldWidth_),z[1][0]-D>this.sourceWorldWidth_/2&&(z[1][0]-=this.sourceWorldWidth_),z[2][0]-D>this.sourceWorldWidth_/2&&(z[2][0]-=this.sourceWorldWidth_);const K=Math.min(z[0][0],z[1][0],z[2][0]);Math.max(z[0][0],z[1][0],z[2][0])-K<this.sourceWorldWidth_/2&&(M.source=z)}})}d={}}addTriangle_(t,i,s,r,u,c){this.triangles_.push({source:[r,u,c],target:[t,i,s]})}addQuad_(t,i,s,r,u,c,h,d,m){const _=i0([u,c,h,d]),p=this.sourceWorldWidth_?Ft(_)/this.sourceWorldWidth_:null,v=this.sourceWorldWidth_,S=this.sourceProj_.canWrapX()&&p>.5&&p<1;let x=!1;if(m>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const R=i0([t,i,s,r]);x=Ft(R)/this.targetWorldWidth_>k0||x}!S&&this.sourceProj_.isGlobal()&&p&&(x=p>k0||x)}if(!x&&this.maxSourceExtent_&&isFinite(_[0])&&isFinite(_[1])&&isFinite(_[2])&&isFinite(_[3])&&!Qe(_,this.maxSourceExtent_))return;let C=0;if(!x&&(!isFinite(u[0])||!isFinite(u[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(d[0])||!isFinite(d[1]))){if(m>0)x=!0;else if(C=(!isFinite(u[0])||!isFinite(u[1])?8:0)+(!isFinite(c[0])||!isFinite(c[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(d[0])||!isFinite(d[1])?1:0),C!=1&&C!=2&&C!=4&&C!=8)return}if(m>0){if(!x){const R=[(t[0]+s[0])/2,(t[1]+s[1])/2],T=this.transformInv_(R);let w;S?w=(ca(u[0],v)+ca(h[0],v))/2-ca(T[0],v):w=(u[0]+h[0])/2-T[0];const D=(u[1]+h[1])/2-T[1];x=w*w+D*D>this.errorThresholdSquared_}if(x){if(Math.abs(t[0]-s[0])<=Math.abs(t[1]-s[1])){const R=[(i[0]+s[0])/2,(i[1]+s[1])/2],T=this.transformInv_(R),w=[(r[0]+t[0])/2,(r[1]+t[1])/2],D=this.transformInv_(w);this.addQuad_(t,i,R,w,u,c,T,D,m-1),this.addQuad_(w,R,s,r,D,T,h,d,m-1)}else{const R=[(t[0]+i[0])/2,(t[1]+i[1])/2],T=this.transformInv_(R),w=[(s[0]+r[0])/2,(s[1]+r[1])/2],D=this.transformInv_(w);this.addQuad_(t,R,w,r,u,T,D,d,m-1),this.addQuad_(R,i,s,w,T,c,h,D,m-1)}return}}if(S){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(C&11)==0&&this.addTriangle_(t,s,r,u,h,d),(C&14)==0&&this.addTriangle_(t,s,i,u,h,c),C&&((C&13)==0&&this.addTriangle_(i,r,t,c,d,u),(C&7)==0&&this.addTriangle_(i,r,s,c,d,h))}calculateSourceExtent(){const t=Ln();return this.triangles_.forEach(function(i,s,r){const u=i.source;Ar(t,u[0]),Ar(t,u[1]),Ar(t,u[2])}),t}getTriangles(){return this.triangles_}}const UC=.5;class fv extends qd{constructor(t,i,s,r,u,c,h,d,m,_,p,v){super(u,ct.IDLE,v),this.renderEdges_=p!==void 0?p:!1,this.pixelRatio_=h,this.gutter_=d,this.canvas_=null,this.sourceTileGrid_=i,this.targetTileGrid_=r,this.wrappedTileCoord_=c||u,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const S=r.getTileCoordExtent(this.wrappedTileCoord_),x=this.targetTileGrid_.getExtent();let C=this.sourceTileGrid_.getExtent();const R=x?$s(S,x):S;if(ed(R)===0){this.state=ct.EMPTY;return}const T=t.getExtent();T&&(C?C=$s(C,T):C=T);const w=r.getResolution(this.wrappedTileCoord_[0]),D=zC(t,s,R,w);if(!isFinite(D)||D<=0){this.state=ct.EMPTY;return}const M=_!==void 0?_:UC;if(this.triangulation_=new GC(t,s,R,C,D*M,w),this.triangulation_.getTriangles().length===0){this.state=ct.EMPTY;return}this.sourceZ_=i.getZForResolution(D);let z=this.triangulation_.calculateSourceExtent();if(C&&(t.canWrapX()?(z[1]=Qt(z[1],C[1],C[3]),z[3]=Qt(z[3],C[1],C[3])):z=$s(z,C)),!ed(z))this.state=ct.EMPTY;else{let K=0,B=0;t.canWrapX()&&(K=Ft(T),B=Math.floor((z[0]-T[0])/K)),pp(z.slice(),t,!0).forEach(j=>{const J=i.getTileRangeForExtentAndZ(j,this.sourceZ_);for(let rt=J.minX;rt<=J.maxX;rt++)for(let it=J.minY;it<=J.maxY;it++){const nt=B*K;this.sourceTiles_.push({getTile:()=>m(this.sourceZ_,rt,it,h),offset:nt})}++B}),this.sourceTiles_.length===0&&(this.state=ct.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(i=>{var r;const s=i.tile;if(s&&s.getState()==ct.LOADED){const u=this.sourceTileGrid_.getTileCoordExtent(s.tileCoord);u[0]+=i.offset,u[2]+=i.offset;const c=(r=this.clipExtent_)==null?void 0:r.slice();c&&(c[0]+=i.offset,c[2]+=i.offset),t.push({extent:u,clipExtent:c,image:s.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=ct.ERROR;else{const i=this.wrappedTileCoord_[0],s=this.targetTileGrid_.getTileSize(i),r=typeof s=="number"?s:s[0],u=typeof s=="number"?s:s[1],c=this.targetTileGrid_.getResolution(i),h=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=IC(r,u,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),c,d,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=ct.LOADED}this.changed()}load(){for(const t of this.sourceTiles_)t.tile=t.getTile();if(this.state==ct.IDLE){this.state=ct.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:i})=>{const s=i.getState();if(s==ct.IDLE||s==ct.LOADING){t++;const r=Mt(i,St.CHANGE,u=>{const c=i.getState();(c==ct.LOADED||c==ct.ERROR||c==ct.EMPTY)&&(Vt(r),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:i},s,r){i.getState()==ct.IDLE&&i.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Vt),this.sourcesListenerKeys_=null}release(){this.canvas_&&($u(this.canvas_.getContext("2d")),da.push(this.canvas_),this.canvas_=null),this.sourceTiles_.length=0,super.release()}}class Z0{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const t=this.pop();t instanceof Bu&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let i=this.oldest_;for(;i;)t(i.value_,i.key_,this),i=i.newer}get(t,i){const s=this.entries_[t];return Gt(s!==void 0,"Tried to get a value for a key that does not exist in the cache"),s===this.newest_||(s===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(s.newer.older=s.older,s.older.newer=s.newer),s.newer=null,s.older=this.newest_,this.newest_.newer=s,this.newest_=s),s.value_}remove(t){const i=this.entries_[t];return Gt(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_?(this.newest_=i.older,this.newest_&&(this.newest_.newer=null)):i===this.oldest_?(this.oldest_=i.newer,this.oldest_&&(this.oldest_.older=null)):(i.newer.older=i.older,i.older.newer=i.newer),delete this.entries_[t],--this.count_,i.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let i=0,s;for(s=this.newest_;s;s=s.older)t[i++]=s.key_;return t}getValues(){const t=new Array(this.count_);let i=0,s;for(s=this.newest_;s;s=s.older)t[i++]=s.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){var i;return(i=this.entries_[t])==null?void 0:i.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,i){this.get(t),this.entries_[t].value_=i}set(t,i){Gt(!(t in this.entries_),"Tried to set a value for a key that is used already");const s={key_:t,newer:null,older:this.newest_,value_:i};this.newest_?this.newest_.newer=s:this.oldest_=s,this.newest_=s,this.entries_[t]=s,++this.count_}setSize(t){this.highWaterMark=t}}function Xu(a,t,i,s){return s!==void 0?(s[0]=a,s[1]=t,s[2]=i,s):[a,t,i]}function YC(a,t,i){return a+"/"+t+"/"+i}function Au(a,t,i,s,r){return`${zt(a)},${t},${YC(i,s,r)}`}function XC(a){return FC(a[0],a[1],a[2])}function FC(a,t,i){return(t<<a)+i}function BC(a,t){const i=a[0],s=a[1],r=a[2];if(t.getMinZoom()>i||i>t.getMaxZoom())return!1;const u=t.getFullTileRange(i);return u?u.containsXY(s,r):!0}class dv{constructor(){vf(this,"pushMethodArgs_",(...t)=>(this.push_(t),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Gu(),{get:(t,i)=>{if(typeof Gu()[i]=="function")return this.push_(i),this.pushMethodArgs_},set:(t,i,s)=>(this.push_(i,s),!0)})}push_(...t){const i=this.instructions_,s=this.zIndex+this.offset_;i[s]||(i[s]=[]),i[s].push(...t)}pushFunction(t){this.push_(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(i=>{for(let s=0,r=i.length;s<r;++s){const u=i[s];if(typeof u=="function"){u(t);continue}const c=i[++s];if(typeof t[u]=="function")t[u](...c);else{if(typeof c=="function"){t[u]=c(t);continue}t[u]=c}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const HC=5;class jC extends jr{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=HC}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return Lt()}getData(t){return null}prepareFrame(t){return Lt()}renderFrame(t,i){return Lt()}forEachFeatureAtCoordinate(t,i,s,r,u){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const i=t.target;(i.getState()===pt.LOADED||i.getState()===pt.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let i=t.getState();return i!=pt.LOADED&&i!=pt.ERROR&&t.addEventListener(St.CHANGE,this.boundHandleImageChange_),i==pt.IDLE&&(t.load(),i=t.getState()),i==pt.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const P0=[];let la=null;function kC(){la=re(1,1,void 0,{willReadFrequently:!0})}class gv extends jC{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=Hn(),this.pixelTransform=Hn(),this.inversePixelTransform=Hn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,i,s){la||kC(),la.clearRect(0,0,1,1);let r;try{la.drawImage(t,i,s,1,1,0,0,1,1),r=la.getImageData(0,0,1,1).data}catch{return la=null,null}return r}getBackground(t){let s=this.getLayer().getBackground();return typeof s=="function"&&(s=s(t.viewState.resolution)),s||void 0}useContainer(t,i,s){const r=this.getLayer().getClassName();let u,c;if(t&&t.className===r&&(!s||t&&t.style.backgroundColor&&Rs(nl(t.style.backgroundColor),nl(s)))){const h=t.firstElementChild;vs(h)&&(c=h.getContext("2d"))}if(c&&nx(c.canvas.style.transform,i)?(this.container=t,this.context=c,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){u=Mn?Fp():document.createElement("div"),u.className=r;let h=u.style;h.position="absolute",h.width="100%",h.height="100%",c=re();const d=c.canvas;u.appendChild(d),h=d.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=u,this.context=c}!this.containerReused&&s&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=s)}clipUnrotated(t,i,s){const r=sl(s),u=qu(s),c=Ku(s),h=Pu(s);ye(i.coordinateToPixelTransform,r),ye(i.coordinateToPixelTransform,u),ye(i.coordinateToPixelTransform,c),ye(i.coordinateToPixelTransform,h);const d=this.inversePixelTransform;ye(d,r),ye(d,u),ye(d,c),ye(d,h),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(u[0]),Math.round(u[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(h[0]),Math.round(h[1])),t.clip()}prepareContainer(t,i){const s=t.extent,r=t.viewState.resolution,u=t.viewState.rotation,c=t.pixelRatio,h=Math.round(Ft(s)/r*c),d=Math.round(Ye(s)/r*c);Di(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,u,-h/2,-d/2),wp(this.inversePixelTransform,this.pixelTransform);const m=ex(this.pixelTransform);if(this.useContainer(i,m,this.getBackground(t)),!this.containerReused){const _=this.context.canvas;_.width!=h||_.height!=d?(_.width=h,_.height=d):this.context.clearRect(0,0,h,d),m!==_.style.transform&&(_.style.transform=m)}}dispatchRenderEvent_(t,i,s){const r=this.getLayer();if(r.hasListener(t)){const u=new ov(t,this.inversePixelTransform,s,i);r.dispatchEvent(u)}}preRender(t,i){this.frameState=i,!i.declutter&&this.dispatchRenderEvent_(wn.PRERENDER,t,i)}postRender(t,i){i.declutter||this.dispatchRenderEvent_(wn.POSTRENDER,t,i)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new dv),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(wn.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(wn.POSTRENDER,this.context,t))}getRenderTransform(t,i,s,r,u,c,h){const d=u/2,m=c/2,_=r/i,p=-_,v=-t[0]+h,S=-t[1];return Di(this.tempTransform,d,m,_,p,-s,v,S)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function Kf(a,t,i){if(!(i in a))return a[i]=new Set([t]),!0;const s=a[i],r=s.has(t);return r||s.add(t),!r}function ZC(a,t,i){const s=a[i];return s?s.delete(t):!1}function K0(a,t){const i=a.layerStatesArray[a.layerIndex];i.extent&&(t=$s(t,ps(i.extent,a.viewState.projection)));const s=i.layer.getRenderSource();if(!s.getWrapX()){const r=s.getTileGridForProjection(a.viewState.projection).getExtent();r&&(t=$s(t,r))}return t}class PC extends gv{constructor(t,i){super(t),i=i||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Ln(),this.tempTileRange_=new Vd(0,0,0,0),this.tempTileCoord_=Xu(0,0,0);const s=i.cacheSize!==void 0?i.cacheSize:512;this.tileCache_=new Z0(s),this.sourceTileCache_=null,this.maxStaleKeys=s*.5}getTileCache(){return this.tileCache_}getSourceTileCache(){return this.sourceTileCache_||(this.sourceTileCache_=new Z0(512)),this.sourceTileCache_}getOrCreateTile(t,i,s,r){const u=this.tileCache_,h=this.getLayer().getSource(),d=Au(h,h.getKey(),t,i,s);let m;if(u.containsKey(d))m=u.get(d);else{const _=r.viewState.projection,p=h.getProjection();if(m=h.getTile(t,i,s,r.pixelRatio,_,!p||bu(p,_)?void 0:this.getSourceTileCache()),!m)return null;u.set(d,m)}return m}getTile(t,i,s,r){const u=this.getOrCreateTile(t,i,s,r);return u||null}getData(t){const i=this.frameState;if(!i)return null;const s=this.getLayer(),r=ye(i.pixelToCoordinateTransform,t.slice()),u=s.getExtent();if(u&&!_a(u,r))return null;const c=i.viewState,h=s.getRenderSource(),d=h.getTileGridForProjection(c.projection),m=h.getTilePixelRatio(i.pixelRatio);for(let _=d.getZForResolution(c.resolution);_>=d.getMinZoom();--_){const p=d.getTileCoordForCoordAndZ(r,_),v=this.getTile(_,p[1],p[2],i);if(!v||v.getState()!==ct.LOADED)continue;const S=d.getOrigin(_),x=Je(d.getTileSize(_)),C=d.getResolution(_);let R;if(v instanceof hv||v instanceof fv)R=v.getImage();else if(v instanceof B0){if(R=gd(v.getData()),!R)continue}else continue;const T=Math.floor(m*((r[0]-S[0])/C-p[1]*x[0])),w=Math.floor(m*((S[1]-r[1])/C-p[2]*x[1])),D=Math.round(m*h.getGutterForProjection(c.projection));return this.getImageData(R,T+D,w+D)}return null}prepareFrame(t){var r;this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;const i=this.getLayer().getSource();if(!i)return!1;const s=i.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==s&&(this.renderedSourceRevision_=s,this.renderedSourceKey_===i.getKey()&&(this.tileCache_.clear(),(r=this.sourceTileCache_)==null||r.clear())):this.renderedSourceRevision_=s,!0}enqueueTilesForNextExtent(){return!0}enqueueTiles(t,i,s,r,u){const c=t.viewState,h=this.getLayer(),d=h.getRenderSource(),m=d.getTileGridForProjection(c.projection),_=zt(d);_ in t.wantedTiles||(t.wantedTiles[_]={});const p=t.wantedTiles[_],v=h.getMapInternal(),S=Math.max(s-u,m.getMinZoom(),m.getZForResolution(Math.min(h.getMaxResolution(),v?v.getView().getResolutionForZoom(Math.max(h.getMinZoom(),0)):m.getResolution(0)),d.zDirection)),x=c.rotation,C=x?_p(c.center,c.resolution,x,t.size):void 0;for(let R=s;R>=S;--R){const T=m.getTileRangeForExtentAndZ(i,R,this.tempTileRange_),w=m.getResolution(R);for(let D=T.minX;D<=T.maxX;++D)for(let M=T.minY;M<=T.maxY;++M){if(x&&!m.tileCoordIntersectsViewport([R,D,M],C))continue;const z=this.getTile(R,D,M,t);if(!z||!Kf(r,z,R))continue;const B=z.getKey();if(p[B]=!0,z.getState()===ct.IDLE&&!t.tileQueue.isKeyQueued(B)){const V=Xu(R,D,M,this.tempTileCoord_);t.tileQueue.enqueue([z,_,m.getTileCoordCenter(V),w])}}}}findStaleTile_(t,i){const s=this.tileCache_,r=t[0],u=t[1],c=t[2],h=this.getStaleKeys();for(let d=0;d<h.length;++d){const m=Au(this.getLayer().getSource(),h[d],r,u,c);if(s.containsKey(m)){const _=s.peek(m);if(_.getState()===ct.LOADED)return _.endTransition(zt(this)),Kf(i,_,r),!0}}return!1}findAltTiles_(t,i,s,r){const u=t.getTileRangeForTileCoordAndZ(i,s,this.tempTileRange_);if(!u)return!1;let c=!0;const h=this.tileCache_,d=this.getLayer().getRenderSource(),m=d.getKey();for(let _=u.minX;_<=u.maxX;++_)for(let p=u.minY;p<=u.maxY;++p){const v=Au(d,m,s,_,p);let S=!1;if(h.containsKey(v)){const x=h.peek(v);x.getState()===ct.LOADED&&(Kf(r,x,s),S=!0)}S||(c=!1)}return c}renderFrame(t,i){this.renderComplete=!0;const s=t.layerStatesArray[t.layerIndex],r=t.viewState,u=r.projection,c=r.resolution,h=r.center,d=t.pixelRatio,m=this.getLayer(),_=m.getSource(),p=_.getTileGridForProjection(u),v=p.getZForResolution(c,_.zDirection),S=p.getResolution(v),x=_.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==x&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=x):this.renderedSourceKey_=x;let C=t.extent;const R=_.getTilePixelRatio(d);this.prepareContainer(t,i);const T=this.context.canvas.width,w=this.context.canvas.height,D=s.extent&&ps(s.extent);D&&(C=$s(C,ps(s.extent)));const M=S*T/2/R,z=S*w/2/R,K=[h[0]-M,h[1]-z,h[0]+M,h[1]+z],B={};this.renderedTiles.length=0;const V=m.getPreload();if(t.nextExtent&&this.enqueueTilesForNextExtent()){const Q=p.getZForResolution(r.nextResolution,_.zDirection),tt=K0(t,t.nextExtent);this.enqueueTiles(t,tt,Q,B,V)}const j=K0(t,C);if(this.enqueueTiles(t,j,v,B,0),V>0&&setTimeout(()=>{this.enqueueTiles(t,j,v-1,B,V-1)},0),!(v in B))return this.container;const J=zt(this),rt=t.time;for(const Q of B[v]){const tt=Q.getState();if(tt===ct.EMPTY)continue;const lt=Q.tileCoord;if(tt===ct.LOADED&&Q.getAlpha(J,rt)===1){Q.endTransition(J);continue}if(tt!==ct.ERROR&&(this.renderComplete=!1),this.findStaleTile_(lt,B)){ZC(B,Q,v),t.animate=!0;continue}if(this.findAltTiles_(p,lt,v+1,B))continue;const W=p.getMinZoom();for(let $=v-1;$>=W&&!this.findAltTiles_(p,lt,$,B);--$);}const it=S/c*d/R,nt=this.getRenderContext(t);Di(this.tempTransform,T/2,w/2,it,it,0,-T/2,-w/2),s.extent&&this.clipUnrotated(nt,t,D),_.getInterpolate()||(nt.imageSmoothingEnabled=!1),this.preRender(nt,t);const ft=Object.keys(B).map(Number);ft.sort(Mi);let et;const I=[],k=[];for(let Q=ft.length-1;Q>=0;--Q){const tt=ft[Q],lt=_.getTilePixelSize(tt,d,u),Y=p.getResolution(tt)/S,W=lt[0]*Y*it,$=lt[1]*Y*it,F=p.getTileCoordForCoordAndZ(sl(K),tt),dt=p.getTileCoordExtent(F),gt=ye(this.tempTransform,[R*(dt[0]-K[0])/S,R*(K[3]-dt[3])/S]),kt=R*_.getGutterForProjection(u);for(const wt of B[tt]){if(wt.getState()!==ct.LOADED)continue;const ce=wt.tileCoord,Zn=F[1]-ce[1],Ii=Math.round(gt[0]-(Zn-1)*W),Ni=F[2]-ce[2],zn=Math.round(gt[1]-(Ni-1)*$),Xe=Math.round(gt[0]-Zn*W),Le=Math.round(gt[1]-Ni*$),fn=Ii-Xe,In=zn-Le,Gi=ft.length===1;let si=!1;et=[Xe,Le,Xe+fn,Le,Xe+fn,Le+In,Xe,Le+In];for(let Pn=0,al=I.length;Pn<al;++Pn)if(!Gi&&tt<k[Pn]){const he=I[Pn];Qe([Xe,Le,Xe+fn,Le+In],[he[0],he[3],he[4],he[7]])&&(si||(nt.save(),si=!0),nt.beginPath(),nt.moveTo(et[0],et[1]),nt.lineTo(et[2],et[3]),nt.lineTo(et[4],et[5]),nt.lineTo(et[6],et[7]),nt.moveTo(he[6],he[7]),nt.lineTo(he[4],he[5]),nt.lineTo(he[2],he[3]),nt.lineTo(he[0],he[1]),nt.clip())}I.push(et),k.push(tt),this.drawTile(wt,t,Xe,Le,fn,In,kt,Gi),si&&nt.restore(),this.renderedTiles.unshift(wt),this.updateUsedTiles(t.usedTiles,_,wt)}}if(this.renderedResolution=S,this.extentChanged=!this.renderedExtent_||!Lr(this.renderedExtent_,K),this.renderedExtent_=K,this.renderedPixelRatio=d,this.postRender(this.context,t),s.extent&&nt.restore(),nt.imageSmoothingEnabled=!0,this.renderComplete){const Q=(tt,lt)=>{var $;const b=zt(_),Y=lt.wantedTiles[b],W=Y?Object.keys(Y).length:0;this.updateCacheSize(W),this.tileCache_.expireCache(),($=this.sourceTileCache_)==null||$.expireCache()};t.postRenderFunctions.push(Q)}return this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,t*2)}drawTile(t,i,s,r,u,c,h,d){let m;if(t instanceof B0){if(m=gd(t.getData()),!m)throw new Error("Rendering array data is not yet supported")}else m=this.getTileImage(t);if(!m)return;const _=this.getRenderContext(i),p=zt(this),v=i.layerStatesArray[i.layerIndex],S=v.opacity*(d?t.getAlpha(p,i.time):1),x=S!==_.globalAlpha;x&&(_.save(),_.globalAlpha=S),_.drawImage(m,h,h,m.width-2*h,m.height-2*h,s,r,u,c),x&&_.restore(),S!==v.opacity?i.animate=!0:d&&t.endTransition(p)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,i,s){const r=zt(i);r in t||(t[r]={}),t[r][s.getKey()]=!0}}const Cu={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class KC extends tc{constructor(t){t=t||{};const i=Object.assign({},t),s=t.cacheSize;delete t.cacheSize,delete i.preload,delete i.useInterimTilesOnError,super(i),this.on,this.once,this.un,this.cacheSize_=s,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Cu.PRELOAD)}setPreload(t){this.set(Cu.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(Cu.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(Cu.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}class qC extends KC{constructor(t){super(t)}createRenderer(){return new PC(this,{cacheSize:this.getCacheSize()})}}const ta=[0,0,0],fs=5;class mv{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,Gt(JE(this.resolutions_,(r,u)=>u-r),"`resolutions` must be sorted in descending order");let i;if(!t.origins){for(let r=0,u=this.resolutions_.length-1;r<u;++r)if(!i)i=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==i){i=void 0;break}}this.zoomFactor_=i,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,Gt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const s=t.extent;s!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=sl(s)),Gt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,Gt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:Gd,Gt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=s!==void 0?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((r,u)=>{const c=new Vd(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(s){const h=this.getTileRangeForExtentAndZ(s,u);c.minX=Math.max(h.minX,c.minX),c.maxX=Math.min(h.maxX,c.maxX),c.minY=Math.max(h.minY,c.minY),c.maxY=Math.min(h.maxY,c.maxY)}return c}):s&&this.calculateTileRanges_(s)}forEachTileCoord(t,i,s){const r=this.getTileRangeForExtentAndZ(t,i);for(let u=r.minX,c=r.maxX;u<=c;++u)for(let h=r.minY,d=r.maxY;h<=d;++h)s([i,u,h])}forEachTileCoordParentTileRange(t,i,s,r){let u,c,h,d=null,m=t[0]-1;for(this.zoomFactor_===2?(c=t[1],h=t[2]):d=this.getTileCoordExtent(t,r);m>=this.minZoom;){if(c!==void 0&&h!==void 0?(c=Math.floor(c/2),h=Math.floor(h/2),u=$l(c,c,h,h,s)):u=this.getTileRangeForExtentAndZ(d,m,s),i(m,u))return!0;--m}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getOrigins(){return this.origins_}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,i,s){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const u=t[1]*2,c=t[2]*2;return $l(u,u+1,c,c+1,i)}const r=this.getTileCoordExtent(t,s||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,i)}return null}getTileRangeForTileCoordAndZ(t,i,s){if(i>this.maxZoom||i<this.minZoom)return null;const r=t[0],u=t[1],c=t[2];if(i===r)return $l(u,c,u,c,s);if(this.zoomFactor_){const d=Math.pow(this.zoomFactor_,i-r),m=Math.floor(u*d),_=Math.floor(c*d);if(i<r)return $l(m,m,_,_,s);const p=Math.floor(d*(u+1))-1,v=Math.floor(d*(c+1))-1;return $l(m,p,_,v,s)}const h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,i,s)}getTileRangeForExtentAndZ(t,i,s){this.getTileCoordForXYAndZ_(t[0],t[3],i,!1,ta);const r=ta[1],u=ta[2];this.getTileCoordForXYAndZ_(t[2],t[1],i,!0,ta);const c=ta[1],h=ta[2];return $l(r,c,u,h,s)}getTileCoordCenter(t){const i=this.getOrigin(t[0]),s=this.getResolution(t[0]),r=Je(this.getTileSize(t[0]),this.tmpSize_);return[i[0]+(t[1]+.5)*r[0]*s,i[1]-(t[2]+.5)*r[1]*s]}getTileCoordExtent(t,i){const s=this.getOrigin(t[0]),r=this.getResolution(t[0]),u=Je(this.getTileSize(t[0]),this.tmpSize_),c=s[0]+t[1]*u[0]*r,h=s[1]-(t[2]+1)*u[1]*r,d=c+u[0]*r,m=h+u[1]*r;return Cs(c,h,d,m,i)}getTileCoordForCoordAndResolution(t,i,s){return this.getTileCoordForXYAndResolution_(t[0],t[1],i,!1,s)}getTileCoordForXYAndResolution_(t,i,s,r,u){const c=this.getZForResolution(s),h=s/this.getResolution(c),d=this.getOrigin(c),m=Je(this.getTileSize(c),this.tmpSize_);let _=h*(t-d[0])/s/m[0],p=h*(d[1]-i)/s/m[1];return r?(_=_u(_,fs)-1,p=_u(p,fs)-1):(_=mu(_,fs),p=mu(p,fs)),Xu(c,_,p,u)}getTileCoordForXYAndZ_(t,i,s,r,u){const c=this.getOrigin(s),h=this.getResolution(s),d=Je(this.getTileSize(s),this.tmpSize_);let m=(t-c[0])/h/d[0],_=(c[1]-i)/h/d[1];return r?(m=_u(m,fs)-1,_=_u(_,fs)-1):(m=mu(m,fs),_=mu(_,fs)),Xu(s,m,_,u)}getTileCoordForCoordAndZ(t,i,s){return this.getTileCoordForXYAndZ_(t[0],t[1],i,!1,s)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,i){const s=_d(this.resolutions_,t,i||0);return Qt(s,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,i){return Yp(i,0,i.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const i=this.resolutions_.length,s=new Array(i);for(let r=this.minZoom;r<i;++r)s[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=s}}function _v(a){let t=a.getDefaultTileGrid();return t||(t=JC(a),a.setDefaultTileGrid(t)),t}function VC(a,t,i){const s=t[0],r=a.getTileCoordCenter(t),u=Wd(i);if(!_a(u,r)){const c=Ft(u),h=Math.ceil((u[0]-r[0])/c);return r[0]+=c*h,a.getTileCoordForCoordAndZ(r,s)}return t}function WC(a,t,i,s){s=s!==void 0?s:"top-left";const r=yv(a,t,i);return new mv({extent:a,origin:gS(a,s),resolutions:r,tileSize:i})}function QC(a){const t=a||{},i=t.extent||$e("EPSG:3857").getExtent(),s={extent:i,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:yv(i,t.maxZoom,t.tileSize,t.maxResolution)};return new mv(s)}function yv(a,t,i,s){t=t!==void 0?t:Ax,i=Je(i!==void 0?i:Gd);const r=Ye(a),u=Ft(a);s=s>0?s:Math.max(u/i[0],r/i[1]);const c=t+1,h=new Array(c);for(let d=0;d<c;++d)h[d]=s/Math.pow(2,d);return h}function JC(a,t,i,s){const r=Wd(a);return WC(r,t,i,s)}function Wd(a){a=$e(a);let t=a.getExtent();if(!t){const i=180*Sd.degrees/a.getMetersPerUnit();t=Cs(-i,-i,i,i)}return t}const $C=/\{z\}/g,tR=/\{x\}/g,eR=/\{y\}/g,nR=/\{-y\}/g;function iR(a,t,i,s,r){return a.replace($C,t.toString()).replace(tR,i.toString()).replace(eR,s.toString()).replace(nR,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-s).toString()})}function sR(a){const t=[];let i=/\{([a-z])-([a-z])\}/.exec(a);if(i){const s=i[1].charCodeAt(0),r=i[2].charCodeAt(0);let u;for(u=s;u<=r;++u)t.push(a.replace(i[0],String.fromCharCode(u)));return t}if(i=/\{(\d+)-(\d+)\}/.exec(a),i){const s=parseInt(i[2],10);for(let r=parseInt(i[1],10);r<=s;r++)t.push(a.replace(i[0],r.toString()));return t}return t.push(a),t}function lR(a,t){return(function(i,s,r){if(!i)return;let u;const c=i[0];if(t){const h=t.getFullTileRange(c);h&&(u=h.getHeight()-1)}return iR(a,c,i[1],i[2],u)})}function aR(a,t){const i=a.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=lR(a[r],t);return rR(s)}function rR(a){return a.length===1?a[0]:(function(t,i,s){if(!t)return;const r=XC(t),u=ca(r,a.length);return a[u](t,i,s)})}class pv extends kn{constructor(t){super(),this.projection=$e(t.projection),this.attributions_=q0(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const i=this;this.viewPromise_=new Promise(function(s,r){i.viewResolver=s,i.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=q0(t),this.changed()}setState(t){this.state_=t,this.changed()}}function q0(a){return a?typeof a=="function"?a:(Array.isArray(a)||(a=[a]),t=>a):null}class oR extends pv{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const i=[256,256];this.tileGrid&&Je(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),i),this.tmpSize=[0,0],this.key_=t.key||zt(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const i=t?this.getTileGridForProjection(t):this.tileGrid;return i?i.getResolutions():null}getTile(t,i,s,r,u,c){return Lt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:_v(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,i,s){const r=this.getTileGridForProjection(s),u=this.getTilePixelRatio(i),c=Je(r.getTileSize(t),this.tmpSize);return u==1?c:CT(c,u,this.tmpSize)}getTileCoordForTileUrlFunction(t,i){const s=i!==void 0?i:this.getProjection(),r=i!==void 0?this.getTileGridForProjection(s):this.tileGrid||this.getTileGridForProjection(s);return this.getWrapX()&&s.isGlobal()&&(t=VC(r,t,s)),BC(t,r)?t:null}clear(){}refresh(){this.clear(),super.refresh()}}class uR extends Li{constructor(t,i){super(t),this.tile=i}}const qf={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class Qd extends oR{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Qd.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const i=t.target,s=zt(i),r=i.getState();let u;r==ct.LOADING?(this.tileLoadingKeys_[s]=!0,u=qf.TILELOADSTART):s in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[s],u=r==ct.ERROR?qf.TILELOADERROR:r==ct.LOADED?qf.TILELOADEND:void 0),u!=null&&this.dispatchEvent(new uR(u,i))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,i){this.tileUrlFunction=t,typeof i<"u"?this.setKey(i):this.changed()}setUrl(t){const i=sR(t);this.urls=i,this.setUrls(i)}setUrls(t){this.urls=t;const i=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(aR(t,this.tileGrid),i):this.setKey(i)}tileUrlFunction(t,i,s){}}class cR extends Qd{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:hR,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.referrerPolicy=t.referrerPolicy,this.tileClass=t.tileClass!==void 0?t.tileClass:hv,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!bu(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const i=this.getProjection();if(this.tileGrid&&(!i||bu(i,t)))return this.tileGrid;const s=zt(t);return s in this.tileGridForProjection||(this.tileGridForProjection[s]=_v(t)),this.tileGridForProjection[s]}createTile_(t,i,s,r,u,c){const h=[t,i,s],d=this.getTileCoordForTileUrlFunction(h,u),m=d?this.tileUrlFunction(d,r,u):void 0,_=new this.tileClass(h,m!==void 0?ct.IDLE:ct.EMPTY,m!==void 0?m:"",{crossOrigin:this.crossOrigin,referrerPolicy:this.referrerPolicy},this.tileLoadFunction,this.tileOptions);return _.key=c,_.addEventListener(St.CHANGE,this.handleTileChange.bind(this)),_}getTile(t,i,s,r,u,c){const h=this.getProjection();if(!h||!u||bu(h,u))return this.getTileInternal(t,i,s,r,h||u);const d=[t,i,s],m=this.getKey(),_=this.getTileGridForProjection(h),p=this.getTileGridForProjection(u),v=this.getTileCoordForTileUrlFunction(d,u),S=new fv(h,_,u,p,d,v,this.getTilePixelRatio(r),this.getGutter(),(x,C,R,T)=>this.getTileInternal(x,C,R,T,h,c),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return S.key=m,S}getTileInternal(t,i,s,r,u,c){const h=this.getKey(),d=Au(this,h,t,i,s);if(c&&c.containsKey(d))return c.get(d);const m=this.createTile_(t,i,s,r,u,h);return c==null||c.set(d,m),m}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,i){const s=$e(t);if(s){const r=zt(s);r in this.tileGridForProjection||(this.tileGridForProjection[r]=i)}}}function hR(a,t){if(Mn){const i=a.getCrossOrigin();let s="same-origin",r="same-origin";i==="anonymous"||i===""?(s="cors",r="omit"):i==="use-credentials"&&(s="cors",r="include");const u={mode:s,credentials:r,referrerPolicy:a.getReferrerPolicy()};fetch(t,u).then(c=>{if(!c.ok)throw new Error(`HTTP ${c.status}`);return c.blob()}).then(c=>createImageBitmap(c)).then(c=>{var m;const h=a.getImage();h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0),(m=c.close)==null||m.call(c),h.dispatchEvent(new Event("load"))}).catch(()=>{a.getImage().dispatchEvent(new Event("error"))});return}a.getImage().src=t}class fR extends cR{constructor(t){t=t||{};const i=t.projection!==void 0?t.projection:"EPSG:3857",s=t.tileGrid!==void 0?t.tileGrid:QC({extent:Wd(i),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,interpolate:t.interpolate,projection:i,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const dR='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class gR extends fR{constructor(t){t=t||{};let i;t.attributions!==void 0?i=t.attributions:i=[dR];const s=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:i,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin!==void 0?t.crossOrigin:"anonymous",referrerPolicy:t.referrerPolicy||"origin-when-cross-origin",interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:s,wrapX:t.wrapX,zDirection:t.zDirection})}}class Jd extends kn{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const i=t;this.setGeometry(i)}else{const i=t;this.setProperties(i)}}clone(){const t=new Jd(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const i=this.getGeometry();i&&t.setGeometry(i.clone());const s=this.getStyle();return s&&t.setStyle(s),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Vt(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=Mt(t,St.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?mR(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function mR(a){if(typeof a=="function")return a;let t;return Array.isArray(a)?t=a:(Gt(typeof a.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[a]),function(){return t}}function V0(a,t,i,s,r,u,c){let h,d;const m=(i-t)/s;if(m===1)h=t;else if(m===2)h=t,d=r;else if(m!==0){let _=a[t],p=a[t+1],v=0;const S=[0];for(let R=t+s;R<i;R+=s){const T=a[R],w=a[R+1];v+=Math.sqrt((T-_)*(T-_)+(w-p)*(w-p)),S.push(v),_=T,p=w}const x=r*v,C=VE(S,x);C<0?(d=(x-S[-C-2])/(S[-C-1]-S[-C-2]),h=t+(-C-2)*s):h=t+C*s}c=c>1?c:2,u=u||new Array(c);for(let _=0;_<c;++_)u[_]=h===void 0?NaN:d===void 0?a[h+_]:bn(a[h+_],a[h+s+_],d);return u}function _R(a,t,i,s){let r=a[t],u=a[t+1],c=0;for(let h=t+s;h<i;h+=s){const d=a[h],m=a[h+1];c+=Math.sqrt((d-r)*(d-r)+(m-u)*(m-u)),r=d,u=m}return c}function yR(a,t,i,s,r,u){r=r??[],u=u??t;const c=a[0],h=a[1],d=a[a.length-4],m=a[a.length-3];let _,p,v,S,x,C,R,T,w=0;for(let D=0;D<a.length;D+=t){v=_,S=p,x=void 0,C=void 0,D+t<a.length&&(x=a[D+t],C=a[D+t+1]),s&&D===0&&(v=d,S=m),s&&D===a.length-2&&(x=c,C=h),_=a[D],p=a[D+1],[R,T]=Mu(_,p,v,S,x,C,i),r[w++]=R,r[w++]=T;for(let M=2;M<u;M++)r[w++]=a[D+M]}return r.length!=w&&(r.length=w),r}function Mu(a,t,i,s,r,u,c){let h,d;i!==void 0&&s!==void 0?(h=a-i,d=t-s):r!==void 0&&u!==void 0?(h=r-a,d=u-t):(h=1,d=0);const m=Math.hypot(h,d),_=h/m,p=d/m;if(h=-p,d=_,i===void 0||s===void 0)return[a+h*c,t+d*c];if(r===void 0||u===void 0)return[a+h*c,t+d*c];const v=ES([a,t],[i,s],[r,u]);if(Math.cos(v)>.998)return[a+_*c,t+p*c];const S=Math.cos(v/2),x=Math.sin(v/2),C=x*h+S*d,R=-S*h+x*d,T=C*(1/x),w=R*(1/x);return[a+T*c,t+w*c]}class vv{drawCustom(t,i,s,r,u){}drawGeometry(t){}setStyle(t){}drawCircle(t,i,s){}drawFeature(t,i,s){}drawGeometryCollection(t,i,s){}drawLineString(t,i,s){}drawMultiLineString(t,i,s){}drawMultiPoint(t,i,s){}drawMultiPolygon(t,i,s){}drawPoint(t,i,s){}drawPolygon(t,i,s){}drawText(t,i,s){}setFillStrokeStyle(t,i){}setImageStyle(t,i){}setTextStyle(t,i){}}class pR extends vv{constructor(t,i,s,r,u,c,h){super(),this.context_=t,this.pixelRatio_=i,this.extent_=s,this.transform_=r,this.transformRotation_=r?ku(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=u,this.squaredTolerance_=c,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Hn()}drawImages_(t,i,s,r){if(!this.image_)return;const u=xs(t,i,s,r,this.transform_,this.pixelCoordinates_),c=this.context_,h=this.tmpLocalTransform_,d=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=d*this.imageOpacity_);let m=this.imageRotation_;this.transformRotation_===0&&(m-=this.viewRotation_),this.imageRotateWithView_&&(m+=this.viewRotation_);for(let _=0,p=u.length;_<p;_+=2){const v=u[_]-this.imageAnchorX_,S=u[_+1]-this.imageAnchorY_;if(m!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const x=v+this.imageAnchorX_,C=S+this.imageAnchorY_;Di(h,x,C,1,1,m,-x,-C),c.save(),c.transform.apply(c,h),c.translate(x,C),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.restore()}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,v,S,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=d)}drawText_(t,i,s,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const u=xs(t,i,s,r,this.transform_,this.pixelCoordinates_),c=this.context_;let h=this.textRotation_;for(this.transformRotation_===0&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);i<s;i+=r){const d=u[i]+this.textOffsetX_,m=u[i+1]+this.textOffsetY_;h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(c.save(),c.translate(d-this.textOffsetX_,m-this.textOffsetY_),c.rotate(h),c.translate(this.textOffsetX_,this.textOffsetY_),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.restore()):(this.textStrokeState_&&c.strokeText(this.text_,d,m),this.textFillState_&&c.fillText(this.text_,d,m))}}moveToLineTo_(t,i,s,r,u,c){const h=this.context_;let d=xs(t,i,s,r,this.transform_,this.pixelCoordinates_);Math.abs(c)>0&&(d=yR(d,r,c,u,d)),h.moveTo(d[0],d[1]);let m=d.length;u&&(m-=2);for(let _=2;_<m;_+=2)h.lineTo(d[_],d[_+1]);return u&&h.closePath(),s}drawRings_(t,i,s,r,u){for(let c=0,h=s.length;c<h;++c)i=this.moveToLineTo_(t,i,s[c],r,!0,u);return i}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const i=ox(t,this.transform_,this.pixelCoordinates_),s=i[2]-i[0],r=i[3]-i[1],u=Math.sqrt(s*s+r*r),c=this.context_;c.beginPath(),c.arc(i[0],i[1],u,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,i){const s=i.getGeometryFunction()(t);s&&(this.setStyle(i),this.drawGeometry(s))}drawGeometryCollection(t){const i=t.getGeometriesArray();for(let s=0,r=i.length;s<r;++s)this.drawGeometry(i[s])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const i=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(i,0,i.length,s),this.text_!==""&&this.drawText_(i,0,i.length,s)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const i=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(i,0,i.length,s),this.text_!==""&&this.drawText_(i,0,i.length,s)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,s=t.getFlatCoordinates();i.beginPath(),this.moveToLineTo_(s,0,s.length,t.getStride(),!1,this.strokeState_.strokeOffset),i.stroke()}if(this.text_!==""){const i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const i=t.getExtent();if(Qe(this.extent_,i)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const s=this.context_,r=t.getFlatCoordinates();let u=0;const c=t.getEnds(),h=t.getStride();s.beginPath();for(let d=0,m=c.length;d<m;++d)u=this.moveToLineTo_(r,u,c[d],h,!1,this.strokeState_.strokeOffset);s.stroke()}if(this.text_!==""){const s=t.getFlatMidpoints();this.drawText_(s,0,s.length,2)}}}drawPolygon(t){var i;if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const s=this.context_;s.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride(),(i=this.strokeState_)==null?void 0:i.strokeOffset),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}if(this.text_!==""){const s=t.getFlatInteriorPoint();this.drawText_(s,0,2,2)}}}drawMultiPolygon(t){var i;if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const s=this.context_,r=t.getOrientedFlatCoordinates();let u=0;const c=t.getEndss(),h=t.getStride();s.beginPath();for(let d=0,m=c.length;d<m;++d){const _=c[d];u=this.drawRings_(r,u,_,h,(i=this.strokeState_)==null?void 0:i.strokeOffset)}this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}if(this.text_!==""){const s=t.getFlatInteriorPoints();this.drawText_(s,0,s.length,2)}}}setContextFillState_(t){const i=this.context_,s=this.contextFillState_;s?s.fillStyle!=t.fillStyle&&(s.fillStyle=t.fillStyle,i.fillStyle=t.fillStyle):(i.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const i=this.context_,s=this.contextStrokeState_;s?(s.lineCap!=t.lineCap&&(s.lineCap=t.lineCap,i.lineCap=t.lineCap),Rs(s.lineDash,t.lineDash)||i.setLineDash(s.lineDash=t.lineDash),s.lineDashOffset!=t.lineDashOffset&&(s.lineDashOffset=t.lineDashOffset,i.lineDashOffset=t.lineDashOffset),s.lineJoin!=t.lineJoin&&(s.lineJoin=t.lineJoin,i.lineJoin=t.lineJoin),s.lineWidth!=t.lineWidth&&(s.lineWidth=t.lineWidth,i.lineWidth=t.lineWidth),s.miterLimit!=t.miterLimit&&(s.miterLimit=t.miterLimit,i.miterLimit=t.miterLimit),s.strokeStyle!=t.strokeStyle&&(s.strokeStyle=t.strokeStyle,i.strokeStyle=t.strokeStyle)):(i.lineCap=t.lineCap,i.setLineDash(t.lineDash),i.lineDashOffset=t.lineDashOffset,i.lineJoin=t.lineJoin,i.lineWidth=t.lineWidth,i.miterLimit=t.miterLimit,i.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const i=this.context_,s=this.contextTextState_,r=t.textAlign?t.textAlign:Yr;s?(s.font!=t.font&&(s.font=t.font,i.font=t.font),s.textAlign!=r&&(s.textAlign=r,i.textAlign=r),s.textBaseline!=t.textBaseline&&(s.textBaseline=t.textBaseline,i.textBaseline=t.textBaseline)):(i.font=t.font,i.textAlign=r,i.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})}setFillStrokeStyle(t,i){if(!t)this.fillState_=null;else{const s=t.getColor();this.fillState_={fillStyle:ni(s||We)}}if(!i)this.strokeState_=null;else{const s=i.getColor(),r=i.getLineCap(),u=i.getLineDash(),c=i.getLineDashOffset(),h=i.getLineJoin(),d=i.getWidth(),m=i.getMiterLimit(),_=u||wi,p=i.getOffset();this.strokeState_={lineCap:r!==void 0?r:pa,lineDash:this.pixelRatio_===1?_:_.map(v=>v*this.pixelRatio_),lineDashOffset:(c||Oi)*this.pixelRatio_,lineJoin:h!==void 0?h:va,lineWidth:(d!==void 0?d:Xr)*this.pixelRatio_,miterLimit:m!==void 0?m:Gr,strokeStyle:ni(s||Ur),strokeOffset:(p??0)*this.pixelRatio_}}}setImageStyle(t){let i;if(!t||!(i=t.getSize())){this.image_=null;return}const s=t.getPixelRatio(this.pixelRatio_),r=t.getAnchor(),u=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*s,this.imageAnchorY_=r[1]*s,this.imageHeight_=i[1]*s,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=u[0],this.imageOriginY_=u[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const c=t.getScaleArray();this.imageScale_=[c[0]*this.pixelRatio_/s,c[1]*this.pixelRatio_/s],this.imageWidth_=i[0]*s}setTextStyle(t){if(!t)this.text_="";else{const i=t.getFill();if(!i)this.textFillState_=null;else{const S=i.getColor();this.textFillState_={fillStyle:ni(S||We)}}const s=t.getStroke();if(!s)this.textStrokeState_=null;else{const S=s.getColor(),x=s.getLineCap(),C=s.getLineDash(),R=s.getLineDashOffset(),T=s.getLineJoin(),w=s.getWidth(),D=s.getMiterLimit();this.textStrokeState_={lineCap:x!==void 0?x:pa,lineDash:C||wi,lineDashOffset:R||Oi,lineJoin:T!==void 0?T:va,lineWidth:w!==void 0?w:Xr,miterLimit:D!==void 0?D:Gr,strokeStyle:ni(S||Ur)}}const r=t.getFont(),u=t.getOffsetX(),c=t.getOffsetY(),h=t.getRotateWithView(),d=t.getRotation(),m=t.getScaleArray(),_=t.getText(),p=t.getTextAlign(),v=t.getTextBaseline();this.textState_={font:r!==void 0?r:$p,textAlign:p!==void 0?p:Yr,textBaseline:v!==void 0?v:Uu},this.text_=_!==void 0?Array.isArray(_)?_.reduce((S,x,C)=>S+=C%2?" ":x,""):_:"",this.textOffsetX_=u!==void 0?this.pixelRatio_*u:0,this.textOffsetY_=c!==void 0?this.pixelRatio_*c:0,this.textRotateWithView_=h!==void 0?h:!1,this.textRotation_=d!==void 0?d:0,this.textScale_=[this.pixelRatio_*m[0],this.pixelRatio_*m[1]]}}}const vR=.5,Ev={Point:AR,LineString:CR,Polygon:wR,MultiPoint:MR,MultiLineString:RR,MultiPolygon:bR,GeometryCollection:TR,Circle:SR};function ER(a,t){return parseInt(zt(a),10)-parseInt(zt(t),10)}function W0(a,t){const i=Sv(a,t);return i*i}function Sv(a,t){return vR*a/t}function SR(a,t,i,s,r){const u=i.getFill(),c=i.getStroke();if(u||c){const d=a.getBuilder(i.getZIndex(),"Circle");d.setFillStrokeStyle(u,c),d.drawCircle(t,s,r)}const h=i.getText();if(h&&h.getText()){const d=a.getBuilder(i.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s)}}function Q0(a,t,i,s,r,u,c,h){const d=[],m=i.getImage();if(m){let v=!0;const S=m.getImageState();S==pt.LOADED||S==pt.ERROR?v=!1:S==pt.IDLE&&m.load(),v&&d.push(m.ready())}const _=i.getFill();_&&_.loading()&&d.push(_.ready());const p=d.length>0;return p&&Promise.all(d).then(()=>r(null)),xR(a,t,i,s,u,c,h),p}function xR(a,t,i,s,r,u,c){const h=i.getGeometryFunction()(t);if(!h)return;const d=h.simplifyTransformed(s,r);if(i.getRenderer())xv(a,d,i,t,c);else{const _=Ev[d.getType()];_(a,d,i,t,c,u)}}function xv(a,t,i,s,r){if(t.getType()=="GeometryCollection"){const c=t.getGeometries();for(let h=0,d=c.length;h<d;++h)xv(a,c[h],i,s,r);return}a.getBuilder(i.getZIndex(),"Default").drawCustom(t,s,i.getRenderer(),i.getHitDetectionRenderer(),r)}function TR(a,t,i,s,r,u){const c=t.getGeometriesArray();let h,d;for(h=0,d=c.length;h<d;++h){const m=Ev[c[h].getType()];m(a,c[h],i,s,r,u)}}function CR(a,t,i,s,r){const u=i.getStroke();if(u){const h=a.getBuilder(i.getZIndex(),"LineString");h.setFillStrokeStyle(null,u),h.drawLineString(t,s,r)}const c=i.getText();if(c&&c.getText()){const h=a.getBuilder(i.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,r)}}function RR(a,t,i,s,r){const u=i.getStroke();if(u){const h=a.getBuilder(i.getZIndex(),"LineString");h.setFillStrokeStyle(null,u),h.drawMultiLineString(t,s,r)}const c=i.getText();if(c&&c.getText()){const h=a.getBuilder(i.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,r)}}function bR(a,t,i,s,r){const u=i.getFill(),c=i.getStroke();if(c||u){const d=a.getBuilder(i.getZIndex(),"Polygon");d.setFillStrokeStyle(u,c),d.drawMultiPolygon(t,s,r)}const h=i.getText();if(h&&h.getText()){const d=a.getBuilder(i.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s,r)}}function AR(a,t,i,s,r,u){const c=i.getImage(),h=i.getText(),d=h&&h.getText(),m=u&&c&&d?{}:void 0;if(c){if(c.getImageState()!=pt.LOADED)return;const _=a.getBuilder(i.getZIndex(),"Image");_.setImageStyle(c,m),_.drawPoint(t,s,r)}if(d){const _=a.getBuilder(i.getZIndex(),"Text");_.setTextStyle(h,m),_.drawText(t,s,r)}}function MR(a,t,i,s,r,u){const c=i.getImage(),h=c&&c.getOpacity()!==0,d=i.getText(),m=d&&d.getText(),_=u&&h&&m?{}:void 0;if(h){if(c.getImageState()!=pt.LOADED)return;const p=a.getBuilder(i.getZIndex(),"Image");p.setImageStyle(c,_),p.drawMultiPoint(t,s,r)}if(m){const p=a.getBuilder(i.getZIndex(),"Text");p.setTextStyle(d,_),p.drawText(t,s,r)}}function wR(a,t,i,s,r){const u=i.getFill(),c=i.getStroke();if(u||c){const d=a.getBuilder(i.getZIndex(),"Polygon");d.setFillStrokeStyle(u,c),d.drawPolygon(t,s,r)}const h=i.getText();if(h&&h.getText()){const d=a.getBuilder(i.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s,r)}}let OR=!1;function DR(a,t,i,s,r,u,c){const h=new XMLHttpRequest;h.open("GET",typeof a=="function"?a(i,s,r):a,!0),t.getType()=="arraybuffer"&&(h.responseType="arraybuffer"),h.withCredentials=OR,h.onload=function(d){if(!h.status||h.status>=200&&h.status<300){const m=t.getType();try{let _;m=="text"||m=="json"?_=h.responseText:m=="xml"?_=h.responseXML||h.responseText:m=="arraybuffer"&&(_=h.response),_?u(t.readFeatures(_,{extent:i,featureProjection:r}),t.readProjection(_)):c()}catch{c()}}else c()},h.onerror=c,h.send()}function J0(a,t){return function(i,s,r,u,c){DR(a,t,i,s,r,(h,d)=>{this.addFeatures(h),u!==void 0&&u(h)},()=>{this.changed(),c!==void 0&&c()})}}function LR(a,t){return[[-1/0,-1/0,1/0,1/0]]}function zR(a,t,i,s){const r=[];let u=Ln();for(let c=0,h=i.length;c<h;++c){const d=i[c];u=vd(a,t,d[0],s),r.push((u[0]+u[2])/2,(u[1]+u[3])/2),t=d[d.length-1]}return r}const $0=Hn();class Fn{constructor(t,i,s,r,u,c){this.styleFunction,this.extent_,this.id_=c,this.type_=t,this.flatCoordinates_=i,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=s||null,this.properties_=u,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?dp(this.flatCoordinates_):vd(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=el(this.getExtent());this.flatInteriorPoints_=Dd(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=xx(this.flatCoordinates_,this.ends_),i=zR(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=yx(this.flatCoordinates_,0,t,2,i)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=V0(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let i=0;const s=this.ends_;for(let r=0,u=s.length;r<u;++r){const c=s[r],h=V0(t,i,c,2,.5);yd(this.flatMidpoints_,h),i=c}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,i){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=$e(t);const i=t.getExtent(),s=t.getWorldExtent();if(i&&s){const r=Ye(s)/Ye(i);Di($0,s[0],s[3],r,-r,0,0,0),xs(this.flatCoordinates_,0,this.flatCoordinates_.length,2,$0,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var t;return new Fn(this.type_,this.flatCoordinates_.slice(),(t=this.ends_)==null?void 0:t.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=ap((t,i)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),i&&this.simplifiedGeometry_.applyTransform(i);const s=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":s.length=Od(s,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,s,0),r=[s.length];break;case"MultiLineString":r=[],s.length=gx(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,s,0,r);break;case"Polygon":r=[],s.length=Np(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),s,0,r);break}return r&&(this.simplifiedGeometry_=new Fn(this.type_,s,r,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}Fn.prototype.getFlatCoordinates=Fn.prototype.getOrientedFlatCoordinates;class tp{constructor(t){this.rbush_=new Kp(t),this.items_={}}insert(t,i){const s={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:i};this.rbush_.insert(s),this.items_[zt(i)]=s}load(t,i){const s=new Array(i.length);for(let r=0,u=i.length;r<u;r++){const c=t[r],h=i[r],d={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],value:h};s[r]=d,this.items_[zt(h)]=d}this.rbush_.load(s)}remove(t){const i=zt(t),s=this.items_[i];return delete this.items_[i],this.rbush_.remove(s)!==null}update(t,i){const s=this.items_[zt(i)],r=[s.minX,s.minY,s.maxX,s.maxY];Lr(r,t)||(this.remove(i),this.insert(t,i))}getAll(){return this.rbush_.all().map(function(i){return i.value})}getInExtent(t){const i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(i).map(function(r){return r.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,i){return this.forEach_(this.getInExtent(t),i)}forEach_(t,i){let s;for(let r=0,u=t.length;r<u;r++)if(s=i(t[r]),s)return s;return s}isEmpty(){return ma(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const i=this.rbush_.toJSON();return Cs(i.minX,i.minY,i.maxX,i.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const i in t.items_)this.items_[i]=t.items_[i]}}const Rn={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class ds extends Li{constructor(t,i,s){super(t),this.feature=i,this.features=s}}class IR extends pv{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=Dr,this.format_=t.format||null,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(Gt(this.format_,"`format` must be set when `url` is set"),this.loader_=J0(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:LR;const i=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=i?new tp:null,this.loadedExtentsRtree_=new tp,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let s,r;Array.isArray(t.features)?r=t.features:t.features&&(s=t.features,r=s.getArray()),!i&&s===void 0&&(s=new An(r)),r!==void 0&&this.addFeaturesInternal(r),s!==void 0&&this.bindFeaturesCollection_(s)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const i=zt(t);if(!this.addToIndex_(i,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(i,t);const s=t.getGeometry();if(s){const r=s.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[i]=t;this.dispatchEvent(new ds(Rn.ADDFEATURE,t))}setupChangeEvents_(t,i){i instanceof Fn||(this.featureChangeKeys_[t]=[Mt(i,St.CHANGE,this.handleFeatureChange_,this),Mt(i,ga.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,i){let s=!0;if(i.getId()!==void 0){const r=String(i.getId());if(!(r in this.idIndex_))this.idIndex_[r]=i;else if(i instanceof Fn){const u=this.idIndex_[r];u instanceof Fn?Array.isArray(u)?u.push(i):this.idIndex_[r]=[u,i]:s=!1}else s=!1}return s&&(Gt(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=i),s}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const i=[],s=[],r=[];for(let u=0,c=t.length;u<c;u++){const h=t[u],d=zt(h);this.addToIndex_(d,h)&&s.push(h)}for(let u=0,c=s.length;u<c;u++){const h=s[u],d=zt(h);this.setupChangeEvents_(d,h);const m=h.getGeometry();if(m){const _=m.getExtent();i.push(_),r.push(h)}else this.nullGeometryFeatures_[d]=h}if(this.featuresRtree_&&this.featuresRtree_.load(i,r),this.hasListener(Rn.ADDFEATURE))for(let u=0,c=s.length;u<c;u++)this.dispatchEvent(new ds(Rn.ADDFEATURE,s[u]))}bindFeaturesCollection_(t){let i=!1;this.addEventListener(Rn.ADDFEATURE,function(s){i||(i=!0,t.push(s.feature),i=!1)}),this.addEventListener(Rn.REMOVEFEATURE,function(s){i||(i=!0,t.remove(s.feature),i=!1)}),t.addEventListener(qe.ADD,s=>{i||(i=!0,this.addFeature(s.element),i=!1)}),t.addEventListener(qe.REMOVE,s=>{i||(i=!0,this.removeFeature(s.element),i=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const s in this.featureChangeKeys_)this.featureChangeKeys_[s].forEach(Vt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(s=>{this.removeFeatureInternal(s)});for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const i=new ds(Rn.CLEAR);this.dispatchEvent(i),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,i){const s=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(s,function(r){const u=r.getGeometry();if(u instanceof Fn||u.intersectsCoordinate(t))return i(r)})}forEachFeatureInExtent(t,i){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,i);this.featuresCollection_&&this.featuresCollection_.forEach(i)}forEachFeatureIntersectingExtent(t,i){return this.forEachFeatureInExtent(t,function(s){const r=s.getGeometry();if(r instanceof Fn||r.intersectsExtent(t)){const u=i(s);if(u)return u}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),ma(this.nullGeometryFeatures_)||yd(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const i=[];return this.forEachFeatureAtCoordinateDirect(t,function(s){i.push(s)}),i}getFeaturesInExtent(t,i){if(this.featuresRtree_){if(!(i&&i.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const r=pp(t,i);return[].concat(...r.map(u=>this.featuresRtree_.getInExtent(u)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,i){const s=t[0],r=t[1];let u=null;const c=[NaN,NaN];let h=1/0;const d=[-1/0,-1/0,1/0,1/0];return i=i||Or,this.featuresRtree_.forEachInExtent(d,function(m){if(i(m)){const _=m.getGeometry(),p=h;if(h=_ instanceof Fn?0:_.closestPointXY(s,r,c,h),h<p){u=m;const v=Math.sqrt(h);d[0]=s-v,d[1]=r-v,d[2]=s+v,d[3]=r+v}}}),u}getExtent(t){var i;return((i=this.featuresRtree_)==null?void 0:i.getExtent(t))??null}getFeatureById(t){const i=this.idIndex_[t.toString()];return i!==void 0?i:null}getFeatureByUid(t){const i=this.uidIndex_[t];return i!==void 0?i:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const i=t.target,s=zt(i),r=i.getGeometry();if(!r)s in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(i),this.nullGeometryFeatures_[s]=i);else{const c=r.getExtent();s in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[s],this.featuresRtree_&&this.featuresRtree_.insert(c,i)):this.featuresRtree_&&this.featuresRtree_.update(c,i)}const u=i.getId();if(u!==void 0){const c=u.toString();this.idIndex_[c]!==i&&(this.removeFromIdIndex_(i),this.idIndex_[c]=i)}else this.removeFromIdIndex_(i),this.uidIndex_[s]=i;this.changed(),this.dispatchEvent(new ds(Rn.CHANGEFEATURE,i))}hasFeature(t){const i=t.getId();return i!==void 0?i in this.idIndex_:zt(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&ma(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,i,s){const r=this.loadedExtentsRtree_,u=this.strategy_(t,i,s);for(let c=0,h=u.length;c<h;++c){const d=u[c];r.forEachInExtent(d,function(_){return aa(_.extent,d)})||(++this.loadingExtentsCount_,this.dispatchEvent(new ds(Rn.FEATURESLOADSTART)),this.loader_.call(this,d,i,s,_=>{--this.loadingExtentsCount_,this.dispatchEvent(new ds(Rn.FEATURESLOADEND,void 0,_))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new ds(Rn.FEATURESLOADERROR))}),r.insert(d,{extent:d.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const i=this.loadedExtentsRtree_,s=i.forEachInExtent(t,function(r){if(Lr(r.extent,t))return r});s&&i.remove(s)}removeFeatures(t){let i=!1;for(let s=0,r=t.length;s<r;++s)i=this.removeFeatureInternal(t[s])||i;i&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const i=zt(t);if(!(i in this.uidIndex_))return!1;i in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[i]:this.featuresRtree_&&this.featuresRtree_.remove(t);const s=this.featureChangeKeys_[i];s==null||s.forEach(Vt),delete this.featureChangeKeys_[i];const r=t.getId();if(r!==void 0){const u=r.toString(),c=this.idIndex_[u];c===t?delete this.idIndex_[u]:Array.isArray(c)&&(c.splice(c.indexOf(t),1),c.length===1&&(this.idIndex_[u]=c[0]))}return delete this.uidIndex_[i],this.hasListener(Rn.REMOVEFEATURE)&&this.dispatchEvent(new ds(Rn.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(const i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i];break}}setLoader(t){this.loader_=t}setUrl(t){Gt(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(J0(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}}const ut={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Ru=[ut.FILL],Es=[ut.STROKE],Js=[ut.BEGIN_PATH],ep=[ut.CLOSE_PATH];class Wr extends vv{constructor(t,i,s,r){super(),this.tolerance=t,this.maxExtent=i,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=s,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const i=this.pixelRatio;return i==1?t:t.map(function(s){return s*i})}appendFlatPointCoordinates(t,i){const s=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,u=this.coordinates;let c=u.length;for(let h=0,d=t.length;h<d;h+=i)r[0]=t[h],r[1]=t[h+1],_a(s,r)&&(u[c++]=r[0],u[c++]=r[1]);return c}appendFlatLineCoordinates(t,i,s,r,u,c){const h=this.coordinates;let d=h.length;const m=this.getBufferedMaxExtent();c&&(i+=r);let _=t[i],p=t[i+1];const v=this.tmpCoordinate_;let S=!0,x,C,R;for(x=i+r;x<s;x+=r)v[0]=t[x],v[1]=t[x+1],R=td(m,v),R!==C?(S&&(h[d++]=_,h[d++]=p,S=!1),h[d++]=v[0],h[d++]=v[1]):R===_e.INTERSECTING?(h[d++]=v[0],h[d++]=v[1],S=!1):S=!0,_=v[0],p=v[1],C=R;return(u&&S||x===i+r)&&(h[d++]=_,h[d++]=p),d}drawCustomCoordinates_(t,i,s,r,u){for(let c=0,h=s.length;c<h;++c){const d=s[c],m=this.appendFlatLineCoordinates(t,i,d,r,!1,!1);u.push(m),i=d}return i}drawCustom(t,i,s,r,u){this.beginGeometry(t,i,u);const c=t.getType(),h=t.getStride(),d=this.coordinates.length;let m,_,p,v,S;switch(c){case"MultiPolygon":m=t.getOrientedFlatCoordinates(),v=[];const x=t.getEndss();S=0;for(let C=0,R=x.length;C<R;++C){const T=[];S=this.drawCustomCoordinates_(m,S,x[C],h,T),v.push(T)}this.instructions.push([ut.CUSTOM,d,v,t,s,y0,u]),this.hitDetectionInstructions.push([ut.CUSTOM,d,v,t,r||s,y0,u]);break;case"Polygon":case"MultiLineString":p=[],m=c=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),S=this.drawCustomCoordinates_(m,0,t.getEnds(),h,p),this.instructions.push([ut.CUSTOM,d,p,t,s,Nu,u]),this.hitDetectionInstructions.push([ut.CUSTOM,d,p,t,r||s,Nu,u]);break;case"LineString":case"Circle":m=t.getFlatCoordinates(),_=this.appendFlatLineCoordinates(m,0,m.length,h,!1,!1),this.instructions.push([ut.CUSTOM,d,_,t,s,oa,u]),this.hitDetectionInstructions.push([ut.CUSTOM,d,_,t,r||s,oa,u]);break;case"MultiPoint":m=t.getFlatCoordinates(),_=this.appendFlatPointCoordinates(m,h),_>d&&(this.instructions.push([ut.CUSTOM,d,_,t,s,oa,u]),this.hitDetectionInstructions.push([ut.CUSTOM,d,_,t,r||s,oa,u]));break;case"Point":m=t.getFlatCoordinates(),this.coordinates.push(m[0],m[1]),_=this.coordinates.length,this.instructions.push([ut.CUSTOM,d,_,t,s,void 0,u]),this.hitDetectionInstructions.push([ut.CUSTOM,d,_,t,r||s,void 0,u]);break}this.endGeometry(i)}beginGeometry(t,i,s){this.beginGeometryInstruction1_=[ut.BEGIN_GEOMETRY,i,0,t,s],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ut.BEGIN_GEOMETRY,i,0,t,s],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let i;const s=t.length;let r,u,c=-1;for(i=0;i<s;++i)r=t[i],u=r[0],u==ut.END_GEOMETRY?c=i:u==ut.BEGIN_GEOMETRY&&(r[2]=i,QE(this.hitDetectionInstructions,c,i),c=-1)}fillStyleToState(t,i={}){if(t){const s=t.getColor();i.fillPatternScale=s&&typeof s=="object"&&"src"in s?this.pixelRatio:1,i.fillStyle=ni(s||We)}else i.fillStyle=void 0;return i}strokeStyleToState(t,i={}){if(t){const s=t.getColor();i.strokeStyle=ni(s||Ur);const r=t.getLineCap();i.lineCap=r!==void 0?r:pa;const u=t.getLineDash();i.lineDash=u?u.slice():wi;const c=t.getLineDashOffset();i.lineDashOffset=c||Oi;const h=t.getLineJoin();i.lineJoin=h!==void 0?h:va;const d=t.getWidth();i.lineWidth=d!==void 0?d:Xr;const m=t.getMiterLimit();i.miterLimit=m!==void 0?m:Gr;const _=t.getOffset();i.strokeOffset=_??tC,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0,i.strokeOffset=void 0;return i}setFillStrokeStyle(t,i){const s=this.state;this.fillStyleToState(t,s),this.strokeStyleToState(i,s)}createFill(t){const i=t.fillStyle,s=[ut.SET_FILL_STYLE,i];return typeof i!="string"&&s.push(t.fillPatternScale),s}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[ut.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,i){const s=t.fillStyle;(typeof s!="string"||t.currentFillStyle!=s)&&(this.instructions.push(i.call(this,t)),t.currentFillStyle=s)}updateStrokeStyle(t,i){const s=t.strokeStyle,r=t.lineCap,u=t.lineDash,c=t.lineDashOffset,h=t.lineJoin,d=t.lineWidth,m=t.miterLimit,_=t.strokeOffset;(t.currentStrokeStyle!=s||t.currentLineCap!=r||u!=t.currentLineDash&&!Rs(t.currentLineDash,u)||t.currentLineDashOffset!=c||t.currentLineJoin!=h||t.currentLineWidth!=d||t.currentMiterLimit!=m||t.currentStrokeOffset!=_)&&(i.call(this,t),t.currentStrokeStyle=s,t.currentLineCap=r,t.currentLineDash=u,t.currentLineDashOffset=c,t.currentLineJoin=h,t.currentLineWidth=d,t.currentMiterLimit=m,t.currentStrokeOffset=_)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const i=[ut.END_GEOMETRY,t];this.instructions.push(i),this.hitDetectionInstructions.push(i)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=cp(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;pd(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class NR extends Wr{constructor(t,i,s,r){super(t,i,s,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,i,s){if(!this.image_||this.maxExtent&&!_a(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,i,s);const r=t.getFlatCoordinates(),u=t.getStride(),c=this.coordinates.length,h=this.appendFlatPointCoordinates(r,u);this.instructions.push([ut.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ut.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(i)}drawMultiPoint(t,i,s){if(!this.image_)return;this.beginGeometry(t,i,s);const r=t.getFlatCoordinates(),u=[];for(let d=0,m=r.length;d<m;d+=t.getStride())(!this.maxExtent||_a(this.maxExtent,r.slice(d,d+2)))&&u.push(r[d],r[d+1]);const c=this.coordinates.length,h=this.appendFlatPointCoordinates(u,2);this.instructions.push([ut.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ut.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(i)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,i){const s=t.getAnchor(),r=t.getSize(),u=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=s[0],this.anchorY_=s[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=u[0],this.originY_=u[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=i}}class GR extends Wr{constructor(t,i,s,r){super(t,i,s,r)}drawFlatCoordinates_(t,i,s,r,u){const c=this.coordinates.length,h=this.appendFlatLineCoordinates(t,i,s,r,!1,!1);return this.instructions.push([ut.MOVE_TO_LINE_TO,c,h,u*this.pixelRatio]),this.hitDetectionInstructions.push([ut.MOVE_TO_LINE_TO,c,h,u]),s}drawLineString(t,i,s){const r=this.state,u=r.strokeStyle,c=r.lineWidth,h=r.strokeOffset;if(u===void 0||c===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,i,s),this.hitDetectionInstructions.push([ut.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,wi,Oi],Js);const d=t.getFlatCoordinates(),m=t.getStride();this.drawFlatCoordinates_(d,0,d.length,m,h),this.hitDetectionInstructions.push(Es),this.endGeometry(i)}drawMultiLineString(t,i,s){const r=this.state,u=r.strokeStyle,c=r.lineWidth,h=r.strokeOffset;if(u===void 0||c===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,i,s),this.hitDetectionInstructions.push([ut.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,wi,Oi],Js);const d=t.getEnds(),m=t.getFlatCoordinates(),_=t.getStride();let p=0;for(let v=0,S=d.length;v<S;++v)p=this.drawFlatCoordinates_(m,p,d[v],_,h);this.hitDetectionInstructions.push(Es),this.endGeometry(i)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Es),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(Es),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(Js)}}class np extends Wr{constructor(t,i,s,r){super(t,i,s,r)}drawFlatCoordinatess_(t,i,s,r,u){const c=this.state,h=c.fillStyle!==void 0,d=c.strokeStyle!==void 0,m=s.length;this.instructions.push(Js),this.hitDetectionInstructions.push(Js);for(let _=0;_<m;++_){const p=s[_],v=this.coordinates.length,S=this.appendFlatLineCoordinates(t,i,p,r,!0,!d);this.instructions.push([ut.MOVE_TO_LINE_TO,v,S,u*this.pixelRatio,!0]),this.hitDetectionInstructions.push([ut.MOVE_TO_LINE_TO,v,S,u,!0]),d&&(this.instructions.push(ep),this.hitDetectionInstructions.push(ep)),i=p}return h&&(this.instructions.push(Ru),this.hitDetectionInstructions.push(Ru)),d&&(this.instructions.push(Es),this.hitDetectionInstructions.push(Es)),i}drawCircle(t,i,s){const r=this.state,u=r.fillStyle,c=r.strokeStyle,h=r.strokeOffset;if(u===void 0&&c===void 0||this.handleStrokeOffset_(()=>this.drawCircle(t,i,s)))return;this.setFillStrokeStyles_(),this.beginGeometry(t,i,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ut.SET_FILL_STYLE,We]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ut.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,wi,Oi]);const d=t.getFlatCoordinates(),m=t.getStride(),_=this.coordinates.length;this.appendFlatLineCoordinates(d,0,d.length,m,!1,!1);const p=[ut.CIRCLE,_,h];this.instructions.push(Js,p),this.hitDetectionInstructions.push(Js,p),r.fillStyle!==void 0&&(this.instructions.push(Ru),this.hitDetectionInstructions.push(Ru)),r.strokeStyle!==void 0&&(this.instructions.push(Es),this.hitDetectionInstructions.push(Es)),this.endGeometry(i)}drawPolygon(t,i,s){const r=this.state,u=r.fillStyle,c=r.strokeStyle,h=r.strokeOffset;if(u===void 0&&c===void 0||this.handleStrokeOffset_(()=>this.drawPolygon(t,i,s)))return;this.setFillStrokeStyles_(),this.beginGeometry(t,i,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ut.SET_FILL_STYLE,We]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ut.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,wi,Oi]);const d=t.getEnds(),m=t.getOrientedFlatCoordinates(),_=t.getStride();this.drawFlatCoordinatess_(m,0,d,_,h),this.endGeometry(i)}drawMultiPolygon(t,i,s){const r=this.state,u=r.fillStyle,c=r.strokeStyle,h=r.strokeOffset;if(u===void 0&&c===void 0||this.handleStrokeOffset_(()=>this.drawMultiPolygon(t,i,s)))return;this.setFillStrokeStyles_(),this.beginGeometry(t,i,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ut.SET_FILL_STYLE,We]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ut.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,wi,Oi]);const d=t.getEndss(),m=t.getOrientedFlatCoordinates(),_=t.getStride();let p=0;for(let v=0,S=d.length;v<S;++v)p=this.drawFlatCoordinatess_(m,p,d[v],_,h);this.endGeometry(i)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const i=this.coordinates;for(let s=0,r=i.length;s<r;++s)i[s]=Ks(i[s],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;this.updateFillStyle(t,this.createFill),this.updateStrokeStyle(t,this.applyStroke)}handleStrokeOffset_(t){const i=this.state,s=i.fillStyle,r=i.strokeStyle,u=i.strokeOffset;return Math.abs(u)>0&&s!==void 0&&r!==void 0?(i.strokeStyle=void 0,i.strokeOffset=0,t(),i.fillStyle=void 0,i.strokeStyle=r,i.strokeOffset=u,t(),i.fillStyle=s,!0):!1}}function UR(a,t,i,s,r){const u=[];let c=i,h=0,d=t.slice(i,2);for(;h<a&&c+r<s;){const[m,_]=d.slice(-2),p=t[c+r],v=t[c+r+1],S=Math.sqrt((p-m)*(p-m)+(v-_)*(v-_));if(h+=S,h>=a){const x=(a-h+S)/S,C=bn(m,p,x),R=bn(_,v,x);d.push(C,R),u.push(d),d=[C,R],h==a&&(c+=r),h=0}else if(h<a)d.push(t[c+r],t[c+r+1]),c+=r;else{const x=S-h,C=bn(m,p,x/S),R=bn(_,v,x/S);d.push(C,R),u.push(d),d=[C,R],h=0,c+=r}}return h>0&&u.push(d),u}function YR(a,t,i,s,r){let u=i,c=i,h=0,d=0,m=i,_,p,v,S,x,C,R,T,w,D;for(p=i;p<s;p+=r){const M=t[p],z=t[p+1];x!==void 0&&(w=M-x,D=z-C,S=Math.sqrt(w*w+D*D),R!==void 0&&(d+=v,_=Math.acos((R*w+T*D)/(v*S)),_>a&&(d>h&&(h=d,u=m,c=p),d=0,m=p-r)),v=S,R=w,T=D),x=M,C=z}return d+=S,d>h?[m,p]:[u,c]}const Fu={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class XR extends Wr{constructor(t,i,s,r){super(t,i,s,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[We]={fillStyle:We},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,i,s){const r=this.textFillState_,u=this.textStrokeState_,c=this.textState_;if(this.text_===""||!c||!r&&!u)return;const h=this.coordinates;let d=h.length;const m=t.getType();let _=null,p=t.getStride();if(c.placement==="line"&&(m=="LineString"||m=="MultiLineString"||m=="Polygon"||m=="MultiPolygon")){if(!Qe(this.maxExtent,t.getExtent()))return;let v;if(_=t.getFlatCoordinates(),m=="LineString")v=[_.length];else if(m=="MultiLineString")v=t.getEnds();else if(m=="Polygon")v=t.getEnds().slice(0,1);else if(m=="MultiPolygon"){const R=t.getEndss();v=[];for(let T=0,w=R.length;T<w;++T)v.push(R[T][0])}this.beginGeometry(t,i,s);const S=c.repeat,x=S?void 0:c.textAlign;let C=0;for(let R=0,T=v.length;R<T;++R){let w;S?w=UR(S*this.resolution,_,C,v[R],p):w=[_.slice(C,v[R])];for(let D=0,M=w.length;D<M;++D){const z=w[D];let K=0,B=z.length;if(x==null){const j=YR(c.maxAngle,z,0,z.length,2);K=j[0],B=j[1]}for(let j=K;j<B;j+=p)h.push(z[j],z[j+1]);const V=h.length;C=v[R],this.drawChars_(d,V),d=V}}this.endGeometry(i)}else{let v=c.overflow?null:[];switch(m){case"Point":case"MultiPoint":_=t.getFlatCoordinates();break;case"LineString":_=t.getFlatMidpoint();break;case"Circle":_=t.getCenter();break;case"MultiLineString":_=t.getFlatMidpoints(),p=2;break;case"Polygon":_=t.getFlatInteriorPoint(),c.overflow||v.push(_[2]/this.resolution),p=3;break;case"MultiPolygon":const M=t.getFlatInteriorPoints();_=[];for(let z=0,K=M.length;z<K;z+=3)c.overflow||v.push(M[z+2]/this.resolution),_.push(M[z],M[z+1]);if(_.length===0)return;p=2;break}const S=this.appendFlatPointCoordinates(_,p);if(S===d)return;if(v&&(S-d)/2!==_.length/p){let M=d/2;v=v.filter((z,K)=>{const B=h[(M+K)*2]===_[K*p]&&h[(M+K)*2+1]===_[K*p+1];return B||--M,B})}this.saveTextStates_();const x=c.backgroundFill?this.createFill(this.fillStyleToState(c.backgroundFill)):null,C=c.backgroundStroke?this.createStroke(this.strokeStyleToState(c.backgroundStroke)):null;this.beginGeometry(t,i,s);let R=c.padding;if(R!=Qs&&(c.scale[0]<0||c.scale[1]<0)){let M=c.padding[0],z=c.padding[1],K=c.padding[2],B=c.padding[3];c.scale[0]<0&&(z=-z,B=-B),c.scale[1]<0&&(M=-M,K=-K),R=[M,z,K,B]}const T=this.pixelRatio;this.instructions.push([ut.DRAW_IMAGE,d,S,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,R==Qs?Qs:R.map(function(M){return M*T}),x,C,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]);const w=1/T,D=x?x.slice(0):null;D&&(D[1]=We),this.hitDetectionInstructions.push([ut.DRAW_IMAGE,d,S,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[w,w],NaN,this.declutterMode_,this.declutterImageWithText_,R,D,C,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?We:this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]),this.endGeometry(i)}}saveTextStates_(){const t=this.textStrokeState_,i=this.textState_,s=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const u=this.textKey_;u in this.textStates||(this.textStates[u]={font:i.font,textAlign:i.textAlign||Yr,justify:i.justify,textBaseline:i.textBaseline||Uu,scale:i.scale});const c=this.fillKey_;s&&(c in this.fillStates||(this.fillStates[c]={fillStyle:s.fillStyle}))}drawChars_(t,i){const s=this.textStrokeState_,r=this.textState_,u=this.strokeKey_,c=this.textKey_,h=this.fillKey_;this.saveTextStates_();const d=this.pixelRatio,m=Fu[r.textBaseline],_=this.textOffsetY_*d,p=this.text_,v=s?s.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([ut.DRAW_CHARS,t,i,m,r.overflow,h,r.maxAngle,d,_,u,v*d,p,c,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([ut.DRAW_CHARS,t,i,m,r.overflow,h&&We,r.maxAngle,d,_,u,v*d,p,c,1/d,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,i){let s,r,u;if(!t)this.text_="";else{const c=t.getFill();c?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=ni(c.getColor()||We)):(r=null,this.textFillState_=r);const h=t.getStroke();if(!h)u=null,this.textStrokeState_=u;else{u=this.textStrokeState_,u||(u={},this.textStrokeState_=u);const C=h.getLineDash(),R=h.getLineDashOffset(),T=h.getWidth(),w=h.getMiterLimit();u.lineCap=h.getLineCap()||pa,u.lineDash=C?C.slice():wi,u.lineDashOffset=R===void 0?Oi:R,u.lineJoin=h.getLineJoin()||va,u.lineWidth=T===void 0?Xr:T,u.miterLimit=w===void 0?Gr:w,u.strokeStyle=ni(h.getColor()||Ur)}s=this.textState_;const d=t.getFont()||$p;iC(d);const m=t.getScaleArray();s.overflow=t.getOverflow(),s.font=d,s.maxAngle=t.getMaxAngle(),s.placement=t.getPlacement(),s.textAlign=t.getTextAlign(),s.repeat=t.getRepeat(),s.justify=t.getJustify(),s.textBaseline=t.getTextBaseline()||Uu,s.backgroundFill=t.getBackgroundFill(),s.backgroundStroke=t.getBackgroundStroke(),s.padding=t.getPadding()||Qs,s.scale=m===void 0?[1,1]:m;const _=t.getOffsetX(),p=t.getOffsetY(),v=t.getRotateWithView(),S=t.getKeepUpright(),x=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=_===void 0?0:_,this.textOffsetY_=p===void 0?0:p,this.textRotateWithView_=v===void 0?!1:v,this.textKeepUpright_=S===void 0?!0:S,this.textRotation_=x===void 0?0:x,this.strokeKey_=u?(typeof u.strokeStyle=="string"?u.strokeStyle:zt(u.strokeStyle))+u.lineCap+u.lineDashOffset+"|"+u.lineWidth+u.lineJoin+u.miterLimit+"["+u.lineDash.join()+"]":"",this.textKey_=s.font+s.scale+(s.textAlign||"?")+(s.repeat||"?")+(s.justify||"?")+(s.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+zt(r.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=i}}const FR={Circle:np,Default:Wr,Image:NR,LineString:GR,Polygon:np,Text:XR};class BR{constructor(t,i,s,r){this.tolerance_=t,this.maxExtent_=i,this.pixelRatio_=r,this.resolution_=s,this.buildersByZIndex_={}}finish(){const t={};for(const i in this.buildersByZIndex_){t[i]=t[i]||{};const s=this.buildersByZIndex_[i];for(const r in s){const u=s[r].finish();t[i][r]=u}}return t}getBuilder(t,i){const s=t!==void 0?t.toString():"0";let r=this.buildersByZIndex_[s];r===void 0&&(r={},this.buildersByZIndex_[s]=r);let u=r[i];if(u===void 0){const c=FR[i];u=new c(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[i]=u}return u}}function HR(a,t,i,s,r,u,c,h,d,m,_,p,v=!0){let S=a[t],x=a[t+1],C=0,R=0,T=0,w=0;function D(){C=S,R=x,t+=s,S=a[t],x=a[t+1],w+=T,T=Math.sqrt((S-C)*(S-C)+(x-R)*(x-R))}do D();while(t<i-s&&w+T<u);let M=T===0?0:(u-w)/T;const z=bn(C,S,M),K=bn(R,x,M),B=t-s,V=w,j=u+h*d(m,r,_);for(;t<i-s&&w+T<j;)D();M=T===0?0:(j-w)/T;const J=bn(C,S,M),rt=bn(R,x,M);let it=!1;if(v)if(p){const k=[z,K,J,rt];Op(k,0,4,2,p,k,k),it=k[0]>k[2]}else it=z>J;const nt=Math.PI,ft=[],et=B+s===t;t=B,T=0,w=V,S=a[t],x=a[t+1];let I;if(et){D(),I=Math.atan2(x-R,S-C),it&&(I+=I>0?-nt:nt);const k=(J+z)/2,Q=(rt+K)/2;return ft[0]=[k,Q,(j-u)/2,I,r],ft}r=r.replace(/\n/g," ");for(let k=0,Q=r.length;k<Q;){D();let tt=Math.atan2(x-R,S-C);if(it&&(tt+=tt>0?-nt:nt),I!==void 0){let F=tt-I;if(F+=F>nt?-2*nt:F<-nt?2*nt:0,Math.abs(F)>c)return null}I=tt;const lt=k;let b=0;for(;k<Q;++k){const F=it?Q-k-1:k,dt=h*d(m,r[F],_);if(t+s<i&&w+T<u+b+dt/2)break;b+=dt}if(k===lt)continue;const Y=it?r.substring(Q-lt,Q-k):r.substring(lt,k);M=T===0?0:(u+b/2-w)/T;const W=bn(C,S,M),$=bn(R,x,M);ft.push([W,$,b/2,tt,Y]),u+=b}return ft}const ea=Ln(),gs=[],Ti=[],Ci=[],ms=[];function ip(a){return a[3].declutterBox}const sp=new RegExp("[-----]");function Vf(a,t){return t==="start"?t=sp.test(a)?"right":"left":t==="end"&&(t=sp.test(a)?"left":"right"),Fu[t]}function jR(a,t,i){return i>0&&a.push(`
`,""),a.push(t,""),a}function kR(a,t,i){return i%2===0&&(a+=t),a}class ZR{constructor(t,i,s,r,u){this.overlaps=s,this.pixelRatio=i,this.resolution=t,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=Hn(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=u?new dv:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,i,s,r){const u=t+i+s+r;if(this.labels_[u])return this.labels_[u];const c=r?this.strokeStates[r]:null,h=s?this.fillStates[s]:null,d=this.textStates[i],m=this.pixelRatio,_=[d.scale[0]*m,d.scale[1]*m],p=d.justify?Fu[d.justify]:Vf(Array.isArray(t)?t[0]:t,d.textAlign||Yr),v=r&&c.lineWidth?c.lineWidth:0,S=Array.isArray(t)?t:String(t).split(`
`).reduce(jR,[]),{width:x,height:C,widths:R,heights:T,lineWidths:w}=lC(d,S),D=x+v,M=[],z=(D+2)*_[0],K=(C+v)*_[1],B={width:z<0?Math.floor(z):Math.ceil(z),height:K<0?Math.floor(K):Math.ceil(K),contextInstructions:M};(_[0]!=1||_[1]!=1)&&M.push("scale",_),r&&(M.push("strokeStyle",c.strokeStyle),M.push("lineWidth",v),M.push("lineCap",c.lineCap),M.push("lineJoin",c.lineJoin),M.push("miterLimit",c.miterLimit),M.push("setLineDash",[c.lineDash]),M.push("lineDashOffset",c.lineDashOffset)),s&&M.push("fillStyle",h.fillStyle),M.push("textBaseline","middle"),M.push("textAlign","center");const V=.5-p;let j=p*D+V*v;const J=[],rt=[];let it=0,nt=0,ft=0,et=0,I;for(let k=0,Q=S.length;k<Q;k+=2){const tt=S[k];if(tt===`
`){nt+=it,it=0,j=p*D+V*v,++et;continue}const lt=S[k+1]||d.font;lt!==I&&(r&&J.push("font",lt),s&&rt.push("font",lt),I=lt),it=Math.max(it,T[ft]);const b=[tt,j+V*R[ft]+p*(R[ft]-w[et]),.5*(v+it)+nt];j+=R[ft],r&&J.push("strokeText",b),s&&rt.push("fillText",b),++ft}return Array.prototype.push.apply(M,J),Array.prototype.push.apply(M,rt),this.labels_[u]=B,B}replayTextBackground_(t,i,s,r,u,c,h){t.beginPath(),t.moveTo.apply(t,i),t.lineTo.apply(t,s),t.lineTo.apply(t,r),t.lineTo.apply(t,u),t.lineTo.apply(t,i),c&&(this.alignAndScaleFill_=c[2],t.fillStyle=c[1],this.fill_(t)),h&&(this.setStrokeStyle_(t,h),t.stroke())}calculateImageOrLabelDimensions_(t,i,s,r,u,c,h,d,m,_,p,v,S,x,C,R){h*=v[0],d*=v[1];let T=s-h,w=r-d;const D=u+m>t?t-m:u,M=c+_>i?i-_:c,z=x[3]+D*v[0]+x[1],K=x[0]+M*v[1]+x[2],B=T-x[3],V=w-x[0];(C||p!==0)&&(gs[0]=B,ms[0]=B,gs[1]=V,Ti[1]=V,Ti[0]=B+z,Ci[0]=Ti[0],Ci[1]=V+K,ms[1]=Ci[1]);let j;return p!==0?(j=Di(Hn(),s,r,1,1,p,-s,-r),ye(j,gs),ye(j,Ti),ye(j,Ci),ye(j,ms),Cs(Math.min(gs[0],Ti[0],Ci[0],ms[0]),Math.min(gs[1],Ti[1],Ci[1],ms[1]),Math.max(gs[0],Ti[0],Ci[0],ms[0]),Math.max(gs[1],Ti[1],Ci[1],ms[1]),ea)):Cs(Math.min(B,B+z),Math.min(V,V+K),Math.max(B,B+z),Math.max(V,V+K),ea),S&&(T=Math.round(T),w=Math.round(w)),{drawImageX:T,drawImageY:w,drawImageW:D,drawImageH:M,originX:m,originY:_,declutterBox:{minX:ea[0],minY:ea[1],maxX:ea[2],maxY:ea[3],value:R},canvasTransform:j,scale:v}}replayImageOrLabel_(t,i,s,r,u,c,h){const d=!!(c||h),m=r.declutterBox,_=h?h[2]*r.scale[0]/2:0;return m.minX-_<=i[0]&&m.maxX+_>=0&&m.minY-_<=i[1]&&m.maxY+_>=0&&(d&&this.replayTextBackground_(t,gs,Ti,Ci,ms,c,h),aC(t,r.canvasTransform,u,s,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(t){const i=this.alignAndScaleFill_;if(i){const s=ye(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(s[0]%r,s[1]%r),i!==1&&t.scale(i,i)}t.fill(),i&&t.restore()}setStrokeStyle_(t,i){t.strokeStyle=i[1],i[1]&&(t.lineWidth=i[2],t.lineCap=i[3],t.lineJoin=i[4],t.miterLimit=i[5],t.lineDashOffset=i[7],t.setLineDash(i[6]))}drawLabelWithPointPlacement_(t,i,s,r){const u=this.textStates[i],c=this.createLabel(t,i,r,s),h=this.strokeStates[s],d=this.pixelRatio,m=Vf(Array.isArray(t)?t[0]:t,u.textAlign||Yr),_=Fu[u.textBaseline||Uu],p=h&&h.lineWidth?h.lineWidth:0,v=c.width/d-2*u.scale[0],S=m*v+2*(.5-m)*p,x=_*c.height/d+2*(.5-_)*p;return{label:c,anchorX:S,anchorY:x}}execute_(t,i,s,r,u,c,h,d){const m=this.zIndexContext_;let _;this.pixelCoordinates_&&Rs(s,this.renderedTransform_)?_=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),_=xs(this.coordinates,0,this.coordinates.length,2,s,this.pixelCoordinates_),JS(this.renderedTransform_,s));let p=0;const v=r.length;let S=0,x,C,R,T,w,D,M,z,K,B,V,j,J,rt,it,nt,ft=0,et=0;const I=this.coordinateCache_,k=this.viewRotation_,Q=Math.round(Math.atan2(-s[1],s[0])*1e12)/1e12,tt={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:k},lt=this.instructions!=r||this.overlaps?0:200;let b,Y,W,$;for(;p<v;){const F=r[p];switch(F[0]){case ut.BEGIN_GEOMETRY:b=F[1],$=F[3],b.getGeometry()?h!==void 0&&!Qe(h,$.getExtent())?p=F[2]+1:++p:p=F[2],m&&(m.zIndex=F[4]);break;case ut.BEGIN_PATH:ft>lt&&(this.fill_(t),ft=0),et>lt&&(t.stroke(),et=0),!ft&&!et&&(t.beginPath(),z=NaN,K=NaN),++p;break;case ut.CIRCLE:S=F[1],T=F[2]??0;const gt=_[S],kt=_[S+1],wt=_[S+2]-T,ce=_[S+3]-T,Zn=wt-gt,Ii=ce-kt,Ni=Math.sqrt(Zn*Zn+Ii*Ii);t.moveTo(gt+Ni,kt),t.arc(gt,kt,Ni,0,2*Math.PI,!0),++p;break;case ut.CLOSE_PATH:t.closePath(),++p;break;case ut.CUSTOM:S=F[1],x=F[2];const zn=F[3],Xe=F[4],Le=F[5];tt.geometry=zn,tt.feature=b,p in I||(I[p]=[]);const fn=I[p];Le?Le(_,S,x,2,fn):(fn[0]=_[S],fn[1]=_[S+1],fn.length=2),m&&(m.zIndex=F[6]),Xe(fn,tt),++p;break;case ut.DRAW_IMAGE:S=F[1],x=F[2],j=F[3],C=F[4],R=F[5];let In=F[6];const Gi=F[7],si=F[8],Pn=F[9],al=F[10];let he=F[11];const ze=F[12];let rl=F[13];M=F[14]||"declutter";const Ui=F[15];if(!j&&F.length>=20){J=F[19],rt=F[20],it=F[21],nt=F[22];const be=this.drawLabelWithPointPlacement_(J,rt,it,nt);j=be.label,F[3]=j;const en=F[23];C=(be.anchorX-en)*this.pixelRatio,F[4]=C;const Fe=F[24];R=(be.anchorY-Fe)*this.pixelRatio,F[5]=R,In=j.height,F[6]=In,rl=j.width,F[13]=rl}let ol;F.length>25&&(ol=F[25]);let Yi,ul,bs;F.length>17?(Yi=F[16],ul=F[17],bs=F[18]):(Yi=Qs,ul=null,bs=null),al&&Q?he+=k:!al&&!Q&&(he-=k);let oc=0;for(;S<x;S+=2){if(ol&&ol[oc++]<rl/this.pixelRatio)continue;const be=this.calculateImageOrLabelDimensions_(j.width,j.height,_[S],_[S+1],rl,In,C,R,si,Pn,he,ze,u,Yi,!!ul||!!bs,b),en=[t,i,j,be,Gi,ul,bs];if(d){let Fe,nn,Ne;if(Ui){const Pt=x-S;if(!Ui[Pt]){Ui[Pt]={args:en,declutterMode:M};continue}const fe=Ui[Pt];Fe=fe.args,nn=fe.declutterMode,delete Ui[Pt],Ne=ip(Fe)}let dn,sn;if(Fe&&(nn!=="declutter"||!d.collides(Ne))&&(dn=!0),(M!=="declutter"||!d.collides(be.declutterBox))&&(sn=!0),nn==="declutter"&&M==="declutter"){const Pt=dn&&sn;dn=Pt,sn=Pt}dn&&(nn!=="none"&&d.insert(Ne),this.replayImageOrLabel_.apply(this,Fe)),sn&&(M!=="none"&&d.insert(be.declutterBox),this.replayImageOrLabel_.apply(this,en))}else this.replayImageOrLabel_.apply(this,en)}++p;break;case ut.DRAW_CHARS:const Qr=F[1],Xi=F[2],pe=F[3],Kn=F[4];nt=F[5];const Ie=F[6],Jr=F[7],$r=F[8];it=F[9];const Ta=F[10];J=F[11],Array.isArray(J)&&(J=J.reduce(kR,"")),rt=F[12];const As=[F[13],F[13]];M=F[14]||"declutter";const cl=F[15],Fi=this.textStates[rt],tn=Fi.font,qn=[Fi.scale[0]*Jr,Fi.scale[1]*Jr];let Nn;tn in this.widths_?Nn=this.widths_[tn]:(Nn={},this.widths_[tn]=Nn);const to=_R(_,Qr,Xi,2),Ca=Math.abs(qn[0])*z0(tn,J,Nn);if(Kn||Ca<=to){const be=this.textStates[rt].textAlign,en=(to-Ca)*Vf(J,be),Fe=HR(_,Qr,Xi,2,J,en,Ie,Math.abs(qn[0]),z0,tn,Nn,Q?0:this.viewRotation_,cl);t:if(Fe){const nn=[];let Ne,dn,sn,Pt,fe;if(it)for(Ne=0,dn=Fe.length;Ne<dn;++Ne){fe=Fe[Ne],sn=fe[4],Pt=this.createLabel(sn,rt,"",it),C=fe[2]+(qn[0]<0?-Ta:Ta),R=pe*Pt.height+(.5-pe)*2*Ta*qn[1]/qn[0]-$r;const gn=this.calculateImageOrLabelDimensions_(Pt.width,Pt.height,fe[0],fe[1],Pt.width,Pt.height,C,R,0,0,fe[3],As,!1,Qs,!1,b);if(d&&M==="declutter"&&d.collides(gn.declutterBox))break t;nn.push([t,i,Pt,gn,1,null,null])}if(nt)for(Ne=0,dn=Fe.length;Ne<dn;++Ne){fe=Fe[Ne],sn=fe[4],Pt=this.createLabel(sn,rt,nt,""),C=fe[2],R=pe*Pt.height-$r;const gn=this.calculateImageOrLabelDimensions_(Pt.width,Pt.height,fe[0],fe[1],Pt.width,Pt.height,C,R,0,0,fe[3],As,!1,Qs,!1,b);if(d&&M==="declutter"&&d.collides(gn.declutterBox))break t;nn.push([t,i,Pt,gn,1,null,null])}d&&M!=="none"&&d.load(nn.map(ip));for(let gn=0,Vn=nn.length;gn<Vn;++gn)this.replayImageOrLabel_.apply(this,nn[gn])}}++p;break;case ut.END_GEOMETRY:if(c!==void 0){b=F[1];const be=c(b,$,M);if(be)return be}++p;break;case ut.FILL:lt?ft++:this.fill_(t),++p;break;case ut.MOVE_TO_LINE_TO:for(S=F[1],x=F[2],T=F[3],w=F[4]??!1,Y=_[S],W=_[S+1],T&&(D=S,[Y,W]=Mu(Y,W,w?_[x-4]:void 0,w?_[x-3]:void 0,_[S+2],_[S+3],T)),t.moveTo(Y,W),z=Y+.5|0,K=W+.5|0,S+=2;S<x;S+=2)Y=_[S],W=_[S+1],B=Y+.5|0,V=W+.5|0,(S==x-2||B!==z||V!==K)&&(T&&(S==x-2?[Y,W]=Mu(Y,W,_[S-2],_[S-1],w?_[D+2]:void 0,w?_[D+3]:void 0,T):[Y,W]=Mu(Y,W,_[S-2],_[S-1],_[S+2],_[S+3],T)),t.lineTo(Y,W),z=B,K=V);++p;break;case ut.SET_FILL_STYLE:this.alignAndScaleFill_=F[2],ft&&(this.fill_(t),ft=0,et&&(t.stroke(),et=0)),t.fillStyle=F[1],++p;break;case ut.SET_STROKE_STYLE:et&&(t.stroke(),et=0),this.setStrokeStyle_(t,F),++p;break;case ut.STROKE:lt?et++:t.stroke(),++p;break;default:++p;break}}ft&&this.fill_(t),et&&t.stroke()}execute(t,i,s,r,u,c){this.viewRotation_=r,this.execute_(t,i,s,this.instructions,u,void 0,void 0,c)}executeHitDetection(t,i,s,r,u){return this.viewRotation_=s,this.execute_(t,[t.canvas.width,t.canvas.height],i,this.hitDetectionInstructions,!0,r,u)}}const qs=["Polygon","Circle","LineString","Image","Text","Default"],Tv=["Image","Text"],PR=qs.filter(a=>!Tv.includes(a));let Cv=!1,Rv=!1;function KR(){let a=0;const t=s=>{const r=re(1,1,null,{willReadFrequently:s});let u=0;const c=performance.now();for(;performance.now()-c<50;++u)r.fillStyle=`rgba(255,0,${u%256},1)`,r.fillRect(0,0,1,1),r.getImageData(0,0,1,1);return a=u>a?u:a,u};Cv={[t(!0)]:!0,[t(!1)]:!1,[t(void 0)]:void 0}[a],Rv=!0}class qR{constructor(t,i,s,r,u,c,h){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=s,this.resolution_=i,this.renderBuffer_=c,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Hn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(u,h)}clip(t,i){const s=this.getClipCoords(i);t.beginPath(),t.moveTo(s[0],s[1]),t.lineTo(s[2],s[3]),t.lineTo(s[4],s[5]),t.lineTo(s[6],s[7]),t.clip()}createExecutors_(t,i){for(const s in t){let r=this.executorsByZIndex_[s];r===void 0&&(r={},this.executorsByZIndex_[s]=r);const u=t[s];for(const c in u){const h=u[c];r[c]=new ZR(this.resolution_,this.pixelRatio_,this.overlaps_,h,i)}}}hasExecutors(t){for(const i in this.executorsByZIndex_){const s=this.executorsByZIndex_[i];for(let r=0,u=t.length;r<u;++r)if(t[r]in s)return!0}return!1}forEachFeatureAtCoordinate(t,i,s,r,u,c){Rv===!1&&KR(),r=Math.round(r);const h=r*2+1,d=Di(this.hitDetectionTransform_,r+.5,r+.5,1/i,-1/i,-s,-t[0],-t[1]),m=!this.hitDetectionContext_;m&&(this.hitDetectionContext_=re(h,h,null,{willReadFrequently:Cv}));const _=this.hitDetectionContext_;_.canvas.width!==h||_.canvas.height!==h?(_.canvas.width=h,_.canvas.height=h):m||_.clearRect(0,0,h,h);let p;this.renderBuffer_!==void 0&&(p=Ln(),Ar(p,t),pd(p,i*(this.renderBuffer_+r),p));const v=VR(r);let S;function x(z,K,B){const V=_.getImageData(0,0,h,h).data;for(let j=0,J=v.length;j<J;j++)if(V[v[j]]>0){if(!c||B==="none"||S!=="Image"&&S!=="Text"||c.includes(z)){const rt=(v[j]-3)/4,it=r-rt%h,nt=r-(rt/h|0),ft=u(z,K,it*it+nt*nt);if(ft)return ft}_.clearRect(0,0,h,h);break}}const C=Object.keys(this.executorsByZIndex_).map(Number);C.sort(Mi);let R,T,w,D,M;for(R=C.length-1;R>=0;--R){const z=C[R].toString();for(w=this.executorsByZIndex_[z],T=qs.length-1;T>=0;--T)if(S=qs[T],D=w[S],D!==void 0&&(M=D.executeHitDetection(_,d,s,x,p),M))return M}}getClipCoords(t){const i=this.maxExtent_;if(!i)return null;const s=i[0],r=i[1],u=i[2],c=i[3],h=[s,r,s,c,u,c,u,r];return xs(h,0,8,2,t,h),h}isEmpty(){return ma(this.executorsByZIndex_)}execute(t,i,s,r,u,c,h){const d=Object.keys(this.executorsByZIndex_).map(Number);d.sort(h?WE:Mi),c=c||qs;const m=qs.length;for(let _=0,p=d.length;_<p;++_){const v=d[_].toString(),S=this.executorsByZIndex_[v];for(let x=0,C=c.length;x<C;++x){const R=c[x],T=S[R];if(T!==void 0){const w=h===null?void 0:T.getZIndexContext(),D=w?w.getContext():t,M=this.maxExtent_&&R!=="Image"&&R!=="Text";if(M&&(D.save(),this.clip(D,s)),!w||R==="Text"||R==="Image"?T.execute(D,i,s,r,u,h):w.pushFunction(z=>T.execute(z,i,s,r,u,h)),M&&D.restore(),w){w.offset();const z=d[_]*m+qs.indexOf(R);this.deferredZIndexContexts_[z]||(this.deferredZIndexContexts_[z]=[]),this.deferredZIndexContexts_[z].push(w)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,i=Object.keys(t).map(Number).sort(Mi);for(let s=0,r=i.length;s<r;++s)t[i[s]].forEach(u=>{u.draw(this.renderedContext_),u.clear()}),t[i[s]].length=0}}const Wf={};function VR(a){if(Wf[a]!==void 0)return Wf[a];const t=a*2+1,i=a*a,s=new Array(i+1);for(let u=0;u<=a;++u)for(let c=0;c<=a;++c){const h=u*u+c*c;if(h>i)break;let d=s[h];d||(d=[],s[h]=d),d.push(((a+u)*t+(a+c))*4+3),u>0&&d.push(((a-u)*t+(a+c))*4+3),c>0&&(d.push(((a+u)*t+(a-c))*4+3),u>0&&d.push(((a-u)*t+(a-c))*4+3))}const r=[];for(let u=0,c=s.length;u<c;++u)s[u]&&r.push(...s[u]);return Wf[a]=r,r}const ei=.5;function WR(a,t,i,s,r,u,c,h,d){const m=r,_=a[0]*ei,p=a[1]*ei,v=re(_,p);v.imageSmoothingEnabled=!1;const S=v.canvas,x=new pR(v,ei,r,null,c,h,null),C=i.length,R=Math.floor((256*256*256-1)/C),T={};for(let D=1;D<=C;++D){const M=i[D-1],z=M.getStyleFunction()||s;if(!z)continue;let K=z(M,u);if(!K)continue;Array.isArray(K)||(K=[K]);const V=(D*R).toString(16).padStart(7,"#00000");for(let j=0,J=K.length;j<J;++j){const rt=K[j],it=rt.getGeometryFunction()(M);if(!it||!Qe(m,it.getExtent()))continue;const nt=rt.clone(),ft=nt.getFill();ft&&ft.setColor(V);const et=nt.getStroke();et&&(et.setColor(V),et.setLineDash(null)),nt.setText(void 0);const I=rt.getImage();if(I){const lt=I.getImageSize();if(!lt)continue;const b=re(lt[0],lt[1],void 0,{alpha:!1}),Y=b.canvas;b.fillStyle=V,b.fillRect(0,0,Y.width,Y.height),nt.setImage(new qr({img:Y,anchor:I.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:I.getOrigin(),opacity:1,size:I.getSize(),scale:I.getScale(),rotation:I.getRotation(),rotateWithView:I.getRotateWithView()}))}const k=nt.getZIndex()||0;let Q=T[k];Q||(Q={},T[k]=Q,Q.Polygon=[],Q.Circle=[],Q.LineString=[],Q.Point=[]);const tt=it.getType();if(tt==="GeometryCollection"){const lt=it.getGeometriesArrayRecursive();for(let b=0,Y=lt.length;b<Y;++b){const W=lt[b];Q[W.getType().replace("Multi","")].push(W,nt)}}else Q[tt.replace("Multi","")].push(it,nt)}}const w=Object.keys(T).map(Number).sort(Mi);for(let D=0,M=w.length;D<M;++D){const z=T[w[D]];for(const K in z){const B=z[K];for(let V=0,j=B.length;V<j;V+=2){x.setStyle(B[V+1]);for(let J=0,rt=t.length;J<rt;++J)x.setTransform(t[J]),x.drawGeometry(B[V])}}}return v.getImageData(0,0,S.width,S.height)}function QR(a,t,i){const s=[];if(i){const r=Math.floor(Math.round(a[0])*ei),u=Math.floor(Math.round(a[1])*ei),c=(Qt(r,0,i.width-1)+Qt(u,0,i.height-1)*i.width)*4,h=i.data[c],d=i.data[c+1],_=i.data[c+2]+256*(d+256*h),p=Math.floor((256*256*256-1)/t.length);_&&_%p===0&&s.push(t[_/p-1])}return s}class JR extends gv{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipExtent_=null,this.extendX_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Ln(),this.wrappedRenderedExtent_=Ln(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,i,s){const r=i.extent,u=i.viewState,c=u.center,h=u.resolution,d=u.projection,m=u.rotation,_=d.getExtent(),p=this.getLayer().getSource(),v=this.getLayer().getDeclutter(),S=i.pixelRatio,x=i.viewHints,C=!(x[De.ANIMATING]||x[De.INTERACTING]),R=this.context,T=Math.round(Ft(r)/h*S),w=Math.round(Ye(r)/h*S),D=p.getWrapX()&&d.canWrapX(),M=D?Ft(_):null,z=D?Math.ceil((r[2]-_[2])/M)+(this.extendX_?2:1):1;let K=D?Math.floor((r[0]-_[0])/M)-(this.extendX_?1:0):0;do{let B=this.getRenderTransform(c,h,0,S,T,w,K*M);i.declutter&&(B=B.slice(0)),t.execute(R,[R.canvas.width,R.canvas.height],B,m,C,s===void 0?qs:s?Tv:PR,s?v&&i.declutter[v]:void 0)}while(++K<z)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=re(this.context.canvas.width,this.context.canvas.height,P0))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,$u(this.context),P0.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.clipExtent_&&this.clipUnrotated(this.context,t,this.clipExtent_),this.replayGroup_.renderDeferred(),this.clipExtent_&&(this.context.restore(),this.clipExtent_=null),this.resetDrawContext_())}renderFrame(t,i){const s=t.layerStatesArray[t.layerIndex];this.opacity_=s.opacity;const r=t.viewState;this.prepareContainer(t,i);const u=this.context,c=this.replayGroup_;let h=c&&!c.isEmpty();if(!h&&!(this.getLayer().hasListener(wn.PRERENDER)||this.getLayer().hasListener(wn.POSTRENDER)))return this.container;this.setDrawContext_(),this.preRender(u,t),r.projection,this.clipExtent_=null;let d=!1;if(h&&s.extent&&this.clipping){const m=ps(s.extent);h=Qe(m,t.extent),h&&!aa(m,t.extent)&&(t.declutter?this.clipExtent_=m:(this.clipUnrotated(u,t,m),d=!0))}return h&&this.renderWorlds(c,t,this.getLayer().getDeclutter()?!1:void 0),d&&u.restore(),this.postRender(u,t),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(i=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const s=this.frameState.size.slice(),r=this.renderedCenter_,u=this.renderedResolution_,c=this.renderedRotation_,h=this.renderedProjection_,d=this.wrappedRenderedExtent_,m=this.getLayer(),_=[],p=s[0]*ei,v=s[1]*ei;_.push(this.getRenderTransform(r,u,c,ei,p,v,0).slice());const S=m.getSource(),x=h.getExtent();if(S.getWrapX()&&h.canWrapX()&&!aa(x,d)){let C=d[0];const R=Ft(x);let T=0,w;for(;C<x[0];)--T,w=R*T,_.push(this.getRenderTransform(r,u,c,ei,p,v,w).slice()),C+=R;for(T=0,C=d[2];C>x[2];)++T,w=R*T,_.push(this.getRenderTransform(r,u,c,ei,p,v,w).slice()),C-=R}this.hitDetectionImageData_=WR(s,_,this.renderedFeatures_,m.getStyleFunction(),d,u,c,W0(u,this.renderedPixelRatio_))}i(QR(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,i,s,r,u){var v,S;if(!this.replayGroup_)return;const c=i.viewState.resolution,h=i.viewState.rotation,d=this.getLayer(),m={},_=function(x,C,R){const T=zt(x),w=m[T];if(w){if(w!==!0&&R<w.distanceSq){if(R===0)return m[T]=!0,u.splice(u.lastIndexOf(w),1),r(x,d,C);w.geometry=C,w.distanceSq=R}}else{if(R===0)return m[T]=!0,r(x,d,C);u.push(m[T]={feature:x,layer:d,geometry:C,distanceSq:R,callback:r})}},p=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,c,h,s,_,p?(S=(v=i.declutter)==null?void 0:v[p])==null?void 0:S.all().map(x=>x.value):null)}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const i=this.getLayer(),s=i.getSource();if(!s)return!1;const r=t.viewHints[De.ANIMATING],u=t.viewHints[De.INTERACTING],c=i.getUpdateWhileAnimating(),h=i.getUpdateWhileInteracting();if(this.ready&&!c&&r||!h&&u)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const d=t.extent,m=t.viewState,_=m.projection,p=m.resolution,v=t.pixelRatio,S=i.getRevision(),x=i.getRenderBuffer();let C=i.getRenderOrder();C===void 0&&(C=ER);const R=m.center.slice(),T=pd(d,x*p),w=T.slice(),D=[T.slice()],M=_.getExtent(),z=s.getWrapX()&&_.canWrapX();if(this.extendX_=!1,z){const et=s.getExtent();et&&!kr(et)&&(this.extendX_=et[0]<M[0]||et[2]>M[2])}if(z&&(!aa(M,t.extent)||this.extendX_)){const et=Ft(M),I=Math.max(Ft(T)/2,et);let k=M[0],Q=M[2];this.extendX_&&(k-=et,Q+=et),T[0]=k-I,T[2]=Q+I,vp(R,_);const tt=yp(D[0],_);tt[0]<M[0]&&tt[2]<M[2]?D.push([tt[0]+et,tt[1],tt[2]+et,tt[3]]):tt[0]>M[0]&&tt[2]>M[2]&&D.push([tt[0]-et,tt[1],tt[2]-et,tt[3]])}if(this.ready&&this.renderedResolution_==p&&this.renderedPixelRatio_===v&&this.renderedRevision_==S&&this.renderedRenderOrder_==C&&this.renderedFrameDeclutter_===!!t.declutter&&aa(this.wrappedRenderedExtent_,T))return Rs(this.renderedExtent_,w)||(this.hitDetectionImageData_=null,this.renderedExtent_=w),this.renderedCenter_=R,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const K=new BR(Sv(p,v),T,p,v);let B;for(let et=0,I=D.length;et<I;++et)s.loadFeatures(D[et],p,_);const V=W0(p,v);let j=!0;const J=(et,I)=>{let k;const Q=et.getStyleFunction()||i.getStyleFunction();if(Q&&(k=Q(et,p)),k){const tt=this.renderFeature(et,V,k,K,B,this.getLayer().getDeclutter(),I);j=j&&!tt}},rt=Mp(T),it=s.getFeaturesInExtent(rt);C&&it.sort(C);for(let et=0,I=it.length;et<I;++et)J(it[et],et);this.renderedFeatures_=it,this.ready=j;const nt=K.finish(),ft=new qR(T,p,v,s.getOverlaps(),nt,i.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=p,this.renderedRevision_=S,this.renderedRenderOrder_=C,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=w,this.wrappedRenderedExtent_=T,this.renderedCenter_=R,this.renderedProjection_=_,this.renderedPixelRatio_=v,this.replayGroup_=ft,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,i,s,r,u,c,h){if(!s)return!1;let d=!1;if(Array.isArray(s))for(let m=0,_=s.length;m<_;++m)d=Q0(r,t,s[m],i,this.boundHandleStyleImageChange_,u,c,h)||d;else d=Q0(r,t,s,i,this.boundHandleStyleImageChange_,u,c,h);return d}}class $R extends rv{constructor(t){super(t)}createRenderer(){return new JR(this)}}const we={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class lp extends kn{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,this.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,this.element=document.createElement("div"),this.element.className=t.className!==void 0?t.className:"ol-overlay-container "+Lx,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=t.autoPan===!0?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(we.ELEMENT,this.handleElementChanged),this.addChangeListener(we.MAP,this.handleMapChanged),this.addChangeListener(we.OFFSET,this.handleOffsetChanged),this.addChangeListener(we.POSITION,this.handlePositionChanged),this.addChangeListener(we.POSITIONING,this.handlePositioningChanged),t.element!==void 0&&this.setElement(t.element),this.setOffset(t.offset!==void 0?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),t.position!==void 0&&this.setPosition(t.position)}getElement(){return this.get(we.ELEMENT)}getId(){return this.id}getMap(){return this.get(we.MAP)||null}getOffset(){return this.get(we.OFFSET)}getPosition(){return this.get(we.POSITION)}getPositioning(){return this.get(we.POSITIONING)}handleElementChanged(){Xp(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){var i;this.mapPostrenderListenerKey&&((i=this.element)==null||i.remove(),Vt(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=Mt(t,bi.POSTRENDER,this.render,this),this.updatePixelPosition();const s=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?s.insertBefore(this.element,s.childNodes[0]||null):s.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(we.ELEMENT,t)}setMap(t){this.set(we.MAP,t)}setOffset(t){this.set(we.OFFSET,t)}setPosition(t){this.set(we.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const i=this.getMap();if(!i||!i.getTargetElement()||!this.get(we.POSITION))return;const s=this.getRect(i.getTargetElement(),i.getSize()),r=this.getElement(),u=this.getRect(r,[Ix(r),Nx(r)]);t=t||{};const c=t.margin===void 0?20:t.margin;if(!aa(s,u)){const h=u[0]-s[0],d=s[2]-u[2],m=u[1]-s[1],_=s[3]-u[3],p=[0,0];if(h<0?p[0]=h-c:d<0&&(p[0]=Math.abs(d)+c),m<0?p[1]=m-c:_<0&&(p[1]=Math.abs(_)+c),p[0]!==0||p[1]!==0){const v=i.getView().getCenterInternal(),S=i.getPixelFromCoordinateInternal(v);if(!S)return;const x=[S[0]+p[0],S[1]+p[1]],C=t.animation||{};i.getView().animateInternal({center:i.getCoordinateFromPixelInternal(x),duration:C.duration,easing:C.easing})}}}getRect(t,i){const s=t.getBoundingClientRect(),r=s.left+window.pageXOffset,u=s.top+window.pageYOffset;return[r,u,r+i[0],u+i[1]]}setPositioning(t){this.set(we.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),i=this.getPosition();if(!t||!t.isRendered()||!i){this.setVisible(!1);return}const s=t.getPixelFromCoordinate(i),r=t.getSize();this.updateRenderedPosition(s,r)}updateRenderedPosition(t,i){const s=this.element.style,r=this.getOffset(),u=this.getPositioning();this.setVisible(!0);const c=`${t[0]+r[0]}px`,h=`${t[1]+r[1]}px`;let d="0%",m="0%";u=="bottom-right"||u=="center-right"||u=="top-right"?d="-100%":(u=="bottom-center"||u=="center-center"||u=="top-center")&&(d="-50%"),u=="bottom-left"||u=="bottom-center"||u=="bottom-right"?m="-100%":(u=="center-left"||u=="center-center"||u=="center-right")&&(m="-50%");const _=`translate(${d}, ${m}) translate(${c}, ${h})`;this.rendered.transform_!=_&&(this.rendered.transform_=_,s.transform=_)}getOptions(){return this.options}}const t2=[{id:1,name:"",coords:[115.03,35.76],description:"",images:[{url:"/travel-map/images/home.jpg",caption:""}],markerColor:"#FF5252"},{id:2,name:"&",coords:[102.71,25.04],description:"",images:[{url:"/travel-map/images/yunnan1.jpg",caption:""},{url:"/travel-map/images/yunnan2.jpg",caption:""},{url:"/travel-map/images/yunnan3.jpg",caption:""},{url:"/travel-map/images/yunnan4.jpg",caption:""},{url:"/travel-map/images/yunnan5.jpg",caption:""}]},{id:3,name:"",coords:[113.54,22.19],description:"Macau",images:[{url:"/travel-map/images/macau1.jpg",caption:"&"},{url:"/travel-map/images/macau2.jpg",caption:""}]},{id:4,name:"",coords:[114.17,22.32],description:"HONGKONG",images:[{url:"/travel-map/images/hongkong1.jpg",caption:"&"},{url:"/travel-map/images/hongkong2.jpg",caption:""},{url:"/travel-map/images/hongkong3.jpg",caption:""}]},{id:5,name:"",coords:[113.57,22.27],description:"",images:[{url:"/travel-map/images/zhuhai.jpg",caption:""}]},{id:6,name:"",coords:[118.08,24.47],description:"",images:[{url:"/travel-map/images/xiamen1.jpg",caption:""},{url:"/travel-map/images/xiamen2.jpg",caption:""},{url:"/travel-map/images/xiamen3.jpg",caption:""}]},{id:7,name:"",coords:[121.47,31.23],description:"",images:[{url:"/travel-map/images/shanghai1.jpg",caption:""},{url:"/travel-map/images/shanghai2.jpg",caption:""}]},{id:8,name:"",coords:[120.15,30.28],description:"",images:[{url:"/travel-map/images/hangzhou1.jpg",caption:""},{url:"/travel-map/images/hangzhou2.jpg",caption:""},{url:"/travel-map/images/hangzhou3.jpg",caption:""}]},{id:9,name:"",coords:[120.58,30.03],description:"",images:[{url:"/travel-map/images/shaoxing.jpg",caption:""}]},{id:10,name:"",coords:[120.09,30.89],description:"",images:[{url:"/travel-map/images/huzhou.jpg",caption:""}]},{id:11,name:"",coords:[139.65,35.68],description:"",images:[{url:"/travel-map/images/Japan1.jpg",caption:""},{url:"/travel-map/images/Japan2.jpg",caption:""},{url:"/travel-map/images/Japan3.jpg",caption:""},{url:"/travel-map/images/Japan4.jpg",caption:""}]},{id:12,name:"",coords:[113.62,34.74],description:"",images:[]},{id:13,name:"",coords:[118.8,32.05],description:"",images:[{url:"/travel-map/images/nanjing.heic",caption:""}]},{id:14,name:"",coords:[113.93,35.3],description:"",images:[]},{id:15,name:"",coords:[113.26,23.13],description:"",images:[{url:"/travel-map/images/guangzhou.jpg",caption:""}]}],Qf={places:t2};function e2(){const a=Me.useRef(null),t=Me.useRef(null),i=Me.useRef(null),s=Me.useRef(null),r=Me.useRef(null),[u,c]=Me.useState([]),[h,d]=Me.useState(null),[m,_]=Me.useState(null),[p,v]=Me.useState(null),[S,x]=Me.useState(0);Me.useEffect(()=>{Qf&&Qf.places&&c(Qf.places)},[]);const C=T=>T.images&&Array.isArray(T.images)?T.images:T.image?[{url:T.image,caption:""}]:[],R=T=>{const w=C(T);return w.length>0?w[0].url:null};return Me.useEffect(()=>{if(!a.current||t.current)return;const T=new IR;i.current=T;const w=new $R({source:T}),D=new AC({target:a.current,layers:[new qC({source:new gR}),w],view:new ti({center:Af([115.03,35.76]),zoom:5})});t.current=D;const M=document.createElement("div");M.className="ol-popup",M.style.display="none";const z=new lp({element:M,positioning:"bottom-center",stopEvent:!0,offset:[0,-50],autoPan:!1});D.addOverlay(z),s.current={overlay:z,element:M};const K=document.createElement("div");K.className="ol-hover-popup",K.style.display="none";const B=new lp({element:K,positioning:"bottom-center",stopEvent:!1,offset:[0,-50],autoPan:!1});return D.addOverlay(B),r.current={overlay:B,element:K},D.on("click",V=>{const j=D.forEachFeatureAtPixel(V.pixel,J=>J);if(j){j.get("id");const J=j.get("markerData");d(J),s.current&&s.current.overlay.setPosition(V.coordinate)}}),D.on("pointermove",V=>{const j=D.forEachFeatureAtPixel(V.pixel,J=>J);if(j){D.getTargetElement().style.cursor="pointer";const J=j.get("markerData");J&&r.current&&(_(J),r.current.overlay.setPosition(V.coordinate))}else D.getTargetElement().style.cursor="",_(null),r.current&&r.current.overlay.setPosition(void 0)}),()=>{D&&D.setTarget(null)}},[]),Me.useEffect(()=>{i.current&&(i.current.clear(),u.forEach(T=>{const w=new Jd({geometry:new Qu(Af(T.coords)),id:T.id,markerData:T}),M=`<svg width="32" height="40" xmlns="http://www.w3.org/2000/svg">
				<path d="M16 0C7.2 0 0 7.2 0 16c0 8.8 16 24 16 24s16-15.2 16-24c0-8.8-7.2-16-16-16z" 
					fill="${T.markerColor||"#2196F3"}" stroke="#FFFFFF" stroke-width="2"/>
				<circle cx="16" cy="16" r="6" fill="#FFFFFF"/>
			</svg>`;w.setStyle(new Ts({image:new qr({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(M),scale:1})})),i.current.addFeature(w)}))},[u]),Me.useEffect(()=>{if(!s.current)return;const{element:T,overlay:w}=s.current;if(h){const D=C(h),M=S<D.length?S:0;if(D.length>0){const K=D[M],B=D.length>1;T.innerHTML=`
					<div class="popup-content">
						<button class="popup-closer"></button>
						<h3>${h.name}</h3>
						<div class="image-gallery">
							<div class="gallery-main">
								<img src="${K.url}" alt="${h.name}" class="popup-image" data-action="preview" data-src="${K.url}" />
								${B?`
									<button class="gallery-nav gallery-prev" data-action="prev"></button>
									<button class="gallery-nav gallery-next" data-action="next"></button>
								`:""}
							</div>
							${K.caption?`<p class="image-caption">${K.caption}</p>`:""}
							${B?`
								<div class="gallery-dots">
									${D.map((V,j)=>`
										<span class="gallery-dot ${j===M?"active":""}" data-action="dot" data-index="${j}"></span>
									`).join("")}
								</div>
								<div class="gallery-counter">${M+1} / ${D.length}</div>
							`:""}
						</div>
						${h.description?`<p class="popup-description">${h.description}</p>`:""}
					</div>
				`}else T.innerHTML=`
					<div class="popup-content">
						<button class="popup-closer"></button>
						<h3>${h.name}</h3>
						${h.description?`<p class="popup-description">${h.description}</p>`:""}
					</div>
				`;const z=K=>{const B=K.target;if(B.classList.contains("popup-closer")){K.stopPropagation(),window.closePopup();return}if(B.dataset.action==="preview"){K.stopPropagation(),window.previewImage(B.dataset.src);return}if(B.dataset.action==="prev"||B.classList.contains("gallery-prev")){K.stopPropagation(),window.changeImage(-1);return}if(B.dataset.action==="next"||B.classList.contains("gallery-next")){K.stopPropagation(),window.changeImage(1);return}if(B.dataset.action==="dot"){K.stopPropagation(),window.setImageIndex(parseInt(B.dataset.index));return}};return T.addEventListener("click",z),T.addEventListener("touchend",z),T.style.display="block",()=>{T.removeEventListener("click",z),T.removeEventListener("touchend",z)}}else T.style.display="none",w.setPosition(void 0),x(0)},[h,S]),Me.useEffect(()=>{if(!r.current)return;const{element:T}=r.current;if(m){const w=C(m),D=w.length>0?w[0].url:null;T.innerHTML=`
        <div class="hover-popup-content">
          <h4>${m.name}</h4>
          ${D?`<img src="${D}" alt="${m.name}" class="hover-image" />`:""}
          ${m.description?`<p class="hover-description">${m.description}</p>`:""}
        </div>
      `,T.style.display="block"}else T.style.display="none"},[m]),Me.useEffect(()=>(window.closePopup=()=>{d(null)},window.previewImage=T=>{v(T)},window.changeImage=T=>{if(!h)return;const w=C(h);x(D=>{let M=D+T;return M<0&&(M=w.length-1),M>=w.length&&(M=0),M})},window.setImageIndex=T=>{x(T)},()=>{delete window.closePopup,delete window.previewImage,delete window.changeImage,delete window.setImageIndex}),[h]),me.jsxs("div",{className:"app-container",children:[me.jsxs("div",{className:"header",children:[me.jsx("h1",{children:" "}),me.jsx("p",{children:""})]}),me.jsx("div",{ref:a,className:"map-container"}),u.length>0&&me.jsxs("div",{className:"markers-list",children:[me.jsxs("h3",{children:[" (",u.length,")"]}),me.jsx("div",{className:"markers-scroll",children:u.map(T=>{const w=R(T);return me.jsxs("div",{className:"marker-item",onClick:()=>{t.current.getView().animate({center:Af(T.coords),zoom:10,duration:1e3})},children:[w&&me.jsx("img",{src:w,alt:T.name,className:"marker-thumb",onClick:D=>{D.stopPropagation(),v(w)}}),me.jsxs("div",{className:"marker-info",children:[me.jsx("strong",{children:T.name}),T.description&&me.jsx("small",{children:T.description.substring(0,50)})]})]},T.id)})})]}),p&&me.jsx("div",{className:"image-preview-overlay",onClick:()=>v(null),children:me.jsxs("div",{className:"image-preview-content",onClick:T=>T.stopPropagation(),children:[me.jsx("button",{className:"image-preview-close",onClick:()=>v(null),children:""}),me.jsx("img",{src:p,alt:"",className:"image-preview-large"})]})})]})}qE.createRoot(document.getElementById("root")).render(me.jsx(e2,{}));
